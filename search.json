[{"title":"adb inputæŒ‡ä»¤åˆé›†","url":"/2016/07/03/adb/adb%20input%E6%8C%87%E4%BB%A4%E5%90%88%E9%9B%86/","content":"adb inputæŒ‡ä»¤åˆé›†keyevent\n\n\né”®ä½\nç¼–å·\né”®ä½\nç¼–å·\n\n\n\nè¿”å›é”®\n4\nHOMEé”®\n3\n\n\néŸ³é‡+\n24\néŸ³é‡-\n25\n\n\nç”µæºé”®\n26\nå›è½¦é”®\n66\n\n\nèœå•é”®\n82\næ‹ç…§é”®\n27\n\n\n0-9æ•°å­—é”®\n7-16\nA-Zå­—æ¯é”®\n29-54\n\n\n\nè§£é”\ninput keyevent 82\n\nä¸Šæ»‘\ninput swipe 500 1000 500 300\n\nç‚¹å‡»æŸå¤„\ninput tap 300 500\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå‘½ä»¤å¯åŠ¨Activityç¦ç”¨APP","url":"/2016/02/08/adb/adb%E5%91%BD%E4%BB%A4%E5%90%AF%E5%8A%A8Activity%E7%A6%81%E7%94%A8APP/","content":"adbå‘½ä»¤å¯åŠ¨Activityç¦ç”¨APP\nå¯åŠ¨å‘½ä»¤ï¼šadb shell am start -n package&#x2F;launch activityä¾‹å¦‚ï¼š\nadb shell am start -n com.android.settings/.Settings\nå…³é—­å‘½ä»¤ï¼šadb shell am force-stop packageä¾‹å¦‚ï¼š\nadb shell am force-stop com.github.kolacbb.ids\n\nç¦ç”¨åº”ç”¨\nadb shell pm disable-user com.android.vendingadb shell pm enable com.android.vending\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¦‚ä½•åˆ·æ–°Captive Portalåœ°å€","url":"/2016/02/08/adb/adb%E5%A6%82%E4%BD%95%E5%88%B7%E6%96%B0Captive%20Portal%E5%9C%B0%E5%9D%80/","content":"adbå¦‚ä½•åˆ·æ–°Captive Portalåœ°å€ä»€ä¹ˆæ˜¯ Captive Portalï¼ŸCaptive Portal æ˜¯ä¸€ç§ç½‘ç»œæœºåˆ¶ï¼Œå¸¸è§äºå…¬å…± Wi-Fiï¼ˆå¦‚æœºåœºã€å’–å•¡é¦†ã€é…’åº—ç­‰ï¼‰ã€‚å½“ä½ è¿æ¥è¿™ç±» Wi-Fi åï¼Œé€šå¸¸ä¼šè¢«é‡å®šå‘åˆ°ä¸€ä¸ªç™»å½•æˆ–è®¤è¯é¡µé¢ï¼ˆæ¯”å¦‚éœ€è¦ç‚¹å‡»â€œåŒæ„æ¡æ¬¾â€æˆ–è¾“å…¥è´¦å·å¯†ç ï¼‰ï¼Œæ‰èƒ½è®¿é—®äº’è”ç½‘ã€‚\nAndroid éœ€è¦è‡ªåŠ¨åˆ¤æ–­å½“å‰ç½‘ç»œæ˜¯å¦å¤„äºè¿™ç§å—é™çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨çŠ¶æ€æ æ˜¾ç¤ºâ€œéœ€è¦ç™»å½•â€æç¤ºï¼Œå¹¶å¼•å¯¼ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨å®Œæˆè®¤è¯ã€‚\n\nhttp://captive.v2ex.co/generate_204 æ˜¯ä¸€ä¸ªå›½å†…å¯ç”¨ã€è¿”å›æ ‡å‡† HTTP 204 å“åº”çš„ç½‘ç»œæ£€æµ‹åœ°å€ï¼Œç”±V2EX æä¾›ï¼Œå¸¸ç”¨äºæ›¿ä»£ Google é»˜è®¤åœ°å€ï¼Œè§£å†³ Android åœ¨ä¸­å›½å¤§é™†ç­‰åœ°åŒºè¯¯æŠ¥â€œæ— ç½‘ç»œâ€çš„é—®é¢˜ã€‚\n\nåˆ é™¤é»˜è®¤çš„åœ°å€\nadb shell settings delete global captive_portal_https_urladb shell settings delete global captive_portal_http_url\n\nä¿®æ”¹æ–°çš„åœ°å€\nadb shell settings put global captive_portal_http_url http://captive.v2ex.co/generate_204adb shell settings put global captive_portal_https_url https://captive.v2ex.co/generate_204\n\næ”¹å®ŒåŒæ ·æŠŠæ‰‹æœºåˆ‡æ¢é£è¡Œæ¨¡å¼ï¼Œå†åˆ‡æ¢å›æ¥å°±å¯ä»¥äº†ã€‚å¦‚æœéœ€è¦å…¶å®ƒæœåŠ¡å™¨åœ°å€ï¼Œè‡ªè¡Œä¿®æ”¹ã€‚http://www.qualcomm.cn/generate_204ï¼ˆé«˜é€šä¸­å›½ï¼‰http://connect.rom.miui.com/generate_204ï¼ˆå°ç±³ï¼‰\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¦‚ä½•æŸ¥çœ‹apkåŒ…å","url":"/2016/02/08/adb/adb%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8Bapk%E5%8C%85%E5%90%8D/","content":"adbå¦‚ä½•æŸ¥çœ‹apkåŒ…å\nå·²å®‰è£…çš„apkï¼Œç‚¹å‡»æ‰“å¼€app\nadb shell dumpsys window | grep -E &quot;mCurrentFocus|mFocusedApp&quot;\næˆ–è€…\nadb shell dumpsys activity activities | grep -E &quot;ResumedActivity|FocusedActivity&quot;\nå®æ—¶æŸ¥çœ‹\nadb logcat | grep START\n\næœªå®‰è£…çš„apkæ–‡ä»¶\naapt dump badging app-release.apk\næˆ–è€…\naapt dump xmltree app-release.apk AndroidManifest.xml | findstr &quot;package&quot;\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¦‚ä½•æŸ¥çœ‹apkå¯†é’¥","url":"/2016/02/08/adb/adb%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8Bapk%E5%AF%86%E9%92%A5/","content":"adbå¦‚ä½•æŸ¥çœ‹apkå¯†é’¥\næ ¹æ®CERT.RSA\nkeytool -printcert -file CERT.RSA\n\næ ¹æ®jks\nkeytool -list -v -keystore platform.jks\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¦‚ä½•æŸ¥çœ‹æ—¥å¿—","url":"/2016/04/09/adb/adb%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97/","content":"adbå¦‚ä½•æŸ¥çœ‹æ—¥å¿—adb logcat æ˜¯ Android è°ƒè¯•æ¡¥ï¼ˆADBï¼‰å·¥å…·çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºä» Android è®¾å¤‡ä¸Šè·å–æ—¥å¿—æ•°æ®ã€‚è¿™äº›æ—¥å¿—åŒ…æ‹¬è®¾å¤‡ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿæœ¬èº«çš„è¾“å‡ºä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬çš„ adb logcat æŒ‡ä»¤åŠå…¶ç”¨æ³•ï¼š\næŸ¥çœ‹æ‰€æœ‰æ—¥å¿—adb logcat\n\næŸ¥çœ‹ç‰¹å®šç¼“å†²åŒºadb logcat -b mainadb logcat -b systemadb logcat -b radioadb logcat -b eventsadb logcat -b crash\n\næŒ‰æ ‡ç­¾è¿‡æ»¤adb logcat -s &quot;MyTag&quot;\n\næŒ‰çº§åˆ«è¿‡æ»¤ï¼ˆV&#x2F;D&#x2F;I&#x2F;W&#x2F;E&#x2F;F&#x2F;Sï¼‰adb logcat *:E\n\næ¸…é™¤æ—¥å¿—ç¼“å†²åŒºadb logcat -c\n\nä¿å­˜åˆ°æ–‡ä»¶adb logcat -f /sdcard/log.txt\n\n# 1. æ£€æŸ¥è®¾å¤‡è¿æ¥adb devices# 2. æ¸…é™¤æ—§æ—¥å¿—ï¼ˆå¯é€‰ï¼‰adb logcat -c# 3. å¼€å§‹è®°å½•å¸¦æ—¶é—´æˆ³çš„æ—¥å¿—åˆ°æ–‡ä»¶adb logcat -v time &gt; &quot;C:/Users/KalleNordehammar/Desktop/Android/log.txt&quot;\n\nå†…æ ¸æ—¥å¿—dmesgadb shell dmesgadb shell dmesg | grep -i error\n\næ–¹æ³•ä¸€ï¼šé€šè¿‡åŒ…åè¿‡æ»¤é¦–å…ˆï¼Œä½ éœ€è¦çŸ¥é“åº”ç”¨çš„åŒ…åã€‚ç„¶åå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥è¿‡æ»¤æ—¥å¿—è¾“å‡ºï¼š\nadb logcat | grep `adb shell pidof -s your.package.name`\n\nè¿™é‡Œå°† your.package.name æ›¿æ¢ä¸ºå®é™…çš„åº”ç”¨åŒ…åã€‚è¿™ä¸ªå‘½ä»¤ç»„åˆé¦–å…ˆé€šè¿‡ pidof -s your.package.name è·å–æŒ‡å®šåŒ…åçš„è¿›ç¨‹IDï¼Œç„¶åå°†å…¶ç»“æœç”¨äº logcat è¾“å‡ºçš„è¿‡æ»¤ã€‚\nç¤ºä¾‹ï¼šå¯ä»¥å°†ä¸Šè¿°ç»“åˆ\nadb logcat *:D | grep `adb shell pidof -s com.hansong.primarelinkhd`\n\næ–¹æ³•äºŒï¼šé€šè¿‡è¿›ç¨‹IDè¿‡æ»¤å¦‚æœä½ å·²ç»çŸ¥é“äº†ç›®æ ‡åº”ç”¨çš„è¿›ç¨‹IDï¼ˆPIDï¼‰ï¼Œå¯ä»¥ç›´æ¥ç”¨å®ƒæ¥è¿‡æ»¤æ—¥å¿—ï¼š\nadb logcat --pid=&lt;PID&gt;\n\nå°† &lt;PID&gt; æ›¿æ¢æˆä½ æƒ³è¦è·Ÿè¸ªçš„å®é™…è¿›ç¨‹IDã€‚è¿™æ˜¯æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹æ—¥å¿—æœ€ç›´æ¥çš„æ–¹æ³•ã€‚\næ–¹æ³•ä¸‰ï¼šä½¿ç”¨è¿‡æ»¤å™¨\nåŸºæœ¬å‘½ä»¤ï¼š\n\nåªéœ€åœ¨ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥ adb logcat å³å¯å¼€å§‹æŸ¥çœ‹è®¾å¤‡ä¸Šçš„å®æ—¶æ—¥å¿—è¾“å‡ºã€‚\n\n\nè¿‡æ»¤æ—¥å¿—çº§åˆ«ï¼š\n\næ—¥å¿—ä¿¡æ¯æœ‰ä¸åŒçš„çº§åˆ«ï¼šVï¼ˆVerboseï¼‰ã€Dï¼ˆDebugï¼‰ã€Iï¼ˆInfoï¼‰ã€Wï¼ˆWarningï¼‰ã€Eï¼ˆErrorï¼‰ã€Fï¼ˆFatalï¼‰ã€Sï¼ˆSilentï¼‰ã€‚å¯ä»¥é€šè¿‡æŒ‡å®šæ—¥å¿—çº§åˆ«æ¥è¿‡æ»¤è¾“å‡ºçš„ä¿¡æ¯ã€‚\nä¾‹å¦‚ï¼ŒåªæŸ¥çœ‹é”™è¯¯å’Œè‡´å‘½çº§åˆ«çš„æ—¥å¿—å¯ä»¥ä½¿ç”¨ï¼šadb logcat *:E\n\n\næ¸…é™¤æ—¥å¿—ç¼“å†²åŒºï¼š\n\nä½¿ç”¨ adb logcat -c å‘½ä»¤å¯ä»¥æ¸…é™¤è®¾å¤‡ä¸Šçš„æ—¥å¿—ç¼“å†²åŒºã€‚\n\n\næŸ¥çœ‹ç‰¹å®šæ ‡ç­¾çš„æ—¥å¿—ï¼š\n\nå¯ä»¥é€šè¿‡ -s é€‰é¡¹åŠ ä¸Š TAG æ¥ç­›é€‰ç‰¹å®šåº”ç”¨æˆ–æœåŠ¡çš„æ—¥å¿—è¾“å‡ºã€‚ä¾‹å¦‚ï¼šadb logcat -s MyApplicationTagã€‚\n\n\næ ¼å¼åŒ–è¾“å‡ºï¼š\n\nä½¿ç”¨ -v é€‰é¡¹å¯ä»¥é€‰æ‹©ä¸åŒçš„è¾“å‡ºæ ¼å¼ï¼Œå¦‚ timeã€threadã€long ç­‰ç­‰ã€‚ä¾‹å¦‚ï¼Œè¦æ·»åŠ æ—¶é—´æˆ³åˆ°æ—¥å¿—è¡Œä¸­ï¼Œå¯ä»¥ä½¿ç”¨ï¼šadb logcat -v timeã€‚\n\n\né‡å®šå‘è¾“å‡ºï¼š\n\nå¯ä»¥å°† adb logcat çš„è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ä»¥ä¾¿åç»­åˆ†æï¼šadb logcat &gt; my_logcat.txtã€‚\n\n\né€€å‡ºå®æ—¶æ—¥å¿—æ¨¡å¼ï¼š\n\nåœ¨å®æ—¶æŸ¥çœ‹æ—¥å¿—æ—¶ï¼Œå¯ä»¥æŒ‰ Ctrl+C æ¥é€€å‡ºå¹¶åœæ­¢æ—¥å¿—æŠ“å–ã€‚\n\n\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¦‚ä½•æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯","url":"/2016/02/08/adb/adb%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF/","content":"adbå¦‚ä½•æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯\nADBï¼Œå³ Android Debug Bridgeï¼Œå®ƒæ˜¯ Android å¼€å‘&#x2F;æµ‹è¯•äººå‘˜ä¸å¯æ›¿ä»£çš„å¼ºå¤§å·¥å…·ï¼Œä¹Ÿæ˜¯ Android è®¾å¤‡ç©å®¶çš„å¥½ç©å…·ã€‚\n\n\n[å‹å·]\nadb shell getprop ro.product.model\n\n[ç”µæ± çŠ¶å†µ]\nadb shell dumpsys battery\nå…¶ä¸­ scale ä»£è¡¨æœ€å¤§ç”µé‡ï¼Œlevel ä»£è¡¨å½“å‰ç”µé‡ã€‚ä¸Šé¢çš„è¾“å‡ºè¡¨ç¤ºè¿˜å‰©ä¸‹ 44% çš„ç”µé‡ã€‚\n\n[å±å¹•åˆ†è¾¨ç‡]\nadb shell wm size\n\n[å±å¹•å¯†åº¦]\nadb shell wm density\n\n[æ˜¾ç¤ºå±å‚æ•°]\nadb shell dumpsys window displays\nå…¶ä¸­ mDisplayId ä¸º æ˜¾ç¤ºå±ç¼–å·ï¼Œinit æ˜¯åˆå§‹åˆ†è¾¨ç‡å’Œå±å¹•å¯†åº¦ï¼Œapp çš„é«˜åº¦æ¯” init é‡Œçš„è¦å°ï¼Œè¡¨ç¤ºå±å¹•åº•éƒ¨æœ‰è™šæ‹ŸæŒ‰é”®ï¼Œé«˜åº¦ä¸º 1920 - 1794 &#x3D; 126px åˆ 42dpã€‚\n\n[android_id]\nadb shell settings get secure android_id\n\n[IMEI]åœ¨ Android 4.4 åŠä»¥ä¸‹ç‰ˆæœ¬å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤è·å– IMEIï¼š\nadb shell dumpsys iphonesubinfo\nå…¶ä¸­çš„ Device ID å°±æ˜¯ IMEIã€‚\n\n\nè€Œåœ¨ Android 5.0 åŠä»¥ä¸Šç‰ˆæœ¬é‡Œè¿™ä¸ªå‘½ä»¤è¾“å‡ºä¸ºç©ºï¼Œå¾—é€šè¿‡å…¶å®ƒæ–¹å¼è·å–äº†ï¼ˆéœ€è¦ root æƒé™ï¼‰ï¼š\nadb shellsuservice call iphonesubinfo 1\næŠŠé‡Œé¢çš„æœ‰æ•ˆå†…å®¹æå–å‡ºæ¥å°±æ˜¯ IMEI äº†ï¼Œæ¯”å¦‚è¿™é‡Œçš„æ˜¯ 860955027785041ã€‚\n\n[Android ç³»ç»Ÿç‰ˆæœ¬]\nadb shell getprop ro.build.version.release\n\n[IP åœ°å€]\nadb shell ifconfig | grep Maskadb shell ifconfig wlan0adb shell netcfg\n\n[Mac åœ°å€]\nadb shell cat /sys/class/net/wlan0/address\n\n[CPU ä¿¡æ¯]\nadb shell cat /proc/cpuinfo\n\n[å†…å­˜ä¿¡æ¯]\nadb shell cat /proc/meminfo\nå…¶ä¸­ï¼ŒMemTotal å°±æ˜¯è®¾å¤‡çš„æ€»å†…å­˜ï¼ŒMemFree æ˜¯å½“å‰ç©ºé—²å†…å­˜ã€‚\n\n[æ›´å¤šç¡¬ä»¶ä¸ç³»ç»Ÿå±æ€§]è®¾å¤‡çš„æ›´å¤šç¡¬ä»¶ä¸ç³»ç»Ÿå±æ€§å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š\nadb shell cat /system/build.prop\nè¿™ä¼šè¾“å‡ºå¾ˆå¤šä¿¡æ¯ï¼ŒåŒ…æ‹¬å‰é¢å‡ ä¸ªå°èŠ‚æåˆ°çš„ã€Œå‹å·ã€å’Œã€ŒAndroid ç³»ç»Ÿç‰ˆæœ¬ã€ç­‰ã€‚è¾“å‡ºé‡Œè¿˜åŒ…æ‹¬ä¸€äº›å…¶å®ƒæœ‰ç”¨çš„ä¿¡æ¯ï¼Œå®ƒä»¬ä¹Ÿå¯é€šè¿‡ adb shell getprop &lt;å±æ€§å&gt; å‘½ä»¤å•ç‹¬æŸ¥çœ‹ï¼Œåˆ—ä¸¾ä¸€éƒ¨åˆ†å±æ€§å¦‚ä¸‹ï¼š\n\n\nå±æ€§å\tå«ä¹‰ro.build.version.sdk\tSDK ç‰ˆæœ¬ro.build.version.release\tAndroid ç³»ç»Ÿç‰ˆæœ¬ro.build.version.security_patch\tAndroid å®‰å…¨è¡¥ä¸ç¨‹åºçº§åˆ«ro.product.model\tå‹å·ro.product.brand\tå“ç‰Œro.product.name\tè®¾å¤‡åro.product.board\tå¤„ç†å™¨å‹å·ro.product.cpu.abilist\tCPU æ”¯æŒçš„ abi åˆ—è¡¨[èŠ‚æ³¨ä¸€]persist.sys.isUsbOtgEnabled\tæ˜¯å¦æ”¯æŒ OTGdalvik.vm.heapsize\tæ¯ä¸ªåº”ç”¨ç¨‹åºçš„å†…å­˜ä¸Šé™ro.sf.lcd_density\tå±å¹•å¯†åº¦\n\nä¸€äº›å°å‚å®šåˆ¶çš„ ROM å¯èƒ½ä¿®æ”¹è¿‡ CPU æ”¯æŒçš„ abi åˆ—è¡¨çš„å±æ€§åï¼Œå¦‚æœç”¨ ro.product.cpu.abilist å±æ€§åæŸ¥æ‰¾ä¸åˆ°ï¼Œå¯ä»¥\nadb shell cat /system/build.prop | grep ro.product.cpu.abi\n\nè·å–å½“å‰éŸ³é‡\nadb shell cmd media_session volume --stream 3 --get\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbæŸ¥çœ‹æœåŠ¡åˆ—è¡¨","url":"/2016/08/27/adb/adb%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8/","content":"adbæŸ¥çœ‹æœåŠ¡åˆ—è¡¨adb shell service list\n\nadbæŸ¥çœ‹å½“å‰è¿è¡Œçš„æœåŠ¡åœ¨ Android å¼€å‘å’Œè°ƒè¯•ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ adb (Android Debug Bridge) å‘½ä»¤ç»“åˆ dumpsys å·¥å…·æ¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­è¿è¡Œçš„æœåŠ¡ã€‚æœ€å¸¸ç”¨å’Œæœ‰æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨ dumpsys activity services å‘½ä»¤ã€‚\nğŸ”§ æ ¸å¿ƒå‘½ä»¤adb shell dumpsys activity services [PACKAGE_NAME]\n\nè¯¦ç»†è¯´æ˜ï¼š\næŸ¥çœ‹æ‰€æœ‰è¿è¡Œçš„æœåŠ¡ï¼š\nadb shell dumpsys activity services\n\nè¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Service çš„è¯¦ç»†ä¿¡æ¯ï¼Œå†…å®¹éå¸¸å¤šã€‚\nè¾“å‡ºä¼šæŒ‰åŒ…åï¼ˆSERVICE è¡Œï¼‰å’Œè¿›ç¨‹è¿›è¡Œåˆ†ç»„ã€‚\nä¿¡æ¯åŒ…æ‹¬ï¼šæœåŠ¡åç§°ã€è¿›ç¨‹ ID (PID)ã€å¯åŠ¨çŠ¶æ€ï¼ˆstarted=true/falseï¼‰ã€ç»‘å®šä¿¡æ¯ï¼ˆconnectionsï¼‰ã€åˆ›å»ºæ—¶é—´ç­‰ã€‚\n\n\næŸ¥çœ‹ç‰¹å®šåº”ç”¨åŒ…åä¸‹çš„æœåŠ¡ï¼š\nadb shell dumpsys activity services com.example.myapp\n\nå°† com.example.myapp æ›¿æ¢ä¸ºä½ çš„ç›®æ ‡åº”ç”¨åŒ…åã€‚\nè¿™ä¼šè¿‡æ»¤è¾“å‡ºï¼Œåªæ˜¾ç¤ºè¯¥åº”ç”¨åŒ…åä¸‹çš„æœåŠ¡ï¼Œä¿¡æ¯æ›´é›†ä¸­ï¼Œæ›´å®¹æ˜“æŸ¥æ‰¾ã€‚\n\n\næŸ¥çœ‹ç‰¹å®šæœåŠ¡ï¼š\nadb shell dumpsys activity services com.example.myapp/.MyServiceName\n\næŒ‡å®šå®Œæ•´çš„ç»„ä»¶åï¼ˆåŒ…å + æœåŠ¡ç±»åï¼‰å¯ä»¥ç²¾ç¡®æŸ¥æ‰¾æŸä¸ªæœåŠ¡ã€‚\n\n\n\n\nğŸ§© ç¤ºä¾‹è¾“å‡ºè§£ææ‰§è¡Œ adb shell dumpsys activity services com.example.myapp åï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºç‰‡æ®µï¼š\nUSER 0 UID 10123 (userId=0) Running services:  User 0 active services:  * ServiceRecord&#123;1a2b3c4d u0 com.example.myapp/.BookManagerService&#125;    intent=&#123;cmp=com.example.myapp/.BookManagerService&#125;    packageName=com.example.myapp    processName=com.example.myapp:remote  &lt;-- æœåŠ¡è¿è¡Œçš„è¿›ç¨‹    baseDir=/data/app/~~xxx==/com.example.myapp-xxx==/base.apk    dataDir=/data/user/0/com.example.myapp    app=ProcessRecord&#123;5f6g7h8i 12345:com.example.myapp:remote/u0a123&#125; &lt;-- è¿›ç¨‹è®°å½•å’Œ PID    createTime=-1m23s456ms lastActivityTime=-1m23s456ms    started=true  &lt;-- å…³é”®ï¼šæœåŠ¡æ˜¯å¦å·²å¯åŠ¨    startRequested=true    stopIfKilled=false    callStart=true    lastStartId=1    connections:  // &lt;-- å…³é”®ï¼šæ˜¯å¦æœ‰ç»„ä»¶ç»‘å®šåˆ°æ­¤æœåŠ¡      ConnectionRecord&#123;9j0k1l2m u0 &#123;1n3p4q5r&#125; -&gt; &#123;1a2b3c4d com.example.myapp/.BookManagerService&#125;&#125;    bindingCount=1    lastUnbind=null    ...\n\nå…³é”®ä¿¡æ¯è§£è¯»ï¼š\n\ncom.example.myapp/.BookManagerService: æ­£åœ¨è¿è¡Œçš„æœåŠ¡å…¨åã€‚\nprocessName=com.example.myapp:remote: æœåŠ¡è¿è¡Œåœ¨åä¸º :remote çš„ç‹¬ç«‹è¿›ç¨‹ä¸­ï¼ˆè¿™åœ¨ AIDL åœºæ™¯ä¸­å¾ˆå¸¸è§ï¼‰ã€‚\nstarted=true: è¡¨ç¤ºè¯¥æœåŠ¡å·²è¢« startService() æˆ– bindService() å¯åŠ¨ã€‚\nconnections: æˆ– bindingCount=1: è¡¨ç¤ºæœ‰å®¢æˆ·ç«¯ï¼ˆå¦‚ Activityï¼‰é€šè¿‡ bindService() æˆåŠŸç»‘å®šäº†æ­¤æœåŠ¡ã€‚è¿™æ˜¯éªŒè¯ AIDL æœåŠ¡æ˜¯å¦è¢«æ­£ç¡®ä½¿ç”¨çš„å…³é”®æŒ‡æ ‡ã€‚\n\n\nğŸ” å…¶ä»–è¾…åŠ©å‘½ä»¤è™½ç„¶ dumpsys activity services æ˜¯æœ€ç›´æ¥çš„ï¼Œä½†ä»¥ä¸‹å‘½ä»¤æœ‰æ—¶ä¹Ÿæœ‰ç”¨ï¼š\n\nadb shell ps | grep &lt;package_name&gt;:\n\næŸ¥çœ‹ç‰¹å®šåŒ…åç›¸å…³çš„è¿›ç¨‹ã€‚\nå¦‚æœä½ çš„æœåŠ¡è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ï¼ˆå¦‚ :remoteï¼‰ï¼Œä½ ä¼šçœ‹åˆ°é¢å¤–çš„è¿›ç¨‹ã€‚\nç¤ºä¾‹ï¼šadb shell ps -A | grep com.example.myapp\n\n\nadb shell dumpsys activity processes &lt;package_name&gt;:\n\næŸ¥çœ‹ç‰¹å®šåº”ç”¨çš„è¿›ç¨‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹çŠ¶æ€ã€å†…å­˜ç­‰ï¼Œå¯ä»¥é—´æ¥ç¡®è®¤æœåŠ¡è¿›ç¨‹æ˜¯å¦å­˜åœ¨ã€‚\n\n\nadb logcat | grep -i service:\n\nå®æ—¶æŸ¥çœ‹ Logcat ä¸­ä¸ Service ç›¸å…³çš„æ—¥å¿—ï¼ŒæœåŠ¡å¯åŠ¨ (onCreate, onBind)ã€ç»‘å®š (Bound to)ã€è§£ç»‘ (Unbound from) ç­‰äº‹ä»¶é€šå¸¸ä¼šæœ‰æ—¥å¿—è¾“å‡ºã€‚\n\n\n\n\nâœ… æ€»ç»“è¦æŸ¥çœ‹å½“å‰è¿è¡Œçš„ Serviceï¼Œ**é¦–é€‰å‘½ä»¤æ˜¯ adb shell dumpsys activity services [package_name]**ã€‚\n\nä½¿ç”¨åŒ…åè¿‡æ»¤ (com.example.myapp) å¯ä»¥å¿«é€Ÿå®šä½ç›®æ ‡åº”ç”¨çš„æœåŠ¡ã€‚\né‡ç‚¹å…³æ³¨è¾“å‡ºä¸­çš„ started=true å’Œ connections (æˆ– bindingCount) å­—æ®µï¼Œå®ƒä»¬èƒ½æ˜ç¡®å‘Šè¯‰ä½ æœåŠ¡æ˜¯å¦åœ¨è¿è¡Œä»¥åŠæ˜¯å¦æœ‰å®¢æˆ·ç«¯ç»‘å®šã€‚\nç»“åˆ ps å‘½ä»¤å¯ä»¥ç¡®è®¤æœåŠ¡æ˜¯å¦åœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­è¿è¡Œã€‚\n\n","categories":["ADB"],"tags":["adb"]},{"title":"adbå¸¸ç”¨æŒ‡ä»¤","url":"/2016/09/08/adb/adb%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"adbå¸¸ç”¨æŒ‡ä»¤é‡å¯ -pæ˜¯å…³æœºadb shell reboot -p\n\nWIFI\næ‰“å¼€&#x2F;å…³é—­wifi\nadb shell svc wifi enable/disable\n\nè¿›å…¥wifiåˆ—è¡¨é¡µé¢\nadb shell am start -a android.settings.WIFI_SETTINGS\n\nå¼ºåˆ¶æ¨ªå±adb shell settings put system user_rotation 3\n\n1. è®¾å¤‡è¿æ¥çŠ¶æ€adb devices\n\næ˜¾ç¤ºå½“å‰é€šè¿‡ USB æˆ–ç½‘ç»œè¿æ¥çš„æ‰€æœ‰è®¾å¤‡åŠå…¶çŠ¶æ€ï¼ˆå¦‚ deviceã€offlineã€unauthorizedï¼‰ã€‚\n\n\n2. è®¾å¤‡å‹å·ä¸å‚å•†ä¿¡æ¯adb shell getprop ro.product.model      # è®¾å¤‡å‹å·adb shell getprop ro.product.manufacturer  # åˆ¶é€ å•†adb shell getprop ro.product.brand      # å“ç‰Œadb shell getprop ro.build.version.release  # Android ç‰ˆæœ¬ï¼ˆå¦‚ 13ï¼‰adb shell getprop ro.build.version.sdk      # SDK ç‰ˆæœ¬å·ï¼ˆå¦‚ 33ï¼‰adb shell getprop ro.build.display.id   # æ„å»ºç‰ˆæœ¬å·ï¼ˆBuild IDï¼‰adb shell getprop ro.serialno           # è®¾å¤‡åºåˆ—å·ï¼ˆéƒ¨åˆ†è®¾å¤‡æ”¯æŒï¼‰\n\n\n3. è®¾å¤‡å”¯ä¸€æ ‡è¯†adb shell settings get secure android_id  # Android IDï¼ˆæ¯å°è®¾å¤‡å”¯ä¸€ï¼Œåº”ç”¨æ²™ç›’å†…å¯è§ï¼‰\n\næ³¨æ„ï¼šIMEIã€MAC åœ°å€ç­‰æ•æ„Ÿä¿¡æ¯åœ¨è¾ƒæ–° Android ç‰ˆæœ¬ä¸­å—é™ï¼Œæ™®é€š ADB shell æ— æ³•ç›´æ¥è·å–ï¼ˆéœ€ root æˆ–ç‰¹æ®Šæƒé™ï¼‰ã€‚\n\n\n4. å±å¹•ä¸æ˜¾ç¤ºä¿¡æ¯adb shell wm size        # å±å¹•åˆ†è¾¨ç‡ï¼ˆå¦‚ 1080x1920ï¼‰adb shell wm density     # å±å¹•å¯†åº¦ï¼ˆdpiï¼Œå¦‚ 420ï¼‰adb shell dumpsys display | grep mDisplayInfo  # æ›´è¯¦ç»†çš„æ˜¾ç¤ºä¿¡æ¯\n\n\n5. ç”µæ± ä¿¡æ¯adb shell dumpsys battery\n\næ˜¾ç¤ºç”µæ± çŠ¶æ€ï¼ˆå……ç”µçŠ¶æ€ã€ç”µé‡ç™¾åˆ†æ¯”ã€å¥åº·åº¦ã€ç”µå‹ç­‰ï¼‰ã€‚\n\n\n6. å†…å­˜ä¸å­˜å‚¨adb shell cat /proc/meminfo          # å†…å­˜ä¿¡æ¯ï¼ˆæ€»å†…å­˜ã€å¯ç”¨å†…å­˜ç­‰ï¼‰adb shell df                         # å­˜å‚¨åˆ†åŒºä½¿ç”¨æƒ…å†µadb shell df /data                   # æŸ¥çœ‹/dataåˆ†åŒºadb shell cat /proc/partitions       # åˆ†åŒºåˆ—è¡¨\n\n\n7. CPU ä¸æ¶æ„adb shell cat /proc/device-tree/model# Socå‹å·adb shell cat /proc/cpuinfo          # CPU è¯¦ç»†ä¿¡æ¯ï¼ˆæ ¸å¿ƒæ•°ã€æ¶æ„ã€é¢‘ç‡ç­‰ï¼‰adb shell getprop ro.product.cpu.abi # ä¸» ABIï¼ˆå¦‚ arm64-v8aï¼‰\n\n\n8. ç½‘ç»œä¿¡æ¯adb shell ifconfig                   # ç½‘ç»œæ¥å£ä¿¡æ¯ï¼ˆIPã€MAC ç­‰ï¼Œéƒ¨åˆ†è®¾å¤‡éœ€ busyboxï¼‰adb shell ip addr                    # è¾ƒæ–°è®¾å¤‡æ¨èä½¿ç”¨ ip å‘½ä»¤adb shell netstat                    # ç½‘ç»œè¿æ¥çŠ¶æ€\n\n\n9. ç³»ç»Ÿè¿è¡Œæ—¶é—´ä¸å¯åŠ¨ä¿¡æ¯adb shell uptime                     # ç³»ç»Ÿå·²è¿è¡Œæ—¶é—´adb shell getprop sys.boot_completed # æ˜¯å¦å·²å®Œæˆå¯åŠ¨ï¼ˆ1 è¡¨ç¤ºå®Œæˆï¼‰\n\n\n10. å·²å®‰è£…åº”ç”¨åˆ—è¡¨adb shell pm list packages           # æ‰€æœ‰å·²å®‰è£…åŒ…åadb shell pm list packages -3        # ä»…ç¬¬ä¸‰æ–¹åº”ç”¨\n\n\n11. è®¾å¤‡æ—¥å¿—ï¼ˆLogcatï¼‰adb logcat                           # å®æ—¶è¾“å‡ºç³»ç»Ÿæ—¥å¿—ï¼ˆéœ€æƒé™ï¼‰\n\nè¦é€šè¿‡ ADB æŸ¥çœ‹ Android è®¾å¤‡å½“å‰å¯åŠ¨äº†å“ªäº›æœåŠ¡ï¼ˆrunning servicesï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚æ³¨æ„ï¼šAndroid ä¸­çš„â€œæœåŠ¡â€é€šå¸¸æŒ‡ ç³»ç»ŸæœåŠ¡ï¼ˆsystem servicesï¼‰ æˆ– åº”ç”¨å±‚çš„ Service ç»„ä»¶ï¼ˆrunning app servicesï¼‰ï¼Œä¸¤è€…æŸ¥çœ‹æ–¹å¼ä¸åŒã€‚\n\nâœ… ä¸€ã€æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„ åº”ç”¨å±‚ Serviceï¼ˆApp Servicesï¼‰è¿™æ˜¯æœ€å¸¸è§çš„éœ€æ±‚ï¼šæƒ³çŸ¥é“å“ªäº› App çš„ Service æ­£åœ¨è¿è¡Œã€‚\nå‘½ä»¤ï¼šadb shell dumpsys activity services\n\nè¯´æ˜ï¼š\nè¾“å‡ºæ‰€æœ‰å½“å‰æ´»è·ƒçš„ ActivityManager ç®¡ç†çš„æœåŠ¡ã€‚\nåŒ…å«æœåŠ¡æ‰€å±åŒ…åã€ç±»åã€å¯åŠ¨æ–¹å¼ï¼ˆstartService &#x2F; bindï¼‰ã€è¿›ç¨‹ PIDã€è¿è¡ŒçŠ¶æ€ç­‰ã€‚\nå¯é…åˆ grep è¿‡æ»¤ç‰¹å®šåŒ…ï¼šadb shell dumpsys activity services | grep -A 10 -B 2 &quot;com.example.app&quot;\n\n\nâš ï¸ æ³¨æ„ï¼šä» Android 8.0ï¼ˆAPI 26ï¼‰å¼€å§‹ï¼Œåå°æœåŠ¡é™åˆ¶åŠ å¼ºï¼Œå¾ˆå¤šæœåŠ¡å¯èƒ½ä¸ä¼šé•¿æœŸè¿è¡Œã€‚\n\n\nâœ… äºŒã€æŸ¥çœ‹ç³»ç»Ÿçº§ ç³»ç»ŸæœåŠ¡ï¼ˆSystem Servicesï¼‰è¿™äº›æ˜¯ Android Framework å±‚çš„æœåŠ¡ï¼Œå¦‚ activity, package, battery, location ç­‰ã€‚\nåˆ—å‡ºæ‰€æœ‰å·²æ³¨å†Œçš„ç³»ç»ŸæœåŠ¡ï¼šadb shell service list\n\nè¾“å‡ºç¤ºä¾‹ï¼šFound 150 services:0       sip: [android.net.sip.ISipService]1       phone: [com.android.internal.telephony.ITelephony]2       isms: [com.android.internal.telephony.ISms]...149     graphicsstats: [android.ui.IGraphicsStats]\n\n\næ¯è¡Œæ ¼å¼ï¼šåºå· æœåŠ¡å: [æ¥å£]\nè¿™äº›æœåŠ¡ç”± ServiceManager ç®¡ç†ï¼Œæ˜¯ Binder é€šä¿¡çš„åŸºç¡€ã€‚\n\n\nâœ… ä¸‰ã€æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„ è¿›ç¨‹ï¼ˆProcessesï¼‰è™½ç„¶ä¸æ˜¯â€œæœåŠ¡â€ï¼Œä½†å¾ˆå¤šæœåŠ¡è¿è¡Œåœ¨è¿›ç¨‹ä¸­ï¼Œå¯è¾…åŠ©åˆ¤æ–­ï¼š\nadb shell ps -A          # æ‰€æœ‰è¿›ç¨‹ï¼ˆè¾ƒæ–°è®¾å¤‡ï¼‰adb shell ps             # æ—§ç‰ˆ Androidadb shell ps | grep com.your.package\n\næˆ–æ›´è¯¦ç»†åœ°ï¼š\nadb shell ps -ef\n\n\nâœ… å››ã€ç»“åˆ dumpsys æŸ¥çœ‹ç‰¹å®šæœåŠ¡çŠ¶æ€ä½ å¯ä»¥æŸ¥çœ‹æŸä¸ªå…·ä½“ç³»ç»ŸæœåŠ¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚ï¼š\nadb shell dumpsys activity          # Activity å’Œ Service çŠ¶æ€adb shell dumpsys package           # åŒ…ç®¡ç†æœåŠ¡ä¿¡æ¯adb shell dumpsys battery           # ç”µæ± æœåŠ¡adb shell dumpsys location          # å®šä½æœåŠ¡adb shell dumpsys alarm             # AlarmManager æœåŠ¡\n\n\nğŸ”’ æƒé™è¯´æ˜ï¼š\nä¸Šè¿°å‘½ä»¤ä¸éœ€è¦ rootï¼Œä½†éƒ¨åˆ†è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚æŸäº›ç§æœ‰æœåŠ¡å†…éƒ¨çŠ¶æ€ï¼‰å¯èƒ½å—é™ã€‚\nåœ¨ Android 10+ ä¸­ï¼Œéè°ƒè¯•ç‰ˆç³»ç»Ÿå¯¹ dumpsys çš„è¾“å‡ºåšäº†éšç§é™åˆ¶ï¼ˆå¦‚éšè—å…¶ä»–åº”ç”¨çš„æ•æ„Ÿä¿¡æ¯ï¼‰ã€‚\n\n\nğŸ“Œ æ€»ç»“\n\n\nç›®æ ‡\nå‘½ä»¤\n\n\n\næŸ¥çœ‹ App çš„ Service æ˜¯å¦åœ¨è¿è¡Œ\nadb shell dumpsys activity services\n\n\næŸ¥çœ‹æ‰€æœ‰ç³»ç»ŸæœåŠ¡åˆ—è¡¨\nadb shell service list\n\n\næŸ¥çœ‹æŸç³»ç»ŸæœåŠ¡è¯¦ç»†çŠ¶æ€\nadb shell dumpsys &lt;service_name&gt;\n\n\næŸ¥çœ‹è¿›ç¨‹ï¼ˆè¾…åŠ©åˆ¤æ–­ï¼‰\nadb shell ps -A\n\n\n","categories":["ADB"],"tags":["adb"]},{"title":"Repo uploadçš„ç»†èŠ‚","url":"/2017/09/13/git/Repo%20upload%E7%9A%84%E7%BB%86%E8%8A%82/","content":"Repo uploadçš„ç»†èŠ‚git config --get remote.gerrit.review\n\nè¾“å‡ºï¼š\nssh://gerrit\nè¦æ­£ç¡®è®¾ç½®review url\nåˆ°åº•åº”è¯¥æ˜¯SSHè¿˜æ˜¯HTTPï¼Ÿï¼Ÿï¼Ÿcd ~/falconrepo forall -c &#x27;git config --replace-all remote.gerrit.review http://10.10.1.127:30090/&#x27;\n\nç„¶åéªŒè¯ï¼š\ncd prebuilts/sdkgit config --get remote.gerrit.review\n\nâœ… åº”è¯¥è¾“å‡ºï¼š\nhttp://10.10.1.127:30090/\n\n\nğŸ” å»ºè®®å¯¹ cust/app/orion-sipclient ä¹Ÿæ‰§è¡Œä¸€æ¬¡éªŒè¯å’Œä¿®å¤ï¼\n\n\nğŸ§  ä¸ºä»€ä¹ˆ review URL å¿…é¡»æ˜¯ HTTPï¼Œä¸èƒ½æ˜¯ SSHï¼Ÿå› ä¸ºï¼š\n\ncommit-msg hook æ˜¯ä» http://.../tools/hooks/commit-msg ä¸‹è½½çš„\nGerrit Web UI é“¾æ¥æ˜¯ http://.../c/12345\nREST API ä¹Ÿæ˜¯ HTTP\nSSH åªç”¨äº git push/fetch\n\nâ†’ æ‰€ä»¥ review= å¿…é¡»æ˜¯ HTTP(S) åœ°å€\n\nâœ… æœ€ä½³å®è·µæ€»ç»“ï¼ˆæ”¶è—å¤‡ç”¨ï¼‰\n\n\næ“ä½œ\nå‘½ä»¤\n\n\n\nè®¾ç½® review URL\nrepo forall -c &#39;git config remote.gerrit.review http://10.10.1.127:30090/&#39;\n\n\néªŒè¯ review URL\ngit config --get remote.gerrit.review\n\n\nè®¾ç½®åˆ†æ”¯è·Ÿè¸ª\ngit branch --set-upstream-to=gerrit/master &lt;branch&gt;\n\n\næŸ¥çœ‹åˆ†æ”¯çŠ¶æ€\ngit branch -vv\n\n\nä¸Šä¼ ä»£ç \nrepo upload &lt;project-path&gt;/\n\n\n\nğŸš€ ä¸‹ä¸€æ­¥ä½ å¯ä»¥åšï¼š\næ‰“å¼€æµè§ˆå™¨è®¿é—® Gerrit é“¾æ¥ï¼š\nhttp://10.10.1.127:30090/c/xpert/platform/android/x511/prebuilts/sdk/+/57301\n\nâ†’ ç™»å½•åå¯ä»¥æ·»åŠ  Reviewerã€è¯„è®ºã€æäº¤åˆå¹¶ï¼\n\nç¡®ä¿æ‰€æœ‰é¡¹ç›®éƒ½ä¿®å¤äº† review URLï¼š\nrepo forall -c &#x27;echo $(pwd) &amp;&amp; git config --get remote.gerrit.review&#x27;\n\nâ†’ æ‰€æœ‰é¡¹ç›®éƒ½åº”è¯¥è¾“å‡º http://10.10.1.127:30090/\n\nä»¥åæ–°å»ºåˆ†æ”¯æ—¶ï¼Œè®°å¾—åŸºäºè¿œç¨‹åˆ†æ”¯åˆ›å»ºï¼š\ngit checkout -b my-feature gerrit/master\n\n","categories":["Repo"],"tags":["git"]},{"title":"Flutterå¸¸ç”¨æŒ‡ä»¤","url":"/2018/04/02/flutter/Flutter%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"Flutterå¸¸ç”¨æŒ‡ä»¤Flutter çš„å¸¸ç”¨æŒ‡ä»¤ä¸»è¦åˆ†ä¸º å¼€å‘å·¥å…·å‘½ä»¤ï¼ˆflutter å‘½ä»¤è¡Œï¼‰å’Œ Dart å·¥å…·å‘½ä»¤ï¼ˆdart å‘½ä»¤è¡Œï¼‰ï¼Œä»¥ä¸‹æ˜¯æ ¸å¿ƒæŒ‡ä»¤æ•´ç†ï¼š\nä¸€ã€Flutter å¸¸ç”¨å‘½ä»¤1. é¡¹ç›®åˆ›å»ºä¸è¿è¡Œ\nåˆ›å»ºæ–°é¡¹ç›®  flutter create &lt;é¡¹ç›®åç§°&gt;\nè¿è¡Œé¡¹ç›®ï¼ˆè‡ªåŠ¨é€‰æ‹©è®¾å¤‡ï¼‰  flutter run\n\næŒ‡å®šè®¾å¤‡ï¼šflutter run -d &lt;è®¾å¤‡ID&gt;ï¼ˆé€šè¿‡ flutter devices æŸ¥çœ‹è®¾å¤‡IDï¼‰\nç”Ÿäº§æ¨¡å¼ï¼šflutter run --release  \nè°ƒè¯•æ¨¡å¼ï¼šflutter run --debug\n\n\nå¿«æ·æŒ‡ä»¤\nr Hot reload. \nR Hot restart.\nh List all available interactive commands.\nd Detach (terminate â€œflutter runâ€ but leave application running).\nc Clear the screen\nq Quit (terminate the application on the device).å¦‚æœæ˜¯æƒ³é‡æ–°è¿›å…¥è°ƒè¯•æ¨¡å¼å¯ä»¥ä½¿ç”¨flutter attach\n\n\n\n2. æ„å»ºåº”ç”¨\nç”Ÿæˆ APKï¼ˆAndroidï¼‰  flutter build apk\n\nåˆ†æ¶æ„æ„å»ºï¼šflutter build apk --target-platform android-arm,android-arm64\n\n\nç”Ÿæˆ App Bundleï¼ˆGoogle Playï¼‰  flutter build appbundle\nç”Ÿæˆ IPAï¼ˆiOSï¼‰  flutter build ios\n\néœ€è¦ Xcode å¯¼å‡ºï¼šflutter build ipa\n\n\n\n3. è®¾å¤‡ä¸æ¨¡æ‹Ÿå™¨\næŸ¥çœ‹å·²è¿æ¥è®¾å¤‡  flutter devices\nå¯åŠ¨æ¨¡æ‹Ÿå™¨  flutter emulators --launch &lt;æ¨¡æ‹Ÿå™¨åç§°&gt;\næ¸…ç†è®¾å¤‡æ—¥å¿—  flutter clean\n\n4. ä¾èµ–ç®¡ç†\nè·å–ä¾èµ–  flutter pub get\nå‡çº§ä¾èµ–  flutter pub upgrade\næ·»åŠ ä¾èµ–ï¼ˆæ‰‹åŠ¨ä¿®æ”¹ pubspec.yaml åè¿è¡Œ flutter pub getï¼‰\n\n5. æµ‹è¯•ä¸è°ƒè¯•\nè¿è¡Œå•å…ƒæµ‹è¯•  flutter test\nè¿è¡Œé›†æˆæµ‹è¯•  flutter test integration_test/\næ£€æŸ¥ä»£ç æ ¼å¼  flutter analyze\næ ¼å¼åŒ–ä»£ç   flutter format .\n\n6. çƒ­é‡è½½ä¸çƒ­é‡å¯\nçƒ­é‡è½½ï¼ˆHot Reloadï¼‰è¿è¡Œåº”ç”¨æ—¶æŒ‰ rï¼ˆä¿ç•™çŠ¶æ€å¿«é€Ÿæ›´æ–°ç•Œé¢ï¼‰ã€‚\nçƒ­é‡å¯ï¼ˆHot Restartï¼‰è¿è¡Œåº”ç”¨æ—¶æŒ‰ Rï¼ˆé‡å¯åº”ç”¨å¹¶ä¿ç•™çŠ¶æ€ï¼‰ã€‚\n\n7. å‡çº§ä¸ç‰ˆæœ¬ç®¡ç†\nå‡çº§ Flutter SDK  flutter upgrade\nåˆ‡æ¢ Flutter ç‰ˆæœ¬  flutter version &lt;ç‰ˆæœ¬å·&gt;\næŸ¥çœ‹å½“å‰ç‰ˆæœ¬  flutter --version\n\n\näºŒã€Dart å¸¸ç”¨å‘½ä»¤\nè¿è¡Œ Dart è„šæœ¬  dart run &lt;è„šæœ¬è·¯å¾„&gt;.dart\nç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶  dart compile exe &lt;è„šæœ¬è·¯å¾„&gt;.dart\nç”Ÿæˆ AOT å¿«ç…§  dart compile aot-snapshot &lt;è„šæœ¬è·¯å¾„&gt;.dart\n\nä¸‰ã€å…¶ä»–å®ç”¨å‘½ä»¤\næ¸…ç†æ„å»ºç¼“å­˜  flutter clean\næŸ¥çœ‹ Flutter ç¯å¢ƒé…ç½®  flutter doctor\nï¼ˆæ£€æŸ¥ Android&#x2F;iOS å¼€å‘ç¯å¢ƒæ˜¯å¦é…ç½®æ­£ç¡®ï¼‰\nç”Ÿæˆå›¾æ ‡å’Œå¯åŠ¨é¡µä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…ï¼ˆå¦‚ flutter_launcher_iconsï¼‰åè¿è¡Œï¼š  flutter pub run flutter_launcher_icons:main\n\nå¸¸è§åœºæ™¯ç¤ºä¾‹\nä»é›¶å¯åŠ¨é¡¹ç›®  \nflutter create my_appcd my_appflutter run\nå‘å¸ƒåˆ° Google Play  \nflutter build appbundle# ç„¶åä¸Šä¼ åˆ° Google Play Console\n\nè°ƒè¯•æ€§èƒ½é—®é¢˜  \nflutter run --profile# ä½¿ç”¨ DevTools åˆ†ææ€§èƒ½\n\næŒæ¡è¿™äº›å‘½ä»¤åï¼ŒFlutter å¼€å‘æ•ˆç‡ä¼šå¤§å¹…æå‡ï¼é‡åˆ°é—®é¢˜æ—¶ï¼Œè®°å¾—ç”¨ flutter doctor æ£€æŸ¥ç¯å¢ƒé…ç½®ã€‚\n","categories":["Flutter"],"tags":["flutter"]},{"title":"Repoå¸¸ç”¨æŒ‡ä»¤","url":"/2017/07/07/git/Repo%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"Repoå¸¸ç”¨æŒ‡ä»¤åœ¨ä½¿ç”¨ Git è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æ—¶ï¼Œrepo æ˜¯ä¸€ä¸ªç”± Google æä¾›çš„å·¥å…·ï¼Œä¸»è¦ç”¨äºç®¡ç†å¤šä¸ª Git ä»“åº“ï¼ˆç‰¹åˆ«æ˜¯åœ¨ Android å¼€å‘ä¸­ï¼‰ã€‚å®ƒæ˜¯å¯¹ Git çš„å°è£…ï¼Œç®€åŒ–äº†å¤šä»“åº“é¡¹ç›®çš„ç®¡ç†ã€‚\nä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„ repo å‘½ä»¤åŠå…¶ç”¨é€”ï¼š\n\nğŸŒ åˆå§‹åŒ–å’ŒåŒæ­¥repo initåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ repo å®¢æˆ·ç«¯ã€‚é€šå¸¸ä¼šæŒ‡å®šä¸€ä¸ª manifest ä»“åº“åœ°å€ã€‚\nrepo init -u &lt;manifestä»“åº“URL&gt; [-b &lt;åˆ†æ”¯å&gt;] [-m &lt;manifestæ–‡ä»¶å&gt;]\n\nç¤ºä¾‹ï¼š\nrepo init -u https://android.googlesource.com/platform/manifest -b main -m default.xml\n\nrepo syncä»è¿œç¨‹ä»“åº“ä¸‹è½½ä»£ç å¹¶åŒæ­¥åˆ°æœ¬åœ°ã€‚\nrepo sync\n\nå¸¸ç”¨é€‰é¡¹ï¼š\n\nrepo sync -cï¼šåªåŒæ­¥å½“å‰åˆ†æ”¯ã€‚\nrepo sync -j4ï¼šä½¿ç”¨ 4 ä¸ªçº¿ç¨‹å¹¶è¡ŒåŒæ­¥ï¼ŒåŠ å¿«é€Ÿåº¦ã€‚\nrepo sync --no-tagsï¼šä¸ä¸‹è½½æ ‡ç­¾ï¼ŒèŠ‚çœå¸¦å®½ã€‚\n\n\nğŸ“ é¡¹ç›®æ“ä½œrepo start &lt;æ–°åˆ†æ”¯å&gt; --all | &lt;é¡¹ç›®å&gt;ä¸ºæ‰€æœ‰é¡¹ç›®æˆ–æŸä¸ªé¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚\nrepo start dev-feature --all\n\nrepo checkout &lt;åˆ†æ”¯å&gt;åˆ‡æ¢åˆ†æ”¯ã€‚\nrepo checkout main\n\nrepo branchesæ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚\nrepo statusæŸ¥çœ‹æ‰€æœ‰é¡¹ç›®çš„ä¿®æ”¹çŠ¶æ€ï¼ˆç±»ä¼¼ git statusï¼‰ã€‚\nrepo status\n\n\nğŸš€ æäº¤ä¸ä¸Šä¼ repo diffæŸ¥çœ‹å·¥ä½œç›®å½•ä¸­çš„æ›´æ”¹ï¼ˆç±»ä¼¼ git diffï¼‰ã€‚\nrepo stageå°†æ›´æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆç±»ä¼¼ git addï¼‰ã€‚\nrepo stage -i device/rockchip/rk3576\n\nrepo commitæäº¤æ›´æ”¹ï¼ˆç±»ä¼¼ git commitï¼‰ã€‚\nrepo uploadå°†æœ¬åœ°æäº¤ä¸Šä¼ åˆ° Gerrit æˆ–å…¶ä»–ä»£ç å®¡æŸ¥ç³»ç»Ÿã€‚\nrepo upload\n\n\nğŸ“¦ å…¶ä»–å®ç”¨å‘½ä»¤repo liståˆ—å‡ºæ‰€æœ‰é¡¹ç›®çš„åç§°ã€‚\nrepo path &lt;project-name&gt;æ˜¾ç¤ºæŸä¸ªé¡¹ç›®çš„æœ¬åœ°è·¯å¾„ã€‚\nrepo forallå¯¹æ‰€æœ‰é¡¹ç›®æˆ–æŸäº›é¡¹ç›®æ‰§è¡Œ shell å‘½ä»¤ã€‚\nç¤ºä¾‹ï¼šæŸ¥çœ‹æ‰€æœ‰é¡¹ç›®çš„å½“å‰åˆ†æ”¯\nrepo forall -c &#x27;git rev-parse --abbrev-ref HEAD&#x27;\n\n\nğŸ§ª é«˜çº§å‘½ä»¤ï¼ˆæ…ç”¨ï¼‰repo rebaseå¯¹é¡¹ç›®è¿›è¡Œ rebase æ“ä½œã€‚\nrepo rebase\n\nrepo pruneåˆ é™¤å·²ç»åˆå¹¶çš„åˆ†æ”¯ã€‚\nrepo selfupdateæ›´æ–° repo å·¥å…·æœ¬èº«ã€‚\n\nğŸ“ å°è´´å£«\nrepo å‘½ä»¤å¿…é¡»åœ¨ä¸€ä¸ªå·²ç» repo init åˆå§‹åŒ–è¿‡çš„ç›®å½•ä¸­è¿è¡Œã€‚\næ‰€æœ‰ repo çš„é…ç½®ä¿¡æ¯ä¿å­˜åœ¨ .repo/ ç›®å½•ä¸‹ã€‚\nå¯ä»¥é€šè¿‡ repo help æŸ¥çœ‹å®Œæ•´å¸®åŠ©æ–‡æ¡£ã€‚\n\n\nå¦‚æœä½ æ˜¯åœ¨ä½¿ç”¨ Android æºç  æˆ–å…¶ä»–åŸºäº AOSP çš„é¡¹ç›®ï¼Œè¿™äº›å‘½ä»¤éå¸¸æœ‰ç”¨ã€‚å¦‚æœä½ æ˜¯æ™®é€š Git ç”¨æˆ·ï¼Œå¯èƒ½æ›´å¸¸ä½¿ç”¨çš„æ˜¯åŸç”Ÿçš„ git å‘½ä»¤ã€‚\néœ€è¦æˆ‘æä¾›æŸä¸ªå‘½ä»¤çš„è¯¦ç»†è¯´æ˜æˆ–ä½¿ç”¨åœºæ™¯å—ï¼Ÿ\n","categories":["Repo"],"tags":["git"]},{"title":"gitåˆ†æ”¯detached HEADçš„è§£å†³æ–¹æ³•","url":"/2017/02/08/git/git%E5%88%86%E6%94%AFdetached%20HEAD%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/","content":"gitåˆ†æ”¯detached HEADçš„è§£å†³æ–¹æ³•Detached HEAD å¦‚ä½•è¿ç§»åˆ°masteråˆ†æ”¯ä¸Šè¿™ä¸ªä»ç†è®ºä¸Šä»‹ç»äº†detached headçš„åŸç†\n  Id CommandLine   1 git branch -v   2 git branch  tmp   3 git checkout tmp   4 git checkout master   5 git merge tmp   6 git status   7 git branch -d tmp\n","categories":["Git"],"tags":["git"]},{"title":"git switchå’Œcheckoutçš„åŒºåˆ«","url":"/2017/08/27/git/git%20switch%E5%92%8Ccheckout%E7%9A%84%E5%8C%BA%E5%88%AB/","content":"git switchå’Œcheckoutçš„åŒºåˆ«git switch å’Œ git checkout éƒ½å¯ä»¥ç”¨æ¥åˆ‡æ¢åˆ†æ”¯ï¼Œä½†å®ƒä»¬çš„è®¾è®¡ç†å¿µã€åŠŸèƒ½å’Œä½¿ç”¨æ–¹å¼æœ‰æ‰€ä¸åŒã€‚git switch æ˜¯ Git 2.23 ç‰ˆæœ¬ï¼ˆ2019å¹´å‘å¸ƒï¼‰å¼•å…¥çš„æ–°å‘½ä»¤ï¼Œæ—¨åœ¨å°† git checkout çš„åŠŸèƒ½è¿›è¡Œæ‹†åˆ†ï¼Œä½¿å…¶èŒè´£æ›´å•ä¸€ã€æ›´æ¸…æ™°ã€‚\nä»¥ä¸‹æ˜¯å®ƒä»¬çš„ä¸»è¦åŒºåˆ«ï¼š\n1. è®¾è®¡ç›®çš„ä¸èŒè´£\ngit checkout: è¿™æ˜¯ä¸€ä¸ªâ€œå¤šé¢æ‰‹â€å‘½ä»¤ï¼ŒåŠŸèƒ½éå¸¸å¤æ‚ã€‚å®ƒæ—¢å¯ä»¥ç”¨æ¥åˆ‡æ¢åˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ¢å¤å·¥ä½œåŒºæ–‡ä»¶ï¼ˆä¸¢å¼ƒä¿®æ”¹ï¼‰ã€åˆ›å»ºæ–°åˆ†æ”¯ç­‰ã€‚è¿™ç§å¤šåŠŸèƒ½æ€§ä½¿å¾—å®ƒå®¹æ˜“æ··æ·†ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ–‡ä»¶å’Œåˆ†æ”¯æ—¶ã€‚\ngit switch: è¿™æ˜¯ä¸€ä¸ªâ€œå•ä¸€èŒè´£â€å‘½ä»¤ï¼Œä¸“é—¨ç”¨äºåˆ‡æ¢åˆ†æ”¯ã€‚å®ƒçš„è®¾è®¡ç›®çš„å°±æ˜¯è®©åˆ†æ”¯åˆ‡æ¢æ“ä½œæ›´æ¸…æ™°ã€æ›´å®‰å…¨ã€æ›´ç›´è§‚ã€‚\n\n2. åˆ›å»ºæ–°åˆ†æ”¯çš„æ–¹å¼\ngit checkout:\nåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼šgit checkout -b &lt;new-branch-name&gt;\nä»ç‰¹å®šæäº¤åˆ›å»ºæ–°åˆ†æ”¯ï¼šgit checkout -b &lt;new-branch-name&gt; &lt;start-point&gt;\n\n\ngit switch:\nåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼šgit switch -c &lt;new-branch-name&gt; (ä½¿ç”¨ -c è€Œä¸æ˜¯ -b)\nä»ç‰¹å®šæäº¤åˆ›å»ºæ–°åˆ†æ”¯ï¼šgit switch -c &lt;new-branch-name&gt; &lt;start-point&gt;\næ›´å®‰å…¨çš„é€‰é¡¹ï¼šgit switch -C &lt;new-branch-name&gt;ã€‚å¦‚æœç›®æ ‡åˆ†æ”¯å·²å­˜åœ¨ï¼Œå®ƒä¼šå¼ºåˆ¶é‡ç½®è¯¥åˆ†æ”¯åˆ°æŒ‡å®šçš„èµ·ç‚¹ï¼ˆç±»ä¼¼äº reset --hardï¼‰ï¼Œè¿™åœ¨æŸäº›å·¥ä½œæµä¸­å¾ˆæœ‰ç”¨ï¼Œä½†éœ€è°¨æ…ä½¿ç”¨ã€‚\n\n\n\n3. åˆ‡æ¢åˆ°è¿œç¨‹åˆ†æ”¯\ngit checkout &lt;remote-branch&gt; (ä¾‹å¦‚ git checkout origin/main):\nä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„æœ¬åœ°è·Ÿè¸ªåˆ†æ”¯ï¼ˆå¦‚ mainï¼‰ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚\nè¿™ç§è¡Œä¸ºæœ‰æ—¶æ˜¯ç”¨æˆ·æœŸæœ›çš„ï¼Œä½†æœ‰æ—¶ä¹Ÿå¯èƒ½å¯¼è‡´æ„å¤–åˆ›å»ºåˆ†æ”¯ã€‚\n\n\ngit switch &lt;remote-branch&gt; (ä¾‹å¦‚ git switch origin/main):\nåŒæ ·ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„æœ¬åœ°è·Ÿè¸ªåˆ†æ”¯ï¼ˆå¦‚ mainï¼‰ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚\nè¡Œä¸ºä¸ checkout åœ¨æ­¤åœºæ™¯ä¸‹åŸºæœ¬ä¸€è‡´ã€‚\n\n\n\n4. æ¢å¤æ–‡ä»¶ï¼ˆæ£€å‡ºæ–‡ä»¶ï¼‰\ngit checkout:\nå¯ä»¥ç”¨æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼Œå°†æ–‡ä»¶æ¢å¤åˆ°æŸä¸ªç‰ˆæœ¬ï¼šgit checkout &lt;commit&gt; -- &lt;file&gt; æˆ– git checkout -- &lt;file&gt; (æ¢å¤åˆ° HEAD)ã€‚\nè¿™æ˜¯ checkout æœ€å®¹æ˜“ä¸åˆ†æ”¯åˆ‡æ¢æ··æ·†çš„åŠŸèƒ½ã€‚\n\n\ngit switch:\nå®Œå…¨ä¸èƒ½ç”¨äºæ¢å¤æ–‡ä»¶ã€‚å®ƒåªå¤„ç†åˆ†æ”¯åˆ‡æ¢ã€‚\nå¦‚æœä½ éœ€è¦æ¢å¤æ–‡ä»¶ï¼Œåº”è¯¥ä½¿ç”¨ git restore å‘½ä»¤ï¼ˆä¹Ÿæ˜¯ Git 2.23 å¼•å…¥çš„å¦ä¸€ä¸ªæ–°å‘½ä»¤ï¼‰ã€‚\n\n\n\n5. å®‰å…¨æ€§ä¸æ˜“ç”¨æ€§\ngit switch é€šå¸¸è¢«è®¤ä¸ºæ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒä¸ä¼šæ„å¤–åœ°ä¿®æ”¹å·¥ä½œåŒºæ–‡ä»¶ï¼ˆå› ä¸ºå®ƒä¸èƒ½ç”¨äºæ¢å¤æ–‡ä»¶ï¼‰ã€‚ä½ æ˜ç¡®çŸ¥é“ä½ åªæ˜¯åœ¨åˆ‡æ¢åˆ†æ”¯ã€‚\ngit switch çš„é€‰é¡¹æ›´ç›´è§‚ï¼ˆ-c åˆ›å»ºï¼Œ-d åˆ†ç¦» HEAD ç­‰ï¼‰ã€‚\n\næ€»ç»“\n\n\nç‰¹æ€§\ngit checkout\ngit switch\n\n\n\nä¸»è¦ç”¨é€”\nåˆ‡æ¢åˆ†æ”¯ã€æ¢å¤æ–‡ä»¶ã€åˆ›å»ºåˆ†æ”¯\nä»…ç”¨äºåˆ‡æ¢åˆ†æ”¯\n\n\nåˆ›å»ºæ–°åˆ†æ”¯\ngit checkout -b &lt;name&gt;\ngit switch -c &lt;name&gt;\n\n\næ¢å¤æ–‡ä»¶\ngit checkout -- &lt;file&gt;\nä¸æ”¯æŒ (ä½¿ç”¨ git restore)\n\n\nè®¾è®¡ç†å¿µ\nå¤šåŠŸèƒ½ã€å¤æ‚\nå•ä¸€èŒè´£ã€æ¸…æ™°\n\n\nå®‰å…¨æ€§\nè¾ƒä½ï¼ˆå¯èƒ½è¯¯æ“ä½œæ–‡ä»¶ï¼‰\nè¾ƒé«˜ï¼ˆåªæ“ä½œåˆ†æ”¯ï¼‰\n\n\nç»“è®ºï¼š\n\nå¦‚æœä½ åªæƒ³åˆ‡æ¢åˆ†æ”¯ï¼Œæ¨èä½¿ç”¨ git switchã€‚å®ƒçš„æ„å›¾æ›´æ˜ç¡®ï¼Œä¸æ˜“å‡ºé”™ã€‚\nå¦‚æœä½ éœ€è¦æ¢å¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œåº”è¯¥ä½¿ç”¨ git restoreã€‚\ngit checkout ä»ç„¶å®Œå…¨æœ‰æ•ˆï¼Œå¹¶ä¸”åœ¨å¾ˆå¤šæ—§è„šæœ¬å’Œæ•™ç¨‹ä¸­å¹¿æ³›ä½¿ç”¨ã€‚æŒæ¡å®ƒæ˜¯å¿…è¦çš„ï¼Œä½†ç†è§£å…¶å¤æ‚æ€§å¹¶é€æ­¥è¿‡æ¸¡åˆ° git switch å’Œ git restore æ˜¯ç°ä»£ Git çš„æœ€ä½³å®è·µã€‚\n\n","categories":["Git"],"tags":["git"]},{"title":"gitåˆå¹¶å¼€å‘åˆ†æ”¯ä¸”æ— éœ€æäº¤å†å²","url":"/2017/02/08/git/git%E5%90%88%E5%B9%B6%E5%BC%80%E5%8F%91%E5%88%86%E6%94%AF%E4%B8%94%E6%97%A0%E9%9C%80%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2/","content":"gitåˆå¹¶å¼€å‘åˆ†æ”¯ä¸”æ— éœ€æäº¤å†å²å¦‚æœä½ æƒ³è¦å°†å¼€å‘åˆ†æ”¯ï¼ˆä¾‹å¦‚ dev åˆ†æ”¯ï¼‰åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼ˆä¾‹å¦‚ master åˆ†æ”¯ï¼‰ï¼Œä½†ä¸ä¿ç•™å¼€å‘åˆ†æ”¯çš„æ‰€æœ‰æäº¤å†å²ï¼Œå¹¶ä¸”å¸Œæœ›åœ¨ master åˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ Git çš„ merge å‘½ä»¤ç»“åˆ --squash é€‰é¡¹ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š\n\nç¡®ä¿ä½ åœ¨ master åˆ†æ”¯ï¼š\ngit checkout master\n\nå°† master åˆ†æ”¯æ›´æ–°åˆ°æœ€æ–°çš„çŠ¶æ€ï¼š\ngit pull origin master\n\nä½¿ç”¨ --squash é€‰é¡¹åˆå¹¶ dev åˆ†æ”¯çš„æ›´æ”¹ï¼š\ngit merge --squash dev\n\nåœ¨æ­¤ä¹‹åï¼ŒGit ä¼šåº”ç”¨ dev åˆ†æ”¯çš„æ‰€æœ‰æ›´æ”¹ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„æäº¤æˆ–ç§»åŠ¨ HEADã€‚ä½ éœ€è¦æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæ–°æäº¤æ¥ä¿å­˜è¿™äº›æ›´æ”¹ï¼š\ngit commit -m &quot;Merge dev branch changes into master as a single commit&quot;\n\næœ€åï¼Œæ¨é€æ›´æ–°åçš„ master åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼š\ngit push origin master\n\nä½¿ç”¨ --squash é€‰é¡¹çš„æ•ˆæœæ˜¯å°†æ‰€æœ‰æ¥è‡ª dev åˆ†æ”¯çš„æ›´æ”¹å‹ç¼©æˆä¸€æ¬¡æ›´æ”¹ï¼Œç„¶åä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ–°æäº¤æ·»åŠ åˆ° master åˆ†æ”¯ã€‚è¿™å°†ä¿æŒ master åˆ†æ”¯çš„å†å²æ•´æ´ï¼Œè€Œä¸ä¼šå¼•å…¥ dev åˆ†æ”¯çš„æ‰€æœ‰ä¸­é—´æäº¤ã€‚\nè¯·æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•ä¸ä¼šçœŸæ­£â€œåˆå¹¶â€åˆ†æ”¯ï¼Œå› ä¸ºå®ƒä¸ä¼šåˆ›å»ºåˆå¹¶æäº¤ã€‚è¿™æ„å‘³ç€ä½ å°†å¤±å»æœ‰å…³ dev åˆ†æ”¯çš„æäº¤å†å²ä¿¡æ¯ã€‚å¦‚æœä½ ä»¥åéœ€è¦æŸ¥çœ‹å“ªäº›æ›´æ”¹æ˜¯ä» dev åˆ†æ”¯å¼•å…¥çš„ï¼Œé‚£ä¹ˆè¿™äº›ä¿¡æ¯å°†ä¸å¯ç”¨ã€‚å¦‚æœä½ çš„é¡¹ç›®ä¾èµ–äºè¯¦ç»†çš„æäº¤å†å²è®°å½•æ¥è¿›è¡Œå®¡è®¡æˆ–è¿½è¸ªåŠŸèƒ½å¼€å‘ï¼Œåˆ™åº”è€ƒè™‘å…¶ä»–æ–¹æ³•ã€‚\n","categories":["Git"],"tags":["git"]},{"title":"gitåŒæ­¥è¿œç¨‹å·²åˆ é™¤çš„åˆ†æ”¯","url":"/2017/02/08/git/git%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E5%B7%B2%E5%88%A0%E9%99%A4%E7%9A%84%E5%88%86%E6%94%AF/","content":"gitåŒæ­¥è¿œç¨‹å·²åˆ é™¤çš„åˆ†æ”¯\ngit branch -a æŸ¥çœ‹å…¨éƒ¨åˆ†æ”¯\n\ngit remote show origin æŸ¥çœ‹åˆ†æ”¯çŠ¶æ€\n\ngit remote prune origin åŒæ­¥å·²åˆ é™¤çš„åˆ†æ”¯\n\n\n","categories":["Git"],"tags":["git"]},{"title":"gitå­æ¨¡å—åˆ›å»ºæäº¤ä¸gerritä¹‹é—´çš„ç»†èŠ‚","url":"/2017/02/08/git/git%E5%AD%90%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%E6%8F%90%E4%BA%A4%E4%B8%8Egerrit%E4%B9%8B%E9%97%B4%E7%9A%84%E7%BB%86%E8%8A%82/","content":"gitå­æ¨¡å—åˆ›å»ºæäº¤ä¸gerritä¹‹é—´çš„ç»†èŠ‚\nåœ¨æœ¬åœ°åˆ›å»ºå¥½é¡¹ç›®å·¥ç¨‹\næ‹‰å–è¿œç¨‹ä»£ç åº“\nå°†æœ¬åœ°å¯¼å‡ºçš„å·¥ç¨‹æ·»åŠ åˆ°å…‹éš†ä¸‹æ¥çš„æ–‡ä»¶å¤¹ä¸­\nå°†å­æ¨¡å—addåˆ°é¡¹ç›®ä¸­ï¼Œå¹¶åšå¥½ä¾èµ–å…³ç³»\nä¿®æ”¹å­æ¨¡å—çš„urlåœ°å€\n\næ³¨æ„ï¼šgerritæƒé™çš„é—®é¢˜\n\nä¸èƒ½ä½¿ç”¨æœ¬åœ°è·¯å¾„\nä¸èƒ½ä½¿ç”¨ssh://1016739@10.10.1.127:29418/app/android/library/radiolibè¿™ç§ä¸ªäººé“¾æ¥\nè¦ç”¨ç›¸å¯¹åœ°å€../library/radiolib ï¼ˆä¸€èˆ¬androidçš„é¡¹ç›®éƒ½å»ºç«‹åœ¨app&#x2F;androidä¸‹ï¼‰æˆ–è€…../../../../../app/android/library/radiolibæ³¨æ„æ˜¯ç›¸å¯¹äºæ ¹ç›®å½•çš„æ‰€åœ¨åœ°å€ï¼Œä»¥å…æ‹‰å–ä¸åˆ°å¯¹åº”çš„ä»£ç ã€‚\n\n","categories":["Git"],"tags":["git"]},{"title":"gitå­æ¨¡å—é¡¹ç›®å¼€å‘æŒ‡å—","url":"/2017/02/08/git/git%E5%AD%90%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/","content":"gitå­æ¨¡å—é¡¹ç›®å¼€å‘æŒ‡å—ä¸€ã€ä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†åˆ°æœ¬åœ°ï¼ˆå¸¦æœ‰å­æ¨¡å—ï¼‰git clone â€“recurse-submodules çˆ¶ä»“åº“åœ°å€å¦‚ï¼š\ngit clone --recurse-submodules &quot;ssh://1016739@10.10.1.127:29418/app/android/Platin_ElderCare&quot; &amp;&amp; scp -p -P 29418 1016739@10.10.1.127:hooks/commit-msg &quot;Platin_ElderCare/.git/hooks/&quot;\n\nå¦‚æœå¿˜è®°åŠ â€“recurse-submodulesï¼Œå¯ä»¥åœ¨cloneåæ‰§è¡Œ\ngit submodule init // åˆå§‹åŒ–å­æ¨¡å—git submodule update // æ›´æ–°å­æ¨¡å—ä¸ä¸»ä»“åº“ä¸­çš„å­æ¨¡å—ä»£ç åŒæ­¥\næˆ–è€…\ngit submodule update --init\nåµŒå¥—çš„(å­ä»“åº“ä¸­åŒ…å«å­ä»“åº“)\ngit submodule update --init --recursive\n\nå¦‚æœä¿®æ”¹äº†.gitmodulesï¼Œè¦å…ˆæ‰§è¡ŒåŒæ­¥git submodule sync\n\näºŒã€æ·»åŠ ä¸€ä¸ªæ–°çš„å­æ¨¡å—ï¼Œå¹¶æŒ‡å®šåˆ†æ”¯ï¼Œé»˜è®¤master\ngit submodule add -b &lt;åˆ†æ”¯å&gt; &lt;ä»“åº“åœ°å€&gt; &lt;æœ¬åœ°è·¯å¾„&gt;\n\nä¸‰ã€ä¿®æ”¹å­æ¨¡å—çš„ä»£ç ï¼ˆå¦‚åŒä¸€èˆ¬é¡¹ç›®çš„å¤„ç†ï¼‰\ngit add .git commit -m &quot;æäº¤ä¿¡æ¯&quot;\n\nå››ã€åœ¨ä¸»é¡¹ç›®ä¸­æ›´æ–°å­æ¨¡å—\ngit submodule update // ä¸ä¸»ä»“åº“ä¸­çš„å­æ¨¡å—ä»£ç åŒæ­¥git submodule update --remote // ä¸å­ä»“åº“ä¸­ä»£ç åŒæ­¥ï¼ˆåŒæ­¥æ‰€æœ‰çš„å­æ¨¡å—ï¼‰git submodule update --remote xxx // æŒ‡å®šéœ€è¦åŒæ­¥çš„å­æ¨¡å—\næ³¨æ„ï¼šå¦‚æœéœ€è¦æ”¹åŠ¨å­æ¨¡å—çš„ä»£ç æ‰èƒ½æ»¡è¶³åŠŸèƒ½çš„è¯ï¼Œè¦å…ˆåœ¨å­æ¨¡å—çš„ç‹¬ç«‹é¡¹ç›®ä¸­ä¿®æ”¹ä»£ç ï¼Œæäº¤åå†åˆ°ä¸»é¡¹ç›®ä¸­æ›´æ–°åŒæ­¥\näº”ã€ä»…æ›´æ–°ä¸»é¡¹ç›®ï¼Œä¸è‡ªåŠ¨æ›´æ–°å­æ¨¡å—\ngit pull --no-recurse-submodules\n\nå…­ã€ä¿®æ”¹éœ€è¦åŒæ­¥çš„å­æ¨¡å—åˆ†æ”¯ï¼ˆæ ¹æ®ä¸åŒé¡¹ç›®çš„éœ€è¦æ›´æ–°ä¸åŒçš„åˆ†æ”¯ï¼‰\ngit config -f .gitmodules submodule.[submodule-name].branch [branch-name]\nä¿®æ”¹åçš„.gitmoduleså¦‚ä¸‹ï¼š[submodule â€œmysubâ€]    path &#x3D; sub    url &#x3D; ..&#x2F;sub&#x2F;.git    branch &#x3D; develop\nä¸ƒã€åˆ é™¤å­ä»“åº“\n\nååˆå§‹åŒ–git submodule deinit -f &lt;å­æ¨¡å—&gt;\nåˆ é™¤.gitsubmoduleé‡Œç›¸å…³éƒ¨åˆ†\nåˆ é™¤.git&#x2F;config æ–‡ä»¶é‡Œç›¸å…³å­—æ®µ\nåˆ é™¤å­ä»“åº“ç›®å½•ã€‚\ngit rm â€“cached &lt;æœ¬åœ°è·¯å¾„&gt;\n\nä¸¾ä¾‹ï¼š\n\nåˆ é™¤å­æ¨¡å—ï¼š\ngit submodule deinit -f -- path/to/submodulegit rm -f path/to/submodulerm -rf .git/modules/path/to/submodule\n\né‡æ–°æ·»åŠ å­æ¨¡å—ï¼š\ngit submodule add [ -b &lt;branch&gt; ] &lt;æ–°çš„å­æ¨¡å—URL&gt; path/to/submodulegit submodule update --init --recursive\n\næäº¤æ›´æ”¹ï¼š\ngit add .gitmodulesgit add path/to/submodulegit commit -m &quot;Re-add submodule with new URL&quot;git push\n\n","categories":["Git"],"tags":["git"]},{"title":"gitå¸¸ç”¨æŒ‡ä»¤","url":"/2017/02/08/git/git%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"gitå¸¸ç”¨æŒ‡ä»¤åŸºæœ¬æäº¤æµç¨‹git add .git commit -m &quot;æäº¤ä¿¡æ¯&quot;git push origin HEAD:refs/for/developgit pull origin &lt;branch&gt;git branch --set-upstream-to=origin/&lt;branch&gt; &lt;branch&gt;\n\nç”Ÿæˆssh key\nä½¿ç”¨ ed25519ï¼ˆæ¨èï¼Œå®‰å…¨æ€§æ›´é«˜ï¼‰ï¼š\n\nssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;\n\n\nä½¿ç”¨ RSAï¼ˆå…¼å®¹æ€§æ›´å¥½ï¼‰ï¼š\n\nssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;\n\n\n-C åé¢æ˜¯æ³¨é‡Šï¼Œé€šå¸¸å¡«å†™ä½ çš„é‚®ç®±ã€‚\n\nå¦‚ä½•æŸ¥çœ‹æŸä¸€ä¸ªæäº¤ä¿®æ”¹çš„å†…å®¹git show æäº¤id\n\næ¸…é™¤æœªè¢«è·Ÿè¸ªçš„æ–‡ä»¶\nåˆ é™¤æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶git clean -f\nåˆ é™¤æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•git clean -fd\nåˆ é™¤åŒ…æ‹¬.gitignoreä¸­å¿½ç•¥çš„æœªè·Ÿè¸ªæ–‡ä»¶å’Œç›®å½•ï¼ˆæ…ç”¨ï¼‰git clean -xfd\n\næŸ¥è¯¢å…¨éƒ¨çš„åˆ†æ”¯git branch --all\n\nä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€git remote -v æŸ¥çœ‹å½“å‰git remote set-url origin æ–°åœ°å€\n\nåˆå¹¶å½“å‰åˆ†æ”¯æˆ–å…¶ä»–åˆ†æ”¯ä¸­çš„æŸä¸€ä¸ªæˆ–å‡ ä¸ªæäº¤git cherry-pick æäº¤idgit cherry-pick æäº¤idA æäº¤idBgit cherry-pick æäº¤idA..æäº¤idE\n\nå·²ç»åŠ å…¥æš‚å­˜åŒºçš„æ–‡ä»¶æƒ³è¦æ’¤å›åˆ°æœªè·Ÿè¸ªçš„çŠ¶æ€git restore --staged &lt;file&gt;git reset HEAD &lt;file&gt;git rm --cached &lt;file&gt;\n\nå¯¼å‡ºé¡¹ç›®ä»£ç git archive --format zip --output &quot;./output.zip&quot; develop\n\næŸä¸ªæäº¤è¢«è¦†ç›–è¦æ¢å¤ä¸Šæ¬¡çš„æäº¤git revert -n HEAD\n\næš‚å­˜æŸä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹git stash push &lt;files/dir&gt;             -&gt; ä¸èƒ½å¡«åŠ æè¿°git stash push -m &quot;æè¿°&quot; &lt;files/dir&gt;   -&gt; -m å¯å¸¦æè¿°git stash save &quot;æè¿°&quot;       -&gt; æš‚å­˜å…¨éƒ¨æ–‡ä»¶ï¼Œå¯å¸¦æè¿°git stash list              -&gt; æŸ¥çœ‹æš‚å­˜åˆ—è¡¨git stash show              -&gt; æŸ¥çœ‹æŸä¸ªæš‚å­˜çš„å†…å®¹ï¼Œä¸å¸¦åºå·å°±æ˜¯ç¬¬ä¸€ä¸ªgit stash pop/apply         -&gt; åº”ç”¨å¹¶å‡ºæ ˆ/ä»…åº”ç”¨git stash clear             -&gt; æ¸…é™¤å…¨éƒ¨æš‚å­˜\n\nåˆ é™¤è¿œç¨‹åˆ†æ”¯çš„å¼•ç”¨git br -rd origin/main\n\nä¿®æ”¹fetchæ‹‰å–çš„åˆ†æ”¯ç¼–è¾‘ .git/config\n[remote &quot;origin&quot;]    url = https://your-repo.git    fetch = +refs/heads/*:refs/remotes/origin/*    fetch = ^refs/heads/main # æ’é™¤mainåˆ†æ”¯\n\n\n\n\n\n","categories":["Git"],"tags":["git"]},{"title":"gitæ‰“åŒ…å¯¼å‡ºæŸæ¬¡æˆ–ä¹‹åçš„ä»£ç ","url":"/2017/02/08/git/git%E6%89%93%E5%8C%85%E5%AF%BC%E5%87%BA%E6%9F%90%E6%AC%A1%E6%88%96%E4%B9%8B%E5%90%8E%E7%9A%84%E4%BB%A3%E7%A0%81/","content":"gitæ‰“åŒ…å¯¼å‡ºæŸæ¬¡æˆ–ä¹‹åçš„ä»£ç \næ‰“åŒ…æŸæ¬¡commitï¼š\ngit diff-tree -r --no-commit-id --name-only f4710c4a32975904b00609f3145c709f31392140 | xargs tar -rf update_20240529.tar\n\nä½¿ç”¨å‘½ä»¤æŠŠæŸæ¬¡èŠ‚ç‚¹åçš„æ–‡ä»¶å¯¼å‡ºï¼šwindowä¸‹ï¼š\ngit diff f4710c4a32975904b00609f3145c709f31392140 HEAD --name-only | xargs tar -rf update_20240529.tar\n\n","categories":["Git"],"tags":["git"]},{"title":"gitæäº¤ä¸gerritä»£ç å®¡æŸ¥ç»†èŠ‚","url":"/2017/05/29/git/git%E6%8F%90%E4%BA%A4%E4%B8%8Egerrit%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E7%BB%86%E8%8A%82/","content":"gitæäº¤ä¸gerritä»£ç å®¡æŸ¥ç»†èŠ‚ä»£ç æ‹‰å–å’Œæäº¤\né…ç½®configæ–‡ä»¶Host gerrit  HostName 10.10.1.127  Port 29418  User 1016739  IdentityFile ~/.ssh/id_ed25519\nå…‹éš†git clone &quot;ssh://gerrit/&lt;project path&gt;&quot; my-project &amp;&amp; cd my-project &amp;&amp; f=&quot;$(git rev-parse --git-dir)/hooks/commit-msg&quot;; curl -o &quot;$f&quot; http://10.10.1.127:30090/tools/hooks/commit-msg; chmod +x &quot;$f&quot;\nä»…å…‹éš†æŸä¸ªåˆ†æ”¯åˆ°æœ¬åœ°ç›®å½•git clone -b &lt;åˆ†æ”¯å&gt; --single-branch &lt;ä»“åº“åœ°å€&gt; &lt;ç›®æ ‡ç›®å½•&gt;\n\nä»£ç è¡¥å……æäº¤git add .git commit --amend --no-edit\nä¸€èˆ¬ç”¨äºä»¥ä¸‹æƒ…å†µï¼Œä¾‹å¦‚ï¼š\n\næœªæ¨é€é’ˆå¯¹å·²ä¿®æ”¹çš„ä»£ç ä¸€èˆ¬æ“ä½œæ˜¯git addç„¶ågit commitï¼Œæ­¤æ—¶è¿™ä¸ªæäº¤çš„åŠŸèƒ½åˆæœ‰éœ€è¦è¡¥å……ä¿®æ”¹çš„ï¼Œä½†åˆä¸æƒ³å†æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ã€‚\n\nå®¡æ ¸è¢«åºŸå¼ƒåºŸå¼ƒåå°±ä¸åœ¨å¾…å®¡æ ¸åˆ—è¡¨äº†ï¼Œæœ¬åœ°å¯ä»¥ä¿ç•™åŸæäº¤ä¿¡æ¯ï¼Œä»…æ›´æ”¹éœ€è¦æ›´æ”¹çš„ï¼Œæˆ–è€…git reset HEAD^ã€‚\n\nå®¡æ ¸è¢«æ‰“å›æ‰“å›çš„æäº¤å°±ä¸ä¼šè¢«åˆå¹¶ï¼Œæœ¬åœ°éœ€è¦ä¿®æ”¹é—®é¢˜ï¼ŒæŒ‰ä¸Šè¿°æŒ‡ä»¤å†æ¬¡æäº¤ï¼›å®¡æŸ¥äººå¯ä»¥çœ‹æäº¤æ˜ç»†ä¸­çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè‹¥å·²ä¿®æ”¹å®Œæ¯•ï¼Œåˆ™å¯ä»¥+2é€šè¿‡ï¼Œæ‰§è¡Œåˆå¹¶ã€‚\n\n\nè‹¥è¦ä¿®æ”¹æ›´æ—©çš„æœªåˆå¹¶çš„æäº¤git commit --amend åªèƒ½ä¿®æ”¹æœ€è¿‘çš„ä¸€æ¬¡æäº¤ï¼ˆå³ HEAD æŒ‡å‘çš„æäº¤ï¼‰ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹ä¹‹å‰çš„æŸä¸ªæäº¤ã€‚\nä¸ºä»€ä¹ˆ --amend ä¸èƒ½ä¿®æ”¹æ›´æ—©çš„æäº¤ï¼Ÿgit commit --amend çš„ä½œç”¨æ˜¯ï¼š\n\næ›¿æ¢æœ€è¿‘ä¸€æ¬¡æäº¤ï¼ˆHEADï¼‰ï¼Œ\nä½¿ç”¨ä½ å½“å‰æš‚å­˜åŒºçš„å†…å®¹ï¼ˆå¦‚æœæœ‰ä¿®æ”¹ï¼‰å’Œæ–°çš„æäº¤ä¿¡æ¯ï¼ˆå¦‚æœæŒ‡å®šï¼‰ï¼Œ\nç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ï¼Œå…¶çˆ¶æäº¤æ˜¯åŸæäº¤çš„çˆ¶æäº¤ã€‚\n\nç”±äº Git çš„æäº¤å†å²æ˜¯é“¾å¼ç»“æ„ï¼Œä¿®æ”¹ä¸€ä¸ªä¸­é—´çš„æäº¤ä¼šæ”¹å˜å…¶å“ˆå¸Œå€¼ï¼Œä»è€Œå¯¼è‡´åç»­æ‰€æœ‰æäº¤çš„çˆ¶å“ˆå¸Œä¸ä¸€è‡´ï¼Œç ´åäº†å†å²çš„è¿ç»­æ€§ã€‚å› æ­¤ Git ä¸å…è®¸ç›´æ¥â€œåŸåœ°ä¿®æ”¹â€ä¸€ä¸ªéæœ€æ–°çš„æäº¤ã€‚\n\nå¦‚æœä½ æƒ³ä¿®æ”¹ä¹‹å‰çš„æŸä¸ªæäº¤ï¼Œåº”è¯¥ä½¿ç”¨ï¼šâœ… git rebase -iï¼ˆäº¤äº’å¼å˜åŸºï¼‰è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚\næ­¥éª¤ç¤ºä¾‹ï¼š\n\næ‰¾åˆ°ä½ æƒ³ä¿®æ”¹çš„æäº¤ä¹‹å‰çš„æäº¤ï¼ˆæ¯”å¦‚ä½ æƒ³ä¿®æ”¹å€’æ•°ç¬¬3ä¸ªæäº¤ï¼‰ï¼š\ngit rebase -i HEAD~3\nè¿™ä¼šæ‰“å¼€ç¼–è¾‘å™¨ï¼Œåˆ—å‡ºæœ€è¿‘3æ¬¡æäº¤ï¼Œä»æœ€æ—§åˆ°æœ€æ–°ã€‚\n\nåœ¨ç¼–è¾‘å™¨ä¸­ï¼Œå°†ä½ æƒ³ä¿®æ”¹çš„æäº¤å‰çš„ pick æ”¹ä¸º editï¼ˆæˆ– eï¼‰ï¼š\nedit abc1234 Add feature Xpick def5678 Fix bug Ypick xyz9012 Update docs\n\nä¿å­˜å¹¶é€€å‡ºï¼ŒGit ä¼šåœ¨ abc1234 æäº¤åæš‚åœã€‚\n\næ­¤æ—¶ä½ å¯ä»¥ï¼š\n\nä¿®æ”¹æ–‡ä»¶ï¼Œ\ngit add ç›¸å…³æ›´æ”¹ã€‚\n\n\nå®Œæˆä¿®æ”¹åï¼Œæ‰§è¡Œï¼š\ngit commit --amend\nï¼ˆè¿™æ—¶ --amend æ˜¯åˆæ³•çš„ï¼Œå› ä¸º HEAD æ­£å¥½åœåœ¨ä½ è¦æ”¹çš„æäº¤ä¸Šï¼‰\n\nç„¶åç»§ç»­å˜åŸºï¼š\ngit rebase --continue\n\nGit ä¼šé‡æ–°åº”ç”¨åç»­çš„æäº¤ï¼Œå½¢æˆæ–°çš„å†å²ã€‚\n\nâš ï¸ æ³¨æ„äº‹é¡¹ï¼š\nrebase -i ä¼šé‡å†™æäº¤å†å²ã€‚å¦‚æœè¿™äº›æäº¤å·²ç»æ¨é€åˆ°å…±äº«ä»“åº“ï¼Œé‡å†™å†å²ä¼šå¯¼è‡´åä½œè€…å‡ºç°é—®é¢˜ã€‚\nåœ¨é‡å†™å†å²å‰ï¼Œå»ºè®®å¤‡ä»½åˆ†æ”¯ï¼šgit branch backup-branch-name\n\n\næ€»ç»“\n\n\næƒ…å†µ\nå‘½ä»¤\n\n\n\nä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤\ngit commit --amend âœ…\n\n\nä¿®æ”¹ä¹‹å‰çš„æŸä¸ªæäº¤\ngit rebase -i + git commit --amend âœ…\n\n\nç›´æ¥ç”¨ --amend æ”¹æ—§æäº¤\nâŒ ä¸å¯èƒ½\n\n\næ‰€ä»¥ï¼Œæƒ³æ”¹æ—§æäº¤ï¼Ÿç”¨ git rebase -i æ˜¯æ­£é“ã€‚\n","categories":["Git"],"tags":["git"]},{"title":"gitè¡¥ä¸","url":"/2017/02/25/git/git%E8%A1%A5%E4%B8%81/","content":"gitè¡¥ä¸åœ¨Gitä¸­ï¼Œæ‰“patchï¼ˆç”Ÿæˆè¡¥ä¸ï¼‰å’Œåº”ç”¨patchï¼ˆåº”ç”¨è¡¥ä¸ï¼‰æ˜¯ä¸¤ä¸ªå¸¸è§çš„æ“ä½œï¼Œä¸»è¦ç”¨äºä»£ç çš„ä¿®æ”¹åˆ†äº«æˆ–ç‰ˆæœ¬é—´çš„å·®å¼‚åŒæ­¥ã€‚ä¸‹é¢æ˜¯å…·ä½“æ­¥éª¤ï¼š\nç”ŸæˆPatchï¼ˆæ‰“Patchï¼‰\nç¡®å®šå˜æ›´èŒƒå›´ï¼šé¦–å…ˆï¼Œç¡®ä¿ä½ çš„å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ï¼ˆæ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ï¼‰ï¼Œç„¶åä½¿ç”¨git addå°†ä½ æƒ³è¦åŒ…å«åœ¨è¡¥ä¸ä¸­çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ã€‚\n\nåˆ›å»ºè¡¥ä¸ï¼š\n\nå¦‚æœä½ åªéœ€è¦é’ˆå¯¹æœ€åä¸€æ¬¡æäº¤åˆ›å»ºè¡¥ä¸ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼šgit format-patch -1 HEAD\nè¿™æ¡å‘½ä»¤ä¼šä¸ºæœ€è¿‘çš„ä¸€æ¬¡æäº¤ç”Ÿæˆä¸€ä¸ªè¡¥ä¸æ–‡ä»¶ã€‚\nè‹¥è¦ä¸ºç‰¹å®šçš„æäº¤IDåˆ›å»ºè¡¥ä¸ï¼Œå¯ä»¥æ›¿æ¢HEADä¸ºä½ æƒ³æ‰“è¡¥ä¸çš„æäº¤IDã€‚\nå¦‚æœéœ€è¦å¯¹ä¸€ç³»åˆ—çš„æäº¤åˆ›å»ºè¡¥ä¸ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šèµ·å§‹å’Œç»“æŸæäº¤IDæ¥å®Œæˆï¼Œä¾‹å¦‚ï¼šgit format-patch sha1^..sha2\nå¦‚æœä½ å·²ç»ä¿®æ”¹äº†ä¸€äº›æ–‡ä»¶ï¼Œä½†è¿˜ä¸æƒ³å°†è¿™äº›æ›´æ”¹æäº¤åˆ°ä»“åº“ä¸­ï¼Œå¹¶å¸Œæœ›ä¸ºè¿™äº›æœªæäº¤çš„æ›´æ”¹åˆ›å»ºä¸€ä¸ªè¡¥ä¸ã€‚é¦–å…ˆä½¿ç”¨git addå°†æŸäº›æ›´æ”¹æš‚å­˜ï¼Œå†ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œä¾‹å¦‚ï¼šgit diff --cached &gt; staged-changes.patch\n\n\n\nåº”ç”¨Patchï¼ˆåº”ç”¨è¡¥ä¸ï¼‰\nè·å–è¡¥ä¸æ–‡ä»¶ï¼šç¡®ä¿ä½ å·²ç»è·å¾—äº†éœ€è¦åº”ç”¨çš„.patchæ–‡ä»¶ã€‚\n\nåº”ç”¨è¡¥ä¸ï¼š\n\nä½¿ç”¨git amå‘½ä»¤æ¥åº”ç”¨è¡¥ä¸ã€‚è¿™ä¸ªå‘½ä»¤ä¸ä»…åº”ç”¨è¡¥ä¸ï¼Œè¿˜ä¼šè‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„æäº¤ï¼Œå¹¶ä¿ç•™åŸå§‹æäº¤ä¿¡æ¯ï¼šgit am &lt; patch-file.patch\nå¦‚æœåªæ˜¯æƒ³ç®€å•åœ°åº”ç”¨è¡¥ä¸è€Œä¸åˆ›å»ºæ–°çš„æäº¤ï¼Œå¯ä»¥ä½¿ç”¨git applyå‘½ä»¤ï¼šgit apply patch-file.patch\næ³¨æ„ï¼Œä½¿ç”¨git applyåï¼Œä½ éœ€è¦æ‰‹åŠ¨æ·»åŠ æ›´æ”¹å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ã€‚\n\n\n\nåœ¨åº”ç”¨è¡¥ä¸ä¹‹å‰ï¼Œæ£€æŸ¥è¡¥ä¸å†…å®¹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µï¼Œä»¥ç¡®ä¿è¡¥ä¸æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶é¿å…å¼•å…¥ä¸å¿…è¦çš„é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯å‡ ç§æ–¹æ³•æ¥æ£€æŸ¥Gitè¡¥ä¸çš„å†…å®¹ï¼š\nä½¿ç”¨ git apply --statè¿™ä¸ªå‘½ä»¤ä¼šæ˜¾ç¤ºè¡¥ä¸å°†è¦ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨ä»¥åŠæ¯ä¸ªæ–‡ä»¶ä¸­å¢åŠ å’Œåˆ é™¤çš„è¡Œæ•°ï¼Œä½†ä¸ä¼šå®é™…åº”ç”¨è¡¥ä¸ã€‚\ngit apply --stat patch-file.patch\n\nä½¿ç”¨ git apply --checkå¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ£€æŸ¥è¡¥ä¸æ˜¯å¦èƒ½å¹²å‡€åœ°åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨--checké€‰é¡¹ã€‚è¿™å¯ä»¥å¸®åŠ©ä½ æå‰å‘ç°æ½œåœ¨çš„å†²çªæˆ–é—®é¢˜ã€‚\ngit apply --check patch-file.patch\n\nå¦‚æœæ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œåˆ™è¡¨ç¤ºè¡¥ä¸å¯ä»¥å¹²å‡€åœ°åº”ç”¨ã€‚å¦‚æœæœ‰é”™è¯¯ä¿¡æ¯ï¼Œè¯´æ˜è¡¥ä¸ä¸èƒ½ç›´æ¥åº”ç”¨ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªã€‚\nç›´æ¥æŸ¥çœ‹è¡¥ä¸æ–‡ä»¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥æ‰“å¼€è¡¥ä¸æ–‡ä»¶æŸ¥çœ‹å…¶å†…å®¹ã€‚è¡¥ä¸æ–‡ä»¶æ˜¯æ–‡æœ¬æ ¼å¼çš„ï¼Œå¯ä»¥ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ã€‚è¡¥ä¸æ–‡ä»¶é€šå¸¸åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼š\n\næäº¤ä¿¡æ¯ï¼ˆå¦‚æœæ˜¯ç”¨git format-patchç”Ÿæˆçš„è¯ï¼‰\næ¯ä¸ªæ–‡ä»¶çš„è·¯å¾„å’Œæ›´æ”¹ç±»å‹ï¼ˆæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ç­‰ï¼‰\nå…·ä½“çš„ä»£ç å·®å¼‚ï¼ˆdiffï¼‰\n\nä¾‹å¦‚ï¼Œä¸€ä¸ªç®€å•çš„è¡¥ä¸æ–‡ä»¶å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š\ndiff --git a/src/file.c b/src/file.cindex 1234567..89abcd0 100644--- a/src/file.c+++ b/src/file.c@@ -10,6 +10,7 @@ void function() &#123;     // existing code+    new_line_of_code(); // æ–°æ·»åŠ çš„ä»£ç è¡Œ &#125;\n\nä½¿ç”¨ git diff æŸ¥çœ‹æ¨¡æ‹Ÿåº”ç”¨åçš„å˜åŒ–å¦‚æœä½ å·²ç»å°è¯•åº”ç”¨äº†è¡¥ä¸ï¼ˆæ¯”å¦‚ä½¿ç”¨git applyï¼‰ï¼Œä½†è¿˜æ²¡æœ‰æäº¤æ›´æ”¹ï¼Œä½ å¯ä»¥ä½¿ç”¨git diffæ¥æŸ¥çœ‹å·¥ä½œç›®å½•ä¸ä¸Šæ¬¡æäº¤ä¹‹é—´çš„æ‰€æœ‰æœªæäº¤æ›´æ”¹ï¼ŒåŒ…æ‹¬ç”±è¡¥ä¸å¼•èµ·çš„æ›´æ”¹ã€‚\ngit diff\n\né€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°æ£€æŸ¥è¡¥ä¸å†…å®¹ï¼Œç¡®ä¿å®ƒä»¬æŒ‰ç…§ä½ çš„é¢„æœŸä¿®æ”¹ä»£ç åº“ã€‚è¿™æœ‰åŠ©äºå‡å°‘å› åº”ç”¨ä¸æ­£ç¡®æˆ–ä¸å®Œæ•´çš„è¡¥ä¸è€Œå¸¦æ¥çš„é£é™©ã€‚\n","categories":["Git"],"tags":["git"]},{"title":"Linuxå¸¸ç”¨æŒ‡ä»¤","url":"/2019/06/05/linux/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"Linuxå¸¸ç”¨æŒ‡ä»¤æŸ¥å†…å­˜ï¼ŒCPUï¼Œç¡¬ç›˜free -h\ncat /proc/meminfo\nlscpu\ntop\ndf -h\n\næŸ¥çœ‹å…¨éƒ¨ç”¨æˆ·cat /etc/passwd\necho ~fleming\n\nåŒºåˆ†ç³»ç»Ÿå’Œæ™®é€šç”¨æˆ·\nç³»ç»Ÿç”¨æˆ·ï¼šUID &lt; 1000ï¼ˆä¸åŒå‘è¡Œç‰ˆå¯èƒ½ç•¥æœ‰ä¸åŒï¼Œå¦‚ Ubuntu ä» 1000 å¼€å§‹ï¼ŒRHEL&#x2F;CentOS ä» 500 æˆ– 1000 å¼€å§‹ï¼‰\næ™®é€šç”¨æˆ·ï¼šUID â‰¥ 1000æŸ¥çœ‹æ™®é€šç”¨æˆ·ï¼ˆUID â‰¥ 1000ï¼‰ï¼šawk -F: &#x27;$3 &gt;= 1000 &#123;print $1&#125;&#x27; /etc/passwd\næŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ï¼ˆUID &lt; 1000ï¼‰ï¼šawk -F: &#x27;$3 &lt; 1000 &#123;print $1&#125;&#x27; /etc/passwd\n\nåˆ é™¤ç”¨æˆ·sudo userdel -r &lt;name&gt;\n\nå°†ç”¨æˆ·åŠ å…¥åˆ°æŸä¸ªç»„sudo usermod -aG docker fleming\n\nåˆ·æ–°ç»„æƒé™newgrp docker\n\næŸ¥çœ‹æœ‰sudoæƒé™çš„ç”¨æˆ·sudo cat /etc/sudoers\ngetent group sudo\n\næ³¨é”€å½“å‰ç”¨æˆ·gnome-session-quit --logout --no-prompt\n\nå¼ºåˆ¶ç»ˆæ­¢æ‰€æœ‰å±äºå½“å‰ç”¨æˆ·çš„ä¼šè¯loginctl terminate-user $USER\n\nèµ‹æƒé™\nç›®å½•æ‰€å±æƒé™sudo chown -R fleming:fleming &lt;path&gt;\nç›®å½•è¯»å†™æ‰§è¡Œæƒé™sudo chmod 755 &lt;path&gt;\nå¯æ‰§è¡Œæ–‡ä»¶sudo chmod +x *.sh\n\næ‰“å°PATHç¯å¢ƒå˜é‡echo $PATH | tr &#x27;:&#x27; &#x27;\\n&#x27;\næ‰“å°ç›®å½•ç»“æ„tree /path/to/target\n\nä¸è§£å‹ï¼Œå…ˆæŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹tar -ztvf app.tar.gz\n\nå‹ç¼©æ–‡ä»¶æˆ–è€…ç›®å½•tar -czf example.tar.gz file1 file2 dir1\n\nè§£å‹ç¼©tarmkdir -p /opt/myapp/tar -xvf example.tar -C /opt/myapp/tar -xzf example.tar.gz -C /opt/myapp/\n\nè§£å‹ç¼©zipmkdir -p /opt/android-ndkunzip ~/Downloads/android-ndk-r25c-linux.zip -d /opt/android-ndkls /opt/android-ndk\n\nåˆ›å»ºæ–‡ä»¶åŠæ–‡ä»¶å¤¹touch file #å•ä¸ªtouch file1 file2 file3 #å¤šä¸ªmkdir path #å•çº§mkdir -p path #å¤šçº§\n\næŸ¥çœ‹å½“å‰è·¯å¾„åŠå¤§å°cd pathpwddu -sh &lt;ç›®å½•æˆ–æ–‡ä»¶å&gt;du -sh ./*du -sh ./* | sort -h # -h å‡åº -n é™åºdu -h --max-depth=1 # ä»…çœ‹ä¸‹ä¸€çº§\n\næŸ¥çœ‹ç¡¬ç›˜ç±»å‹, 1æœºæ¢° 0å›ºæ€lsblk -d -o name,rota\n\næŸ¥æ‰¾æŸä¸ªæ–‡ä»¶sudo find /path/to/search -name &quot;filename&quot;\n\næ‰¾åˆ°å¹¶åˆ é™¤sudo find /path/to/search -type f -name &quot;example.txt&quot; -exec rm &#123;&#125; \\;\n\næŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸²grep -r &quot;PRODUCT_DEX_PREOPT&quot; .\n\nä½¿ç”¨ find å’Œ grep ç»„åˆ\næŸ¥æ‰¾æ‰€æœ‰ .mk æ–‡ä»¶ä¸­çš„ PRODUCT_DEX_PREOPTï¼šfind . -name &quot;*.mk&quot; | xargs grep &quot;PRODUCT_DEX_PREOPT&quot;\n\n","categories":["Linux"],"tags":["linux"]},{"title":"Linuxç³»ç»Ÿç›®å½•å«ä¹‰","url":"/2019/07/16/linux/Linux%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E5%90%AB%E4%B9%89/","content":"Linuxç³»ç»Ÿç›®å½•å«ä¹‰Linuxç³»ç»Ÿä¸­çš„ç›®å½•ç»“æ„éµå¾ªä¸€ç§ç§°ä¸ºFHSï¼ˆFilesystem Hierarchy Standardï¼‰çš„æ ‡å‡†ï¼Œè¿™ç§æ ‡å‡†å®šä¹‰äº†å„ä¸ªç›®å½•çš„ç”¨é€”å’Œå†…å®¹ã€‚ä¸‹é¢æ˜¯å¯¹æ‚¨åˆ—å‡ºçš„æ¯ä¸ªç›®å½•çš„å…·ä½“ä»‹ç»ï¼š\n\n&#x2F;bootï¼šè¿™ä¸ªç›®å½•åŒ…å«äº†å¯åŠ¨Linuxå†…æ ¸å’ŒåŠ è½½å™¨ï¼ˆå¦‚GRUBï¼‰æ‰€éœ€çš„æ–‡ä»¶ã€‚é€šå¸¸åŒ…æ‹¬å†…æ ¸æ˜ åƒã€åˆå§‹åŒ–RAMç£ç›˜é•œåƒç­‰ã€‚\n\n&#x2F;cdromï¼šè¿™æ˜¯ä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œç”¨äºæŒ‚è½½CD-ROMè®¾å¤‡ã€‚ä¸è¿‡åœ¨ç°ä»£Linuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç›®å½•å¯èƒ½å¹¶ä¸å¸¸è§ï¼Œå› ä¸ºå¤§å¤šæ•°å‘è¡Œç‰ˆä½¿ç”¨æ›´é€šç”¨çš„æŒ‚è½½ç‚¹å¦‚&#x2F;mediaæˆ–&#x2F;mntã€‚\n\n&#x2F;dataï¼šè¿™ä¸ªç›®å½•ä¸æ˜¯æ ‡å‡†çš„FHSç›®å½•ï¼Œå®ƒçš„å­˜åœ¨å’Œç”¨é€”å–å†³äºå…·ä½“çš„ç³»ç»Ÿé…ç½®æˆ–åº”ç”¨éœ€æ±‚ã€‚å®ƒå¯èƒ½è¢«ç”¨æ¥å­˜å‚¨ç‰¹å®šåº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚\n\n&#x2F;devï¼šè®¾å¤‡æ–‡ä»¶ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰è®¾å¤‡æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä»£è¡¨äº†ç³»ç»Ÿä¸Šçš„ç¡¬ä»¶è®¾å¤‡ï¼Œå¦‚ç¡¬ç›˜ã€é”®ç›˜ã€é¼ æ ‡ç­‰ã€‚\n\n&#x2F;etcï¼šç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œå‡ ä¹æ‰€æœ‰éœ€è¦ç®¡ç†å‘˜å¹²é¢„çš„é…ç½®æ–‡ä»¶éƒ½å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚\n\n&#x2F;homeï¼šç”¨æˆ·ä¸»ç›®å½•ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å­ç›®å½•ï¼Œç”¨äºå­˜æ”¾ä¸ªäººæ–‡ä»¶å’Œè®¾ç½®ã€‚\n\n&#x2F;lost+foundï¼šå½“æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ£€æŸ¥æ—¶ï¼Œå‘ç°ä¸€äº›æ— ä¸»çš„æ–‡ä»¶å—ï¼Œå®ƒä»¬ä¼šè¢«ç§»åŠ¨åˆ°è¿™é‡Œï¼Œç­‰å¾…ç”¨æˆ·è®¤é¢†ã€‚\n\n&#x2F;mediaï¼šå¯ç§»åŠ¨åª’ä½“çš„æŒ‚è½½ç‚¹ï¼Œå¦‚USBé©±åŠ¨å™¨ã€å…‰ç›˜ç­‰ã€‚\n\n&#x2F;mntï¼šä¸´æ—¶æŒ‚è½½ç‚¹ï¼Œç”¨äºä¸´æ—¶æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚\n\n&#x2F;optï¼šå¯é€‰çš„åº”ç”¨ç¨‹åºè½¯ä»¶åŒ…ï¼Œé€šå¸¸ç”¨äºå®‰è£…é¢å¤–çš„è½¯ä»¶åŒ…ã€‚\n\n&#x2F;procï¼šè¿™æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›äº†è®¿é—®å†…æ ¸å’Œè¿›ç¨‹ä¿¡æ¯çš„æ¥å£ã€‚\n\n&#x2F;rootï¼šè¶…çº§ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œç›¸å½“äºæ™®é€šç”¨æˆ·çš„&#x2F;homeç›®å½•ã€‚\n\n&#x2F;runï¼šè¿è¡Œæ—¶å˜é‡æ•°æ®ï¼Œå¦‚è¿›ç¨‹IDæ–‡ä»¶ã€ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„æ—¶é—´ç­‰ã€‚\n\n&#x2F;snapï¼šSnapåŒ…çš„å®‰è£…ç›®å½•ï¼ŒSnapæ˜¯ä¸€ç§è½¯ä»¶æ‰“åŒ…æ ¼å¼ï¼Œå…è®¸åº”ç”¨ç¨‹åºç‹¬ç«‹äºç³»ç»Ÿåº“è¿è¡Œã€‚\n\n&#x2F;srvï¼šæœåŠ¡æ•°æ®ï¼Œç”¨äºå­˜æ”¾æœåŠ¡ç›¸å…³çš„æ•°æ®ï¼Œå¦‚ç½‘ç«™å†…å®¹ã€FTPæœåŠ¡å™¨æ–‡ä»¶ç­‰ã€‚\n\n&#x2F;sysï¼šå¦ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›å¯¹ç³»ç»Ÿè®¾å¤‡å’Œå†…æ ¸å‚æ•°çš„è®¿é—®ã€‚\n\n&#x2F;usrï¼šç”¨æˆ·ç¨‹åºå’Œæ–‡ä»¶ï¼ŒåŒ…å«å¤§éƒ¨åˆ†ç”¨æˆ·å‘½ä»¤ã€åº“ã€æºä»£ç ç­‰ã€‚\n\n&#x2F;varï¼šå¯å˜æ•°æ®æ–‡ä»¶ï¼Œå¦‚æ—¥å¿—æ–‡ä»¶ã€é‚®ä»¶é˜Ÿåˆ—ã€æ‰“å°æœºé˜Ÿåˆ—ç­‰ã€‚\n\n&#x2F;binï¼šåŸºæœ¬å‘½ä»¤ç›®å½•ï¼ŒåŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå¦‚lsã€cpç­‰ã€‚\n\n&#x2F;lib, &#x2F;lib32, &#x2F;lib64, &#x2F;libx32ï¼šå…±äº«åº“ç›®å½•ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒæ¶æ„çš„å…±äº«åº“æ–‡ä»¶ã€‚\n\n&#x2F;sbinï¼šç³»ç»Ÿç®¡ç†å‘½ä»¤ç›®å½•ï¼ŒåŒ…å«åªæœ‰è¶…çº§ç”¨æˆ·æ‰èƒ½ä½¿ç”¨çš„å‘½ä»¤ã€‚\n\nswapfileï¼šäº¤æ¢æ–‡ä»¶ï¼Œç”¨äºæ‰©å±•ç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ã€‚\n\n\nè¯·æ³¨æ„ï¼ŒæŸäº›ç›®å½•å¦‚&#x2F;dataã€&#x2F;cdromç­‰å¯èƒ½ä¸æ˜¯æ‰€æœ‰Linuxç³»ç»Ÿéƒ½æœ‰çš„æ ‡å‡†ç›®å½•ï¼Œå®ƒä»¬çš„å­˜åœ¨å’Œç”¨é€”å¯èƒ½æ ¹æ®å…·ä½“ç³»ç»Ÿé…ç½®è€Œæœ‰æ‰€ä¸åŒã€‚\n","categories":["Linux"],"tags":["linux"]},{"title":"Nanoç¼–è¾‘æ“ä½œ","url":"/2019/09/12/linux/Nano%E7%BC%96%E8%BE%91%E6%93%8D%E4%BD%9C/","content":"Nanoç¼–è¾‘æ“ä½œåœ¨ Nano æ–‡æœ¬ç¼–è¾‘å™¨ä¸­åˆ é™¤è¡Œæ˜¯ä¸€ä¸ªå¸¸è§çš„æ“ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ é™¤å•è¡Œã€å¤šè¡Œæˆ–æ‰€æœ‰è¡Œã€‚\nå¤åˆ¶shift + insert\nå…¨é€‰Alt + A   Alt + \\  Alt + /  Alt + 6\né€‰ä¸­+å¤åˆ¶+ç²˜è´´Alt + A  Alt + 6  Ctrl + U\nåˆ é™¤å•è¡Œå°†å…‰æ ‡æ”¾åœ¨è¦åˆ é™¤çš„è¡Œä¸Šï¼Œç„¶åæŒ‰ Ctrl + K å³å¯å‰ªåˆ‡æ•´è¡Œã€‚\nCtrl + K\nåˆ é™¤å¤šè¡Œå°†å…‰æ ‡æ”¾åœ¨è¦åˆ é™¤è¡Œçš„èµ·å§‹ä½ç½®ï¼ŒæŒ‰ Ctrl + ^ è®¾ç½®æ ‡è®°ã€‚\nä½¿ç”¨ç®­å¤´é”®é€‰æ‹©è¦åˆ é™¤çš„è¡Œã€‚\næŒ‰ Ctrl + K å‰ªåˆ‡é€‰å®šçš„è¡Œã€‚\nCtrl + ^ (è®¾ç½®æ ‡è®°)ç®­å¤´é”® (é€‰æ‹©è¡Œ)Ctrl + K (å‰ªåˆ‡é€‰å®šçš„è¡Œ)\nåˆ é™¤æ‰€æœ‰å†…å®¹æŒ‰ Alt + \\ è·³è½¬åˆ°æ–‡ä»¶å¼€å¤´ã€‚\næŒ‰ Alt + T åˆ é™¤æ‰€æœ‰å†…å®¹ã€‚\nAlt + \\ (è·³è½¬åˆ°æ–‡ä»¶å¼€å¤´)Alt + T (åˆ é™¤æ‰€æœ‰å†…å®¹)è¿™äº›å¿«æ·é”®ä½¿å¾—åœ¨ Nano ä¸­åˆ é™¤è¡Œå˜å¾—éå¸¸ç®€å•å’Œé«˜æ•ˆã€‚å¦‚æœä½ éœ€è¦æ’¤é”€åˆ é™¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ Ctrl + U æ¢å¤å·²åˆ é™¤çš„æ–‡æœ¬ã€‚\n","categories":["Linux"],"tags":["linux"]},{"title":"MonoBehaviourç”Ÿå‘½å‘¨æœŸ","url":"/2025/04/03/unity/MonoBehaviour%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/","content":"MonoBehaviourç”Ÿå‘½å‘¨æœŸUnity ä¸­çš„ MonoBehaviour ç±»æä¾›äº†ä¸€ç³»åˆ—çš„å›è°ƒæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æŒ‰ç…§ä¸€å®šçš„é¡ºåºè¢«è°ƒç”¨ï¼Œå½¢æˆäº†è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸã€‚äº†è§£è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¯¹äºæ§åˆ¶æ¸¸æˆå¯¹è±¡çš„è¡Œä¸ºéå¸¸é‡è¦ã€‚ä»¥ä¸‹æ˜¯ MonoBehaviour çš„ä¸»è¦ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š\n\nAwake(): å½“è„šæœ¬å®ä¾‹è¢«åŠ è½½æ—¶è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•åœ¨æ•´ä¸ªæ¸¸æˆç”Ÿå‘½å‘¨æœŸä¸­åªè°ƒç”¨ä¸€æ¬¡ï¼Œé€šå¸¸ç”¨äºåˆå§‹åŒ–å˜é‡æˆ–æ¸¸æˆçŠ¶æ€ã€‚\n\nOnEnable(): å½“å¯¹è±¡å˜ä¸ºå¯ç”¨æˆ–æ¿€æ´»çŠ¶æ€æ—¶è°ƒç”¨ã€‚å½“ä¸€ä¸ªå¯¹è±¡ä»éæ¿€æ´»çŠ¶æ€è½¬ä¸ºæ¿€æ´»çŠ¶æ€ï¼ˆæ¯”å¦‚é€šè¿‡è®¾ç½® gameObject.SetActive(true)ï¼‰æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚æ¯æ¬¡å¯¹è±¡å˜å¾—å¯ç”¨æ—¶éƒ½ä¼šè°ƒç”¨ã€‚\n\nStart(): åœ¨ç¬¬ä¸€æ¬¡å¸§æ›´æ–°ä¹‹å‰è°ƒç”¨ã€‚ä»…åœ¨å¯ç”¨çŠ¶æ€ä¸‹æ‰ä¼šè¢«è°ƒç”¨ï¼Œå¸¸ç”¨äºéœ€è¦ç­‰å¾…æ‰€æœ‰åˆå§‹åŒ–å®Œæˆåå†æ‰§è¡Œçš„æ“ä½œã€‚\n\nFixedUpdate(): å›ºå®šç‰©ç†æ›´æ–°é¢‘ç‡è°ƒç”¨ã€‚ç”¨äºå¤„ç†ç‰©ç†ç›¸å…³çš„è®¡ç®—ï¼Œå› ä¸ºå®ƒçš„è°ƒç”¨ä¸å—å¸§ç‡çš„å½±å“ã€‚\n\nUpdate(): æ¯å¸§è°ƒç”¨ä¸€æ¬¡ã€‚è¿™æ˜¯ä½¿ç”¨æœ€é¢‘ç¹çš„æ–¹æ³•ä¹‹ä¸€ï¼Œé€‚åˆç”¨äºå¤„ç†ä¸å¸§ç‡åŒæ­¥çš„æ¸¸æˆé€»è¾‘ã€‚\n\nLateUpdate(): åœ¨æ¯å¸§Updateæ–¹æ³•ä¹‹åè°ƒç”¨ã€‚ä¸»è¦ç”¨äºå¤„ç†è·Ÿéšæ‘„åƒæœºç­‰éœ€è¦åœ¨æ‰€æœ‰å…¶ä»–æ›´æ–°å®Œæˆåè¿›è¡Œçš„æ“ä½œã€‚\n\nOnDisable(): å½“å¯¹è±¡å˜ä¸ºä¸å¯ç”¨æˆ–éæ¿€æ´»çŠ¶æ€æ—¶è°ƒç”¨ã€‚å¦‚æœä¸€ä¸ªæ¸¸æˆå¯¹è±¡è¢«ç¦ç”¨æˆ–è€…å…¶åŒ…å«çš„è„šæœ¬è¢«ç§»é™¤æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚\n\nOnDestroy(): å½“è„šæœ¬å®ä¾‹å°†è¢«é”€æ¯æ—¶è°ƒç”¨ã€‚åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œå¯ä»¥ç”¨æ¥æ¸…ç†èµ„æºæˆ–æ‰§è¡Œæœ€åçš„æ¸…ç†æ“ä½œã€‚\n\n\né™¤äº†ä¸Šè¿°æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸æ¸²æŸ“å’Œç¢°æ’æ£€æµ‹ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¦‚ OnTriggerEnter, OnTriggerExit, OnCollisionEnter, ç­‰ç­‰ï¼Œè¿™äº›æ–¹æ³•æ ¹æ®å…·ä½“çš„æ¸¸æˆäº¤äº’æƒ…å†µè¢«è°ƒç”¨ã€‚æŒæ¡è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰åŠ©äºæ›´é«˜æ•ˆåœ°ç¼–å†™Unityè„šæœ¬å¹¶ä¼˜åŒ–æ¸¸æˆæ€§èƒ½ã€‚\n","categories":["Unity 3D"],"tags":["unity"]},{"title":"Androidä¸­ä¸°å¯Œçš„å¯¹è¯æ¡†","url":"/2017/08/10/%E4%BB%A3%E7%A0%81/Android%E4%B8%AD%E4%B8%B0%E5%AF%8C%E7%9A%84%E5%AF%B9%E8%AF%9D%E6%A1%86/","content":"Androidä¸­å¯¹è¯æ¡†çš„å±•ç¤ºï¼Œå¯¹äººæœºäº¤äº’æœ‰ç€é‡è¦çš„æ„ä¹‰ï¼Œå¸¸è§çš„å¯¹è¯æ¡†åŒ…æ‹¬ï¼š\n\nè­¦å‘Šå¯¹è¯æ¡†\nè¿›åº¦å¯¹è¯æ¡†\næ—¥æœŸé€‰æ‹©å¯¹è¯æ¡†\næ—¶é—´é€‰æ‹©å¯¹è¯æ¡†\næ™®é€šåˆ—è¡¨å¯¹è¯æ¡†\nå•é€‰åˆ—è¡¨å¯¹è¯æ¡†\nå¤šé€‰åˆ—è¡¨å¯¹è¯æ¡†\nå¸¦å›¾æ ‡çš„åˆ—è¡¨å¯¹è¯æ¡†\n\nå¯¹äºç‰¹æ®Šçš„å¯¹è¯æ¡†å½¢å¼è¿˜å¯ä»¥è‡ªå®šä¹‰å¯¹è¯æ¡†\nä¸‹é¢å¯¹è¿™äº›å¯¹è¯æ¡†çš„ä½¿ç”¨è¿›è¡Œè¯´æ˜ï¼š\nè­¦å‘Šå¯¹è¯æ¡†private void showAlertDialog() &#123;        AlertDialog.Builder builder = new AlertDialog.Builder(this);        builder.setTitle(&quot;æç¤º&quot;);        builder.setIcon(R.mipmap.ic_launcher);        builder.setMessage(&quot;æ‚¨æœ‰ä¸€ç¬”2åƒä¸‡çš„æ±‡æ¬¾åœ¨å¤„ç†ï¼Œè¯·é—®æ˜¯æ‚¨äº²è‡ªæ“ä½œçš„å—ï¼Ÿ&quot;);        builder.setPositiveButton(R.string.confirm, new DialogInterface.OnClickListener() &#123;            @Override            public void onClick(DialogInterface dialogInterface, int i) &#123;                Log.d(TAG, &quot;onClick: &quot; + i);                toast(R.string.confirm);            &#125;        &#125;);        builder.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() &#123;            @Override            public void onClick(DialogInterface dialogInterface, int i) &#123;                dialogInterface.dismiss();                toast(R.string.cancel);            &#125;        &#125;);        builder.setNeutralButton(R.string.exit, new DialogInterface.OnClickListener() &#123;            @Override            public void onClick(DialogInterface dialogInterface, int i) &#123;                Log.d(TAG, &quot;onClick: &quot; + i);                toast(R.string.exit);            &#125;        &#125;);        AlertDialog dialog = builder.create();        dialog.show();&#125;\n\nè¿›åº¦å¯¹è¯æ¡†private void showPgsDialog() &#123;        final ProgressDialog dialog = new ProgressDialog(this);        dialog.setTitle(&quot;ä¸‹è½½æç¤º&quot;);        dialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);        dialog.setMax(100);        dialog.setButton(DialogInterface.BUTTON_POSITIVE, getString(R.string.background), new DialogInterface.OnClickListener() &#123;            @Override            public void onClick(DialogInterface dialog, int which) &#123;            &#125;        &#125;);        dialog.onStart();        new Thread(new Runnable() &#123;            @Override            public void run() &#123;                int i = 10;                while (i &lt;= 100) &#123;                    try &#123;                        Thread.sleep(100);                        dialog.incrementProgressBy(1);                        i++;                    &#125; catch (InterruptedException e) &#123;                        e.printStackTrace();                    &#125;                &#125;                dialog.dismiss();            &#125;        &#125;).start();        dialog.show();&#125;\n\næ—¥æœŸé€‰æ‹©å¯¹è¯æ¡†private void showDatePickerDialog() &#123;        Calendar calendar = Calendar.getInstance();        int year = calendar.get(Calendar.YEAR);        int month = calendar.get(Calendar.MONTH);        int day = calendar.get(Calendar.DAY_OF_MONTH);        DatePickerDialog dialog = new MyDatePickerDialog(this, new DatePickerDialog.OnDateSetListener() &#123;            @Override            public void onDateSet(DatePicker datePicker, int year, int monthOfYear, int dayOfMonth) &#123;                Log.d(TAG, &quot;onDateSet: &quot; + year + &quot;.&quot; + (monthOfYear + 1) + &quot;.&quot; + dayOfMonth);                toast(&quot;ä½ é€‰æ‹©çš„æ—¥æœŸæ˜¯ï¼š&quot; + year + &quot;.&quot; + (monthOfYear + 1) + &quot;.&quot; + dayOfMonth);            &#125;        &#125;, year, month, day);        dialog.show();&#125;\nåœ¨æ„é€ DatePickerDialogçš„æ—¶å€™éœ€è¦ä¼ å…¥åˆå§‹åŒ–çš„year,month,dayï¼ŒmonthOfYearæ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥å¾—åˆ°çš„æœˆä»½è¦è®°å¾—åŠ 1ã€‚\næ—¶é—´é€‰æ‹©å¯¹è¯æ¡†private void showTimePickerDialog() &#123;        Calendar calendar = Calendar.getInstance();        int hour = calendar.get(Calendar.HOUR_OF_DAY);        int minute = calendar.get(Calendar.MINUTE);        TimePickerDialog dialog = new MyTimePickerDialog(this, new TimePickerDialog.OnTimeSetListener() &#123;            @Override            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) &#123;                Log.d(TAG, &quot;onTimeSet: &quot; + hourOfDay + &quot;:&quot; + minute);                toast(&quot;ä½ é€‰æ‹©çš„æ—¶é—´æ˜¯ï¼š&quot; + hourOfDay + &quot;:&quot; + minute);            &#125;        &#125;, hour, minute, true);        dialog.show();&#125;\nåœ¨æ„é€ TimePickerDialogæ—¶è¦ä¼ å…¥åˆå§‹åŒ–çš„hourå’Œminuteï¼Œç¬¬äº”ä¸ªå‚æ•°æ˜¯å¸ƒå°”å‹å˜é‡ï¼Œæ˜¯å¦æ˜¯24å°æ—¶åˆ¶ï¼Œä¼ å…¥trueè®¾ç½®24å°æ—¶åˆ¶ï¼Œåä¹‹äº¦ç„¶ã€‚\næ³¨æ„ï¼šåœ¨ä½¿ç”¨DatePickerDialogå’ŒTimePickerDialogæ—¶ï¼Œè¦è§£å†³å…¼å®¹æ€§çš„é—®é¢˜ï¼Œåœ¨å›è°ƒonDateSetæ—¶ï¼Œ4.3ç³»ç»Ÿåä¼šå›è°ƒä¸¤æ¬¡ï¼Œè€Œ4.3ä»¥ä¸‹çš„åˆ™å›è°ƒä¸€æ¬¡ï¼Œè¿™æ ·å¾ˆå½±å“ä¸šåŠ¡é€»è¾‘ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦é‡å†™DatePickerDialogçš„onStopæ–¹æ³•ï¼Œå°†super.onStop()æ–¹æ³•å»æ‰å³å¯ã€‚è¯¦ç»†å¯å‚è€ƒhttp://blog.csdn.net/wxuande/article/details/44002791\npublic class MyDatePickerDialog extends DatePickerDialog &#123;    public MyDatePickerDialog(Context context, OnDateSetListener listener, int year, int month, int dayOfMonth) &#123;        super(context, listener, year, month, dayOfMonth);    &#125;    public MyDatePickerDialog(Context context, int themeResId, OnDateSetListener listener, int year, int monthOfYear, int dayOfMonth) &#123;        super(context, themeResId, listener, year, monthOfYear, dayOfMonth);    &#125;    //è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼Œå³onDateSetæ–¹æ³•å›è°ƒä¸¤æ¬¡çš„bug    @Override    protected void onStop() &#123;    &#125;&#125;\n\næ™®é€šåˆ—è¡¨å¯¹è¯æ¡†//æ ¸å¿ƒæ–¹æ³•builder.setItems(arrayColor, new DialogInterface.OnClickListener() &#123;    @Override    public void onClick(DialogInterface dialogInterface, int i) &#123;        Log.d(TAG, &quot;onClick: &quot; + arrayColor[i]);        toast(&quot;ä½ é€‰æ‹©çš„æ˜¯ï¼š&quot; + arrayColor[i]);    &#125;&#125;);\n\nå•é€‰åˆ—è¡¨å¯¹è¯æ¡†//æ ¸å¿ƒæ–¹æ³•builder.setSingleChoiceItems(arrayGender, -1, new DialogInterface.OnClickListener() &#123;    @Override    public void onClick(final DialogInterface dialogInterface, int i) &#123;        Log.d(TAG, &quot;onClick: &quot; + arrayGender[i]);        toast(&quot;ä½ é€‰æ‹©çš„æ˜¯ï¼š&quot; + arrayGender[i]);    &#125;&#125;);\nsetSingleChoiceItemsçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯itemçš„indexï¼Œ-1è¡¨ç¤ºä¸é¢„å…ˆé€‰æ‹©ï¼Œ0è¡¨ç¤ºé€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚\nå¤šé€‰åˆ—è¡¨å¯¹è¯æ¡†final boolean[] pos = new boolean[arrayFruits.length];builder.setMultiChoiceItems(arrayFruits, null, new DialogInterface.OnMultiChoiceClickListener() &#123;    @Override    public void onClick(DialogInterface dialogInterface, int i, boolean b) &#123;        pos[i] = b;    &#125;&#125;);builder.setPositiveButton(R.string.confirm, new DialogInterface.OnClickListener() &#123;    @Override    public void onClick(DialogInterface dialogInterface, int which) &#123;        StringBuilder sb = new StringBuilder();        for (int i = 0, length = pos.length; i &lt; length; i++) &#123;            if (pos[i]) &#123;                sb.append(arrayFruits[i]);                sb.append(&quot;ã€&quot;);            &#125;        &#125;        Log.d(TAG, &quot;onClick: &quot; + sb.deleteCharAt(sb.length() - 1).toString());        toast(&quot;ä½ é€‰æ‹©çš„æ˜¯ï¼š&quot; + sb.deleteCharAt(sb.length() - 1).toString());    &#125;&#125;);\nsetMultiChoiceItemsçš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯è¢«é€‰ä¸­çš„itemï¼Œnullè¡¨ç¤ºä¸è®¾é»˜è®¤å€¼ã€‚\nå¸¦å›¾æ ‡çš„åˆ—è¡¨å¯¹è¯æ¡†builder.setAdapter(new ListItemAdapter(), new DialogInterface.OnClickListener() &#123;    @Override    public void onClick(DialogInterface dialog, int which) &#123;        toast(&quot;ä½ é€‰æ‹©çš„æ˜¯ï¼š&quot; + arrayColor[which]);    &#125;&#125;);private class ListItemAdapter extends BaseAdapter &#123;    int[] imgIds = &#123;R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher&#125;;    @Override    public int getCount() &#123;        return imgIds.length;    &#125;    @Override    public Integer getItem(int position) &#123;        return imgIds[position];    &#125;    @Override    public long getItemId(int position) &#123;        return position;    &#125;    @Override    public View getView(int position, View convertView, ViewGroup parent) &#123;        TextView textView = new TextView(MainActivity.this);        textView.setText(getResources().getStringArray(R.array.colors)[position]);        textView.setTextSize(24);        AbsListView.LayoutParams layoutParams = new AbsListView.LayoutParams(                AbsListView.LayoutParams.MATCH_PARENT, AbsListView.LayoutParams.WRAP_CONTENT        );        textView.setGravity(Gravity.CENTER_VERTICAL);        textView.setLayoutParams(layoutParams);        textView.setCompoundDrawablesWithIntrinsicBounds(getItem(position), 0, 0, 0);        textView.setPadding(40, 0, 40, 0);        textView.setCompoundDrawablePadding(8);        return textView;    &#125;&#125;\n\nè‡ªå®šä¹‰å¯¹è¯æ¡†final View root = LayoutInflater.from(this).inflate(R.layout.dialog_login, null);builder.setView(root);builder.setPositiveButton(R.string.confirm, new DialogInterface.OnClickListener() &#123;    @Override    public void onClick(DialogInterface dialog, int which) &#123;        String name = ((EditText) root.findViewById(R.id.et_name)).getText().toString();        String pwd = ((EditText) root.findViewById(R.id.et_pwd)).getText().toString();        if (TextUtils.isEmpty(name)) &#123;            toast(&quot;è´¦å·ä¸èƒ½ä¸ºç©º&quot;);            return;        &#125;        if (TextUtils.isEmpty(pwd)) &#123;            toast(&quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;);            return;        &#125;        toast(&quot;è´¦å·ï¼š&quot; + name + &quot;, å¯†ç ï¼š&quot; + pwd);    &#125;&#125;);\nè¿™é‡Œæ˜¯åˆ›å»ºä¸€ä¸ªå¸ƒå±€æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å®šä¹‰æ§ä»¶ï¼Œä½†æ˜¯è¦æ³¨æ„å¸ƒå±€çš„ç¾è§‚å°±å¯ä»¥äº†ã€‚\n","categories":["Code"],"tags":["Dialog","AlertDialog","Android","ä»£ç "]},{"title":"å¸¸ç”¨ grep é€‰é¡¹","url":"/2019/09/04/linux/%E5%B8%B8%E7%94%A8%20grep%20%E9%80%89%E9%A1%B9/","content":"å¸¸ç”¨ grep é€‰é¡¹\ngrepï¼šå…¨ç§°æ˜¯ â€œGlobal Regular Expression Printâ€ï¼Œæ„æ€æ˜¯â€œå…¨å±€æ­£åˆ™è¡¨è¾¾å¼æ‰“å°â€ã€‚å®ƒçš„ä½œç”¨æ˜¯æœç´¢æ–‡æœ¬ä¸­åŒ¹é…æŒ‡å®šæ¨¡å¼çš„è¡Œï¼Œå¹¶å°†è¿™äº›è¡Œè¾“å‡ºï¼ˆæ‰“å°ï¼‰å‡ºæ¥ã€‚\n\n\n\n\né€‰é¡¹\nå«ä¹‰\nç¤ºä¾‹\n\n\n\n-i\nå¿½ç•¥å¤§å°å†™\ngrep -i &quot;error&quot; log.txt\n\n\n-v\nåå‘åŒ¹é…ï¼ˆæ˜¾ç¤ºä¸åŒ…å«æŒ‡å®šæ¨¡å¼çš„è¡Œï¼‰\ngrep -v &quot;success&quot; log.txt\n\n\n-n\næ˜¾ç¤ºåŒ¹é…è¡Œçš„è¡Œå·\ngrep -n &quot;hello&quot; file.txt\n\n\n-r æˆ– -R\né€’å½’æœç´¢ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶\ngrep -r &quot;password&quot; /home/user/\n\n\n-l\nåªåˆ—å‡ºåŒ…å«åŒ¹é…é¡¹çš„æ–‡ä»¶å\ngrep -l &quot;TODO&quot; *.py\n\n\n-c\næ˜¾ç¤ºåŒ¹é…çš„è¡Œæ•°ï¼ˆè®¡æ•°ï¼‰\ngrep -c &quot;error&quot; log.txt\n\n\n-w\nåŒ¹é…æ•´ä¸ªå•è¯ï¼ˆä¸æ˜¯éƒ¨åˆ†ï¼‰\ngrep -w &quot;cat&quot; file.txtï¼ˆä¸ä¼šåŒ¹é… categoryï¼‰\n\n\n-E\nä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæˆ–ç”¨ egrepï¼‰\n&#96;grep -E â€œerror\n\n\n-A N\næ˜¾ç¤ºåŒ¹é…è¡Œä¹‹åçš„ N è¡Œ\ngrep -A 2 &quot;error&quot; log.txt\n\n\n-B N\næ˜¾ç¤ºåŒ¹é…è¡Œä¹‹å‰çš„ N è¡Œ\ngrep -B 2 &quot;error&quot; log.txt\n\n\n-C N\næ˜¾ç¤ºåŒ¹é…è¡Œå‰åå„ N è¡Œï¼ˆä¸Šä¸‹æ–‡ï¼‰\ngrep -C 3 &quot;error&quot; log.txt\n\n\n--color\né«˜äº®æ˜¾ç¤ºåŒ¹é…å†…å®¹ï¼ˆå¾ˆå¤šç³»ç»Ÿé»˜è®¤å¼€å¯ï¼‰\ngrep --color &quot;key&quot; file.txt\n\n\n\nğŸ§ª å®é™…ä¾‹å­æ¼”ç¤ºå‡è®¾æ–‡ä»¶ log.txt å†…å®¹å¦‚ä¸‹ï¼š\n2023-01-01 ERROR: Failed to connectUser logged in successfully2023-01-01 WARNING: Disk space lowERROR in module authEverything is fine\n\nç¤ºä¾‹ 1ï¼šå¿½ç•¥å¤§å°å†™ + æ˜¾ç¤ºè¡Œå·grep -in &quot;error&quot; log.txt\nè¾“å‡ºï¼š\n1:2023-01-01 ERROR: Failed to connect4:ERROR in module auth\n\nç¤ºä¾‹ 2ï¼šæ’é™¤åŒ…å« â€œsuccessâ€ çš„è¡Œgrep -v &quot;success&quot; log.txt\nè¾“å‡ºï¼š\n2023-01-01 ERROR: Failed to connect2023-01-01 WARNING: Disk space lowERROR in module authEverything is fine\n\nç¤ºä¾‹ 3ï¼šé€’å½’æŸ¥æ‰¾æ‰€æœ‰ .log æ–‡ä»¶ä¸­åŒ…å« â€œERRORâ€ çš„è¡Œgrep -r -i &quot;ERROR&quot; /var/log/*.log\n\nç¤ºä¾‹ 4ï¼šåªçœ‹å“ªäº›æ–‡ä»¶åŒ…å« â€œTODOâ€grep -l &quot;TODO&quot; *.py\nè¾“å‡ºå¯èƒ½ï¼š\napp.pyutils.py\n\nç¤ºä¾‹ 5ï¼šåŒ¹é…å®Œæ•´å•è¯ â€œfailâ€ï¼Œé¿å…åŒ¹é… â€œfailureâ€grep -w &quot;fail&quot; log.txt\nè¿™æ ·å°±ä¸ä¼šæŠŠ failure ä¹Ÿç®—è¿›å»ã€‚\nç¤ºä¾‹ 6ï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠå…¶å‰å 2 è¡Œï¼ˆæŸ¥çœ‹ä¸Šä¸‹æ–‡ï¼‰grep -C 2 &quot;ERROR&quot; log.txt\nè¾“å‡ºä¼šåŒ…æ‹¬é”™è¯¯è¡Œä»¥åŠå®ƒå‰åå„ä¸¤è¡Œï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚\n\nğŸ’¡ å°æŠ€å·§\nç»„åˆä½¿ç”¨ï¼šå¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªé€‰é¡¹ï¼Œæ¯”å¦‚ï¼š\ngrep -rin &quot;error&quot; /var/log/\nè¡¨ç¤ºï¼šé€’å½’ã€å¿½ç•¥å¤§å°å†™ã€æ˜¾ç¤ºè¡Œå·åœ°æœç´¢æ‰€æœ‰ errorã€‚\n\né…åˆç®¡é“ä½¿ç”¨ï¼š\nps aux | grep -i &quot;nginx&quot;\næŸ¥æ‰¾è¿›ç¨‹ä¸­æ˜¯å¦æœ‰ nginxï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚\n\nä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š\ngrep -E &quot;error|fatal|critical&quot; log.txt\næœç´¢åŒ…å« errorã€fatal æˆ– critical çš„è¡Œã€‚\n\n\n","categories":["Grep"],"tags":["linux"]},{"title":"EdgeToEdgeå…¨å±çŠ¶æ€å’Œå¯¼èˆªæ é«˜åº¦é€‚é…","url":"/2024/11/06/%E4%BB%A3%E7%A0%81/EdgeToEdge%E5%85%A8%E5%B1%8F%E7%8A%B6%E6%80%81%E5%92%8C%E5%AF%BC%E8%88%AA%E6%A0%8F%E9%AB%98%E5%BA%A6%E9%80%82%E9%85%8D/","content":"EdgeToEdgeå…¨å±çŠ¶æ€å’Œå¯¼èˆªæ é«˜åº¦é€‚é…ViewCompat.setOnApplyWindowInsetsListener(binding.root) &#123; v, insets -&gt;    val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())    v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)    insets&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"EditTexté‡Œæ€ä¹ˆè‡ªå¸¦åˆ é™¤æŒ‰é’®","url":"/2017/08/11/%E4%BB%A3%E7%A0%81/EditText%E9%87%8C%E6%80%8E%E4%B9%88%E8%87%AA%E5%B8%A6%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE/","content":"å‰è¨€å¯¹äºæ™®é€šçš„ç¼–è¾‘æ¡†ï¼Œå®ƒçš„åŠŸèƒ½å°±æ˜¯è´Ÿè´£æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šæœ‰è¿™æ ·çš„è®¾è®¡ï¼Œå°±æ˜¯åœ¨è¾“å…¥å†…å®¹åï¼Œç¼–è¾‘æ¡†çš„å†…éƒ¨å³ä¾§ä¼šå‡ºç°ä¸€ä¸ªåˆ é™¤æŒ‰é’®ï¼Œç‚¹å‡»åä¼šæ¸…ç©ºç¼–è¾‘æ¡†é‡Œçš„å†…å®¹ï¼Œè¿™æ ·çš„äº¤äº’æ˜¯æå¥½çš„ï¼Œé‚£è¿™åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ\nè§£å†³æ€è·¯æ¯«æ— ç–‘é—®æ˜¯â€”â€”ç»§æ‰¿è‡ªEditTextï¼Œè‡ªå®šä¹‰æ–‡æœ¬ç¼–è¾‘æ¡†\nä¸ºEditTextè®¾ç½®addTextChangeListener\n\nåˆ›å»ºå†…éƒ¨ç±»å®ç°TextWatcheræ¥å£ï¼Œç›‘å¬è¾“å…¥æ¡†æ–‡æœ¬çš„å˜åŒ–\næ”¹å†™onTouchEventäº‹ä»¶ï¼Œç‚¹å‡»å‰å·ä½ç½®ï¼Œæ¸…ç©ºæ–‡æœ¬\né€šè¿‡setCompoundDrawablesWithIntrinsicBoundsæ–¹æ³•ä¸ºEditTextè®¾ç½®å›¾ç‰‡\næç¤ºï¼Œå…ˆå‡†å¤‡ä¸€å¼ pngçš„å›¾ç‰‡ï¼Œç”±äºEditTextæ˜¯ç»§æ‰¿è‡ªTextViewçš„ï¼Œå› æ­¤ä¹Ÿæœ‰setCompoundDrawablesWithIntrinsicBoundsæ–¹æ³•ã€‚\n\nè‡ªå®šä¹‰EditTextWithDelç±»ç»§æ‰¿è‡ªEditTextï¼Œé‡å†™æ„é€ å‡½æ•°ã€‚\npublic EditTextWithDel(Context context) &#123;    super(context);    mContext = context;    init();&#125;public EditTextWithDel(Context context, AttributeSet attrs) &#123;    super(context, attrs);    mContext = context;    init();&#125;public EditTextWithDel(Context context, AttributeSet attrs, int defStyleAttr) &#123;    super(context, attrs, defStyleAttr);    mContext = context;    init();&#125;\n\nç›‘å¬æ–‡æœ¬æ˜¯å¦æ”¹å˜çš„äº‹ä»¶private void init() &#123;        imgInable = mContext.getResources().getDrawable(R.drawable.delete_grey);        addTextChangedListener(new EditTextWatcher());        setDrawable();&#125;\n\nåˆ›å»ºå†…éƒ¨ç±»å®ç°TextWatcheræ¥å£private class EditTextWatcher implements TextWatcher &#123;        @Override        public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;            //æ–‡æœ¬å°†è¦è¢«æ›¿æ¢        &#125;        @Override        public void onTextChanged(CharSequence s, int start, int before, int count) &#123;            //æ—§æ–‡æœ¬æ­£åœ¨è¢«æ›¿æ¢        &#125;        @Override        public void afterTextChanged(Editable s) &#123;            //æ–‡æœ¬å·²ç»è¢«æ›¿æ¢            setDrawable();        &#125;&#125;\n\né‡å†™onTouchEventäº‹ä»¶@Overridepublic boolean onTouchEvent(MotionEvent event) &#123;        if (imgInable != null &amp;&amp; event.getAction() == MotionEvent.ACTION_UP) &#123;            int eventX = (int) event.getRawX();            int eventY = (int) event.getRawY();            Log.e(TAG, &quot;eventX = &quot; + eventX + &quot;; eventY = &quot; + eventY);            Rect rect = new Rect();            getGlobalVisibleRect(rect);//è·å–è§†å›¾åœ¨å±å¹•åæ ‡ä¸­çš„å¯è§†åŒºåŸŸ            rect.left = rect.right - 100;            if (rect.contains(eventX, eventY)) &#123;                setText(&quot;&quot;);//åˆ¤æ–­æ˜¯å¦åœ¨å‰å·èŒƒå›´å†…ï¼Œåœ¨å°±æ¸…ç©º            &#125;        &#125;        return super.onTouchEvent(event);&#125;\n\nè®¾ç½®å‰å·è§†å›¾private void setDrawable() &#123;        if (length() &lt; 1) &#123;            setCompoundDrawablesWithIntrinsicBounds(null, null, null, null);        &#125; else &#123;            //å·¦ã€ä¸Šã€å³ã€ä¸‹ï¼Œè¿™æ ·çš„å‚æ•°éƒ½æ˜¯å¥—è·¯ï¼Œè®°ä¸‹å°±è¡Œ            setCompoundDrawablesWithIntrinsicBounds(null, null, imgInable, null);        &#125;&#125;\nå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åˆ¤æ–­æ–‡æœ¬æ¡†å†…å®¹çš„é•¿åº¦ï¼Œé•¿åº¦è¶…è¿‡1çš„å°±è®¾ç½®å‰å·è§†å›¾ï¼Œå°äº1çš„å°±è®¾ç½®ä¸ºnullã€‚\n\n\nå¸Œæœ›æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼\n","categories":["Code"],"tags":["Android","ä»£ç ","EditText","UI"]},{"title":"Edittextç‚¹å‡»å¤–éƒ¨åŒºåŸŸéšè—è½¯ä»¶ç›˜","url":"/2020/02/27/%E4%BB%A3%E7%A0%81/Edittext%E7%82%B9%E5%87%BB%E5%A4%96%E9%83%A8%E5%8C%BA%E5%9F%9F%E9%9A%90%E8%97%8F%E8%BD%AF%E4%BB%B6%E7%9B%98/","content":"Edittextç‚¹å‡»å¤–éƒ¨åŒºåŸŸéšè—è½¯ä»¶ç›˜binding.root.setOnTouchListener &#123; _, event -&gt;    if (event.action == MotionEvent.ACTION_DOWN) &#123;        val focusedView: View? = activity?.currentFocus        if (focusedView is EditText) &#123;            // å¦‚æœå½“å‰ç„¦ç‚¹åœ¨EditTextä¸Šï¼Œå¹¶ä¸”ç‚¹å‡»ä½ç½®ä¸åœ¨EditTextèŒƒå›´å†…ï¼Œéšè—é”®ç›˜            if (event.x &lt; focusedView.getLeft() || event.x &gt; focusedView.getRight() ||                event.y &lt; focusedView.getTop() || event.y &gt; focusedView.getBottom()) &#123;                hideSoftInput()            &#125;        &#125;    &#125;    false&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"Kotlinè¯­æ³•ç³–","url":"/2022/02/08/%E4%BB%A3%E7%A0%81/Kotlin%E8%AF%AD%E6%B3%95%E7%B3%96/","content":"Kotlinè¯­æ³•ç³–Kotlin æ˜¯ä¸€ç§ç°ä»£ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå¼•å…¥äº†è®¸å¤šè¯­æ³•ç³–å’Œç‰¹æ€§ï¼Œæ—¨åœ¨æé«˜ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº› Kotlin ä¸­å¸¸ç”¨çš„è¯­æ³•ç³–å’Œç‰¹æ€§ï¼š\n1. æ•°æ®ç±»ï¼ˆData Classesï¼‰Kotlin çš„æ•°æ®ç±»è‡ªåŠ¨ç”Ÿæˆå¸¸è§çš„æ–¹æ³•ï¼Œå¦‚ equals(), hashCode(), toString(), copy() ç­‰ã€‚\ndata class User(val name: String, val age: Int)\n\n2. å±æ€§å§”æ‰˜ï¼ˆProperty Delegatesï¼‰å±æ€§å§”æ‰˜å…è®¸ä½ å°†å±æ€§çš„ getter å’Œ setter ä»£ç†ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚\nclass User &#123;    var name: String by Delegates.observable(&quot;John Doe&quot;) &#123; prop, old, new -&gt;        println(&quot;$old -&gt; $new&quot;)    &#125;&#125;\n\n3. æ™ºèƒ½è½¬æ¢ï¼ˆSmart Castsï¼‰Kotlin çš„æ™ºèƒ½è½¬æ¢å…è®¸ä½ åœ¨ç±»å‹æ£€æŸ¥åè‡ªåŠ¨è½¬æ¢ç±»å‹ï¼Œæ— éœ€æ˜¾å¼è½¬æ¢ã€‚\nfun describe(obj: Any): String &#123;    return when (obj) &#123;        is Int -&gt; &quot;Integer: $obj&quot;        is String -&gt; &quot;String: $obj&quot;        else -&gt; &quot;Unknown&quot;    &#125;&#125;\n\n4. èŒƒå›´è¡¨è¾¾å¼ï¼ˆRange Expressionsï¼‰Kotlin æ”¯æŒèŒƒå›´è¡¨è¾¾å¼ï¼Œä½¿å¾—å¾ªç¯å’Œæ¡ä»¶åˆ¤æ–­æ›´åŠ ç®€æ´ã€‚\nfor (i in 1..10) &#123;    println(i)&#125;if (x in 1..10) &#123;    println(&quot;x is in the range 1 to 10&quot;)&#125;\n\n5. æ‰©å±•å‡½æ•°å’Œå±æ€§ï¼ˆExtension Functions and Propertiesï¼‰æ‰©å±•å‡½æ•°å’Œå±æ€§å…è®¸ä½ ä¸ºç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•å’Œå±æ€§ï¼Œè€Œä¸éœ€è¦ç»§æ‰¿æˆ–ä¿®æ”¹åŸç±»ã€‚\nfun String.lastChar(): Char = this[this.length - 1]val String.lastChar: Char    get() = this[this.length - 1]\n\n6. è§£æ„å£°æ˜ï¼ˆDestructuring Declarationsï¼‰è§£æ„å£°æ˜å…è®¸ä½ å°†ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå±æ€§ä¸€æ¬¡æ€§èµ‹å€¼ç»™å¤šä¸ªå˜é‡ã€‚\ndata class User(val name: String, val age: Int)fun getUser(): User &#123;    return User(&quot;Alice&quot;, 30)&#125;fun main() &#123;    val (name, age) = getUser()    println(&quot;Name: $name, Age: $age&quot;)&#125;\n\n7. ä¼´ç”Ÿå¯¹è±¡ï¼ˆCompanion Objectsï¼‰ä¼´ç”Ÿå¯¹è±¡å…è®¸ä½ å®šä¹‰é™æ€æˆå‘˜ï¼Œç±»ä¼¼äº Java ä¸­çš„é™æ€æ–¹æ³•å’Œé™æ€å­—æ®µã€‚\nclass MyClass &#123;    companion object &#123;        fun create(): MyClass &#123;            return MyClass()        &#125;    &#125;&#125;fun main() &#123;    val instance = MyClass.create()&#125;\n\n8. å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰å†…è”å‡½æ•°å…è®¸ä½ åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°ä½“ç›´æ¥æ’å…¥åˆ°è°ƒç”¨å¤„ï¼Œå‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚\ninline fun measureTime(block: () -&gt; Unit) &#123;    val start = System.currentTimeMillis()    block()    val end = System.currentTimeMillis()    println(&quot;Block took $&#123;end - start&#125; ms&quot;)&#125;fun main() &#123;    measureTime &#123;        Thread.sleep(1000)    &#125;&#125;\n\n9. é»˜è®¤å‚æ•°å€¼ï¼ˆDefault Parameter Valuesï¼‰Kotlin å…è®¸ä½ åœ¨å‡½æ•°å®šä¹‰ä¸­ä¸ºå‚æ•°æŒ‡å®šé»˜è®¤å€¼ï¼Œä»è€Œå‡å°‘è°ƒç”¨æ—¶çš„å†—ä½™ä»£ç ã€‚\nfun greet(name: String, greeting: String = &quot;Hello&quot;) &#123;    println(&quot;$greeting, $name!&quot;)&#125;fun main() &#123;    greet(&quot;Alice&quot;) // è¾“å‡º: Hello, Alice!    greet(&quot;Bob&quot;, &quot;Hi&quot;) // è¾“å‡º: Hi, Bob!&#125;\n\n10. ç±»å‹åˆ«åï¼ˆType Aliasesï¼‰ç±»å‹åˆ«åå…è®¸ä½ ä¸ºç°æœ‰ç±»å‹å®šä¹‰ä¸€ä¸ªæ–°çš„åç§°ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€‚\ntypealias CustomerID = Intfun getCustomer(id: CustomerID): Customer &#123;    // ...&#125;fun main() &#123;    val customerId: CustomerID = 12345    val customer = getCustomer(customerId)&#125;\n\n11. ä½œç”¨åŸŸå‡½æ•°ï¼ˆScope Functionsï¼‰Kotlin æä¾›äº†å¤šç§ä½œç”¨åŸŸå‡½æ•°ï¼Œå¦‚ apply, with, run, let, alsoï¼Œå®ƒä»¬å…è®¸ä½ åœ¨ç‰¹å®šçš„ä½œç”¨åŸŸå†…æ‰§è¡Œä»£ç å—ã€‚\ndata class Person(var name: String, var age: Int)fun main() &#123;    val person = Person(&quot;Alice&quot;, 30)    // ä½¿ç”¨ apply    person.apply &#123;        name = &quot;Bob&quot;        age = 35    &#125;    // ä½¿ç”¨ let    person.let &#123;        println(&quot;Name: $&#123;it.name&#125;, Age: $&#123;it.age&#125;&quot;)    &#125;&#125;\n\n12. åç¨‹ï¼ˆCoroutinesï¼‰Kotlin çš„åç¨‹æä¾›äº†ä¸€ç§è½»é‡çº§çš„çº¿ç¨‹æ¨¡å‹ï¼Œä½¿å¾—å¼‚æ­¥ç¼–ç¨‹æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚\nimport kotlinx.coroutines.*fun main() = runBlocking &#123;    launch &#123;        delay(1000L)        println(&quot;World!&quot;)    &#125;    println(&quot;Hello,&quot;)&#125;\n\nè¿™äº›è¯­æ³•ç³–å’Œç‰¹æ€§ä½¿å¾— Kotlin ä»£ç æ›´åŠ ç®€æ´ã€æ˜“è¯»å’Œé«˜æ•ˆã€‚é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜è´¨é‡çš„ä»£ç ã€‚\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"MD5åŠ å¯†ç®—æ³•","url":"/2020/11/07/%E4%BB%A3%E7%A0%81/MD5%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/","content":"MD5åŠ å¯†ç®—æ³•import java.security.MessageDigestfun String.toMD5(): String &#123;    return MessageDigest.getInstance(&quot;MD5&quot;)        .digest(toByteArray())        .joinToString(&quot;&quot;) &#123; &quot;%02x&quot;.format(it) &#125;&#125;fun main() &#123;    println(&quot;14233241&quot;.toMD5()) // è¾“å‡º50c0bc627c5e86ea78d824682c10e783&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"VideoViewè§†é¢‘æ’­æ”¾","url":"/2021/12/16/%E4%BB%A3%E7%A0%81/VideoView%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE/","content":"VideoViewè§†é¢‘æ’­æ”¾val videoView = findViewById&lt;VideoView&gt;(R.id.videoView)val videoUri = Uri.parse(&quot;android.resource://$packageName/$&#123;R.raw.my_video&#125;&quot;)videoView.setVideoURI(videoUri)// æ·»åŠ æ’­æ”¾æ§åˆ¶val mediaController = MediaController(this)videoView.mediaController = mediaControllermediaController.setAnchorView(videoView)// å¾ªç¯æ’­æ”¾videoView.setOnCompletionListener &#123;    videoView.start()&#125;videoView.start()\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"åˆ—è¡¨åŒ¹é…","url":"/2021/11/21/%E4%BB%A3%E7%A0%81/%E5%88%97%E8%A1%A8%E5%8C%B9%E9%85%8D/","content":"åˆ—è¡¨åŒ¹é…calendarEvent?.userList?.let &#123; list -&gt;    // å…ˆè½¬æˆmapï¼Œæ—¶é—´å¤æ‚åº¦ä» O(nÃ—m) é™åˆ° O(n + m)ï¼Œæ€§èƒ½æ›´å¥½    val relatedUserMap = users.associateBy &#123; it.uid &#125;    mAdapter.setNewInstance(list.mapNotNull &#123; relatedUserMap[it.uid] &#125;.toMutableList())&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"åˆ›å»ºå‰å°æœåŠ¡é€šçŸ¥","url":"/2021/11/28/%E4%BB%A3%E7%A0%81/%E5%88%9B%E5%BB%BA%E5%89%8D%E5%8F%B0%E6%9C%8D%E5%8A%A1%E9%80%9A%E7%9F%A5/","content":"åˆ›å»ºå‰å°æœåŠ¡é€šçŸ¥ANRï¼ˆApplication Not Respondingï¼‰ é”™è¯¯ï¼Œæ˜¯ Android ç³»ç»Ÿä¸­ä¸€ä¸ªå…¸å‹çš„ å‰å°æœåŠ¡å¯åŠ¨è¿è§„ é—®é¢˜ã€‚å…·ä½“é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š\nReason: Context.startForegroundService() did not then call Service.startForeground(): ServiceRecord&#123;... com.hansong.orion.sipclient/.service.SipAidlService&#125;\n\n\nğŸ” é—®é¢˜åŸå› ä» Android 8.0ï¼ˆAPI çº§åˆ« 26ï¼‰å¼€å§‹ï¼ŒGoogle å¯¹ å‰å°æœåŠ¡ï¼ˆForeground Serviceï¼‰ çš„ä½¿ç”¨åšäº†ä¸¥æ ¼é™åˆ¶ï¼š\n\nå¦‚æœä½ é€šè¿‡ Context.startForegroundService() å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œ\né‚£ä¹ˆè¯¥æœåŠ¡ å¿…é¡»åœ¨ 5 ç§’å†… è°ƒç”¨ startForeground(int id, Notification notification)ï¼Œ\nå¦åˆ™ç³»ç»Ÿä¼šæŠ›å‡º ANRï¼Œå¹¶å¯èƒ½æ€æ­»ä½ çš„åº”ç”¨ã€‚\n\nä½ çš„ SipAidlService è¢«é€šè¿‡ startForegroundService() å¯åŠ¨äº†ï¼Œä½† **æ²¡æœ‰åŠæ—¶è°ƒç”¨ startForeground()**ï¼Œå¯¼è‡´ç³»ç»Ÿåˆ¤å®šä¸ºæ— å“åº”ã€‚\n\nâœ… è§£å†³æ–¹æ¡ˆ1. å®šä¹‰æƒé™åœ¨AndroidManifest.xmlä¸­æ·»åŠ å‰å°æœåŠ¡åŠé€šçŸ¥æƒé™\n&lt;!-- å¿…é¡»ï¼šé€šçŸ¥æƒé™ï¼ˆAPI 33+ éœ€è¦ï¼‰ å±é™©æƒé™ï¼Œéœ€è¦åŠ¨æ€ç”³è¯·--&gt;&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&lt;!-- å¿…é¡»ï¼šå‰å°æœåŠ¡åŸºç¡€æƒé™ï¼ˆAPI 28+ éœ€è¦ï¼‰ æ™®é€šæƒé™--&gt;&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;&lt;!-- è¿™é‡Œæœ‰å¾ˆå¤šç±»å‹å¯ä»¥é€‰æ‹©ï¼ˆå¦‚dataSyncï¼‰ï¼Œæ ¹æ®æœåŠ¡çš„ç±»å‹å®šä¹‰ æ™®é€šæƒé™--&gt;&lt;!-- å¯é€‰ï¼šå¦‚æœä½ ä½¿ç”¨äº† foregroundServiceType=&quot;phoneCall&quot;ï¼ˆAPI 29+ï¼‰ --&gt;&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_PHONE_CALL&quot; /&gt;&lt;!-- ç³»ç»Ÿæƒé™ éæ™®é€šåº”ç”¨--&gt;&lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;&lt;service    android:name=&quot;.service.SipAidlService&quot;    android:foregroundServiceType=&quot;phoneCall&quot;    ... /&gt;\nåŠ¨æ€ç”³è¯·\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) &#123;    if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS)            != PackageManager.PERMISSION_GRANTED) &#123;        // è¯·æ±‚æƒé™        ActivityCompat.requestPermissions(this,                arrayof(Manifest.permission.POST_NOTIFICATIONS),                REQUEST_CODE_POST_NOTIFICATIONS)    &#125;&#125;\n\n2. ç¡®ä¿åœ¨ onStartCommand() ä¸­ç«‹å³è°ƒç”¨ startForeground()åœ¨ SipAidlService çš„ onStartCommand() æ–¹æ³•å¼€å¤´ï¼Œå°½å¿«åˆ›å»ºå¹¶æ˜¾ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„é€šçŸ¥ï¼š\n@Overridefun onStartCommand(intent: Intent, flags: Int, startId: Int) &#123;    // åˆ›å»ºé€šçŸ¥æ¸ é“ï¼ˆAndroid 8.0+ å¿…é¡»ï¼‰    createNotificationChannel()    val notification: Notification = NotificationCompat.Builder(this, CHANNEL_ID)            .setContentTitle(&quot;SIP Service Running&quot;)            .setContentText(&quot;SIP client is active&quot;)            .setSmallIcon(R.drawable.ic_notification)            .build()    // å¿…é¡»åœ¨ 5 ç§’å†…è°ƒç”¨ï¼    startForeground(1, notification)    // å…¶ä»–åˆå§‹åŒ–é€»è¾‘...    return START_STICKY&#125;\n\n\nâš ï¸ æ³¨æ„ï¼šä¸è¦åœ¨ onCreate() ä¸­è°ƒç”¨ startForeground()ï¼Œå› ä¸º onCreate() åªåœ¨æœåŠ¡é¦–æ¬¡åˆ›å»ºæ—¶è°ƒç”¨ï¼Œè€Œ startForegroundService() æ¯æ¬¡éƒ½ä¼šè§¦å‘ onStartCommand()ã€‚\n\n2. åˆ›å»ºé€šçŸ¥æ¸ é“ï¼ˆAndroid 8.0+ å¿…éœ€ï¼‰private fun createNotificationChannel() &#123;    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) &#123;        val serviceChannel: NotificationChannel = NotificationChannel(                CHANNEL_ID,                &quot;SIP Service Channel&quot;,                NotificationManager.IMPORTANCE_LOW        )        val manager: NotificationManager = getSystemService(NotificationManager.class)        manager.createNotificationChannel(serviceChannel)    &#125;&#125;\n\nå®šä¹‰å¸¸é‡ï¼š\nprivate const val String CHANNEL_ID = &quot;sip_service_channel&quot;\n\n3. é¿å…è€—æ—¶æ“ä½œé˜»å¡ onStartCommand()å¦‚æœ onStartCommand() ä¸­æœ‰ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æ“ä½œã€SIP åˆå§‹åŒ–ç­‰è€—æ—¶ä»»åŠ¡ï¼ŒåŠ¡å¿…æ”¾åˆ°å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¦åˆ™å³ä½¿è°ƒç”¨äº† startForeground()ï¼Œä¸»çº¿ç¨‹ä»å¯èƒ½å¡ä½å¯¼è‡´ ANRã€‚\nå»ºè®®ä½¿ç”¨ï¼š\n\nHandlerThread\nExecutorService\nWorkManagerï¼ˆä¸é€‚åˆå‰å°æœåŠ¡ï¼‰\næˆ– Kotlin åç¨‹ï¼ˆå¦‚æœä½ ç”¨ Kotlinï¼‰\n\nç¤ºä¾‹ï¼š\nnew Thread(() -&gt; &#123;    // æ‰§è¡Œ SIP åˆå§‹åŒ–ç­‰è€—æ—¶æ“ä½œ&#125;).start();\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"å›½å†…é•œåƒåœ°å€","url":"/2022/02/08/%E4%BB%A3%E7%A0%81/%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E5%9C%B0%E5%9D%80/","content":"å›½å†…é•œåƒåœ°å€buildscript &#123;\trepositories &#123;\t\tmaven &#123;\t\t\turl &#x27;https://mirrors.huaweicloud.com/repository/maven/&#x27;\t\t&#125;    maven &#123;      url &#x27;https://maven.aliyun.com/repository/public/&#x27;    &#125;\t&#125;&#125;allprojects&#123;\trepositories &#123;\t\tmaven &#123;\t\t\turl &#x27;https://mirrors.huaweicloud.com/repository/maven/&#x27;\t\t&#125;\t\tmaven &#123;      url &#x27;https://maven.aliyun.com/repository/public/&#x27;    &#125;\t&#125;&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"åŠ è½½fragment","url":"/2021/02/08/%E4%BB%A3%E7%A0%81/%E5%8A%A0%E8%BD%BDfragment/","content":"åŠ è½½fragment/** * åŠ è½½fragment */fun FragmentActivity.loadFragment(id: Int, from: Fragment?, to: Fragment?) &#123;    supportFragmentManager.let &#123; manager -&gt;        manager.beginTransaction().run &#123;            if (from != to) &#123;                val fromFragment = manager.findFragmentByTag(from?.javaClass?.simpleName)                fromFragment?.let &#123; hide(it) &#125;                val toFragment = manager.findFragmentByTag(to?.javaClass?.simpleName)                if (toFragment == null || !toFragment.isAdded) &#123;                    to?.let &#123; add(id, it, it.javaClass.simpleName).commit() &#125;                &#125; else &#123;                    toFragment.let &#123; show(it).commit() &#125;                &#125;            &#125;        &#125;    &#125;&#125;/** * ç§»é™¤fragment */fun FragmentActivity.removeFragment(fragment: Fragment) &#123;    supportFragmentManager        .beginTransaction()        .remove(fragment)        .commit()&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"å›¾ç‰‡ä¸‹è½½åŠä¿å­˜","url":"/2022/02/08/%E4%BB%A3%E7%A0%81/%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E5%8F%8A%E4%BF%9D%E5%AD%98/","content":"å›¾ç‰‡ä¸‹è½½åŠä¿å­˜\nç¡®å®šæ–‡ä»¶çš„ä¸‹è½½è·¯å¾„ï¼Œcontext.getExternalFilesDir(â€œimagesâ€)ï¼Œå³appå¤–éƒ¨å­˜å‚¨çš„filesè·¯å¾„ï¼Œæ— é¡»åŠ¨æ€æƒé™å£°æ˜\nåˆ›å»ºURLå¯¹è±¡ï¼Œval url &#x3D; URL(path)ï¼Œç”±å›¾ç‰‡çš„ä¸‹è½½åœ°å€åˆ›å»º\né€šè¿‡url.openConnection()æ‰“å¼€è¿æ¥ï¼Œè·å–è¿æ¥å¯¹è±¡\nè¿æ¥conn.connect()\nè·å–è¾“å…¥æµï¼Œval input: InputStream &#x3D; conn.getInputStream()\nåˆ›å»ºè¾“å‡ºæµï¼Œå‡†å¤‡å†™å…¥val fos &#x3D; FileOutputStream(out)\næ ‡å‡†ioæ“ä½œï¼Œå°†è¯»åˆ°çš„å­—èŠ‚å†™å…¥åˆ°æ–‡ä»¶ä¸­\n\ntry &#123;    val buf = ByteArray(1024)    var numRead: Int    fos.run &#123;        while ((input.read(buf).also &#123; numRead = it &#125;) != -1) &#123;            write(buf, 0, numRead)        &#125;        flush()    &#125;&#125; catch (ex: Exception) &#123;    ex.printStackTrace()&#125; finally &#123;    input.close()    fos.close()&#125;//ä¿å­˜å›¾ç‰‡åˆ°ç³»ç»Ÿç›¸å†Œ/*** Qä»¥ä¸Šä¿å­˜åˆ°ç³»ç»Ÿç›¸å†Œä¸­*/private fun saveToPicture(name: String, file: File) &#123;    val values = ContentValues().apply &#123;        put(MediaStore.Images.Media.DISPLAY_NAME, name)        put(MediaStore.Images.Media.DESCRIPTION, &quot;This is a alarm pic&quot;)        put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)        put(MediaStore.Images.Media.TITLE, &quot;Image.jpg&quot;)        put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/&quot;)    &#125;    val external = MediaStore.Images.Media.EXTERNAL_CONTENT_URI    val resolver = PlatinDriveApp.instance.contentResolver    val insertUri = resolver.insert(external, values)    var inputStream: BufferedInputStream? = null    var outputStream: OutputStream? = null    try &#123;        inputStream = BufferedInputStream(FileInputStream(file))        insertUri?.let &#123;            outputStream = resolver.openOutputStream(it)        &#125;        outputStream?.run &#123;            val buffer = ByteArray(1024 * 4)            var len: Int            while ((inputStream.read(buffer).also &#123; len = it &#125;) != -1) &#123;                write(buffer, 0, len)            &#125;            flush()        &#125;    &#125; catch (e: IOException) &#123;        e.printStackTrace()    &#125; finally &#123;        inputStream?.close()        outputStream?.close()    &#125;&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"å°† raw èµ„æºå¤åˆ¶ä¸ºä¸´æ—¶æ–‡ä»¶","url":"/2023/11/14/%E4%BB%A3%E7%A0%81/%E5%B0%86%20raw%20%E8%B5%84%E6%BA%90%E5%A4%8D%E5%88%B6%E4%B8%BA%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6/","content":"å°† raw èµ„æºå¤åˆ¶ä¸ºä¸´æ—¶æ–‡ä»¶import java.io.*fun copyRawToCache(context: Context, @RawRes rawId: Int, fileName: String): File? &#123;    val cacheFile = File(context.cacheDir, fileName)    if (cacheFile.exists()) &#123;        // å¯é€‰ï¼šé¿å…é‡å¤å¤åˆ¶ï¼ˆæ³¨æ„æ›´æ–°ç­–ç•¥ï¼‰        return cacheFile    &#125;    return try &#123;        context.resources.openRawResource(rawId).use &#123; input -&gt;            cacheFile.outputStream().use &#123; output -&gt;                input.copyTo(output)            &#125;        &#125;        cacheFile    &#125; catch (e: IOException) &#123;        e.printStackTrace()        null    &#125;&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"æ›´æ–°å½“å‰çš„é€‰ä¸­çŠ¶æ€","url":"/2023/11/21/%E4%BB%A3%E7%A0%81/%E6%9B%B4%E6%96%B0%E5%BD%93%E5%89%8D%E7%9A%84%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81/","content":"æ›´æ–°å½“å‰çš„é€‰ä¸­çŠ¶æ€private fun updateSelectStatus(curUser: User) &#123;    mAdapter.run &#123;        var targetPosition = -1        var previousCheckedPosition = -1        // éå†ä¸€æ¬¡ï¼ŒåŒæ—¶æ›´æ–°çŠ¶æ€å¹¶è®°å½•ä½ç½®        data.forEachIndexed &#123; index, user -&gt;            val wasChecked = user.isChecked            val shouldBeChecked = (user.uid == curUser.uid)            if (wasChecked != shouldBeChecked) &#123;                user.isChecked = shouldBeChecked                if (shouldBeChecked) &#123;                    targetPosition = index                &#125; else &#123;                    previousCheckedPosition = index                &#125;            &#125;        &#125;        // å®‰å…¨åœ°æ»šåŠ¨åˆ°ç›®æ ‡ä½ç½®        if (targetPosition != -1) &#123;            mBinding.rvUser.smoothScrollToPosition(targetPosition)        &#125;        // ç²¾ç¡®é€šçŸ¥å˜åŒ–        if (previousCheckedPosition != -1) &#123;            notifyItemChanged(previousCheckedPosition)        &#125;        if (targetPosition != -1 &amp;&amp; targetPosition != previousCheckedPosition) &#123;            notifyItemChanged(targetPosition)        &#125;    &#125;&#125;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"æŸ¥è¯¢æœ¬åœ°å›¾ç‰‡èµ„æº","url":"/2024/02/08/%E4%BB%A3%E7%A0%81/%E6%9F%A5%E8%AF%A2%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90/","content":"æŸ¥è¯¢æœ¬åœ°å›¾ç‰‡èµ„æºval mImageUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URIval mContentResolver = contentResolverval cursor: Cursor?val projection = arrayOf(    MediaStore.MediaColumns._ID,    MediaStore.MediaColumns.DATA,    MediaStore.MediaColumns.DISPLAY_NAME,    MediaStore.MediaColumns.DATE_MODIFIED)//åªæŸ¥è¯¢jpegå’Œpngçš„å›¾ç‰‡cursor = mContentResolver.query(    mImageUri, projection,    MediaStore.MediaColumns.MIME_TYPE + &quot;=? or &quot; + MediaStore.MediaColumns.MIME_TYPE + &quot;=?&quot;,    arrayOf(&quot;image/jpeg&quot;, &quot;image/png&quot;), MediaStore.MediaColumns.DATE_MODIFIED)if (cursor != null) &#123;    val columnIndexId = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns._ID)    val columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA)    val columnIndexName = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DISPLAY_NAME)    val columnIndexDate =        cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATE_MODIFIED)    while (cursor.moveToNext()) &#123;        val imageId = cursor.getLong(columnIndexId)        val uriImage = ContentUris.withAppendedId(mImageUri, imageId)        val filePath = cursor.getString(columnIndexData)        val fileName = cursor.getString(columnIndexName)        val datetime = cursor.getLong(columnIndexDate)        listOfAllImages.add(AlarmImage(uriImage, filePath, fileName, datetime))    &#125;    cursor.close()&#125; \n","categories":["Code"],"tags":["ä»£ç "]},{"title":"ç›‘å¬ç½‘ç»œè¿æ¥çŠ¶æ€","url":"/2021/02/08/%E4%BB%A3%E7%A0%81/%E7%9B%91%E5%90%AC%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81/","content":"ç›‘å¬ç½‘ç»œè¿æ¥çŠ¶æ€\né€šè¿‡æ³¨å†Œç½‘ç»œå›è°ƒ (NetworkCallback)ï¼Œå¯ä»¥åŠ¨æ€ç›‘æ§ Wi-Fi çš„è¿æ¥çŠ¶æ€ã€‚\nval connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManagerval networkCallback = object : ConnectivityManager.NetworkCallback() &#123;    override fun onAvailable(network: Network) &#123;        val networkCapabilities = connectivityManager.getNetworkCapabilities(network)        if (networkCapabilities?.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) == true) &#123;            Log.d(&quot;WiFi&quot;, &quot;Wi-Fi network is available&quot;)        &#125;    &#125;    override fun onLost(network: Network) &#123;        Log.d(&quot;WiFi&quot;, &quot;Wi-Fi network is lost&quot;)    &#125;&#125;val request = NetworkRequest.Builder()    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)    .build()connectivityManager.registerNetworkCallback(request, networkCallback)\n\nç»“æŸæ—¶è°ƒç”¨åæ³¨å†Œ\nconnectivityManager.unregisterNetworkCallback(networkCallback)\n\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"è°ƒèŠ‚å¯¹æ¯”åº¦","url":"/2024/02/08/%E4%BB%A3%E7%A0%81/%E8%B0%83%E8%8A%82%E5%AF%B9%E6%AF%94%E5%BA%A6/","content":"è°ƒèŠ‚å¯¹æ¯”åº¦è¦é€šè¿‡ä»£ç è°ƒæ•´Androidå±å¹•å¯¹æ¯”åº¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š\n\nä½¿ç”¨WindowManager.LayoutParamsè®¾ç½®å±å¹•äº®åº¦å’Œå¯¹æ¯”åº¦ï¼š\nWindowManager.LayoutParams layoutParams = getWindow().getAttributes();layoutParams.screenBrightness = 1.0f; //è®¾ç½®å±å¹•äº®åº¦layoutParams.contrast = 1.5f; //è®¾ç½®å¯¹æ¯”åº¦getWindow().setAttributes(layoutParams);\n\né€šè¿‡Settings.Systemç±»ä½¿ç”¨ContentResolverè®¾ç½®ç³»ç»Ÿå¯¹æ¯”åº¦ï¼š\nContentResolver cr = getContentResolver();Settings.System.putInt(cr, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL); //è®¾ç½®æ‰‹åŠ¨è°ƒèŠ‚å±å¹•äº®åº¦Settings.System.putInt(cr, Settings.System.SCREEN_CONTRAST, 100); //è®¾ç½®å¯¹æ¯”åº¦ï¼Œå–å€¼èŒƒå›´ä¸º0-255\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¾ç½®å¯¹æ¯”åº¦çš„æ–¹æ³•åœ¨ä¸åŒç‰ˆæœ¬çš„Androidä¸­å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚å¦å¤–ï¼Œæ‚¨éœ€è¦åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æƒé™ï¼š\n\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;/&gt;\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"MarkdownåŸºæœ¬è¯­æ³•","url":"/2016/02/04/%E6%89%A9%E5%B1%95/Markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/","content":"MarkdownåŸºæœ¬è¯­æ³•Markdown æ˜¯ä¸€ç§è½»é‡çº§çš„æ ‡è®°è¯­è¨€ï¼Œè¯­æ³•ç®€æ´ã€æ˜“è¯»æ˜“å†™ã€‚ä»¥ä¸‹æ˜¯ Markdown çš„åŸºæœ¬è¯­æ³• æ±‡æ€»ï¼ˆåŸºäºé€šç”¨æ ‡å‡†ï¼Œå¦‚ CommonMarkï¼‰ï¼š\n\n1. æ ‡é¢˜ï¼ˆHeadersï¼‰ä½¿ç”¨ # è¡¨ç¤ºæ ‡é¢˜ï¼Œ# çš„æ•°é‡ä»£è¡¨å±‚çº§ï¼ˆæœ€å¤š6çº§ï¼‰ï¼š\n# ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜#### å››çº§æ ‡é¢˜##### äº”çº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜\n\n\n2. æ®µè½ä¸æ¢è¡Œ\næ®µè½ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„æ–‡æœ¬è¡Œç»„æˆï¼Œæ®µè½ä¹‹é—´éœ€ç”¨ç©ºè¡Œåˆ†éš”ã€‚\nåœ¨è¡Œå°¾æ·»åŠ  ä¸¤ä¸ªæˆ–ä»¥ä¸Šç©ºæ ¼ å¯å®ç°å¼ºåˆ¶æ¢è¡Œï¼š\n\nè¿™æ˜¯ç¬¬ä¸€æ®µã€‚è¿™æ˜¯ç¬¬äºŒæ®µã€‚  è¿™æ˜¯åŒä¸€æ®µå†…çš„æ–°è¡Œï¼ˆæ³¨æ„è¡Œå°¾æœ‰ä¸¤ä¸ªç©ºæ ¼ï¼‰ã€‚\n\n\n3. å¼ºè°ƒï¼ˆEmphasisï¼‰\nç²—ä½“ï¼šç”¨ ** æˆ– __ åŒ…è£¹æ–‡å­—  **ç²—ä½“** æˆ– __ç²—ä½“__\næ–œä½“ï¼šç”¨ * æˆ– _ åŒ…è£¹æ–‡å­—  *æ–œä½“* æˆ– _æ–œä½“_\nç²—æ–œä½“ï¼š  ***ç²—æ–œä½“*** æˆ– ___ç²—æ–œä½“___\n\n\n4. åˆ—è¡¨ï¼ˆListsï¼‰æ— åºåˆ—è¡¨ä½¿ç”¨ -ã€+ æˆ– *ï¼š\n- é¡¹ç›®ä¸€- é¡¹ç›®äºŒ  - å­é¡¹ç›®ï¼ˆç¼©è¿›ä¸¤ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼‰\n\næœ‰åºåˆ—è¡¨ä½¿ç”¨æ•°å­—åŠ è‹±æ–‡å¥ç‚¹ï¼š\n1. ç¬¬ä¸€é¡¹2. ç¬¬äºŒé¡¹   1. å­é¡¹ï¼ˆç¼©è¿›ï¼‰\n\n\næ³¨æ„ï¼šæ•°å­—ä¸å¿…ä¸¥æ ¼é€’å¢ï¼Œä½†å»ºè®®æŒ‰é¡ºåºå†™ä»¥æé«˜å¯è¯»æ€§ã€‚\n\n\n5. é“¾æ¥ï¼ˆLinksï¼‰[é“¾æ¥æ–‡å­—](https://example.com &quot;å¯é€‰æ ‡é¢˜&quot;)\n\nä¾‹å¦‚ï¼š\n[ç™¾åº¦](https://www.baidu.com)\n\n\n6. å›¾ç‰‡ï¼ˆImagesï¼‰è¯­æ³•ä¸é“¾æ¥ç±»ä¼¼ï¼Œå‰é¢åŠ  !ï¼š\n![æ›¿ä»£æ–‡å­—](/path/to/image.jpg &quot;å¯é€‰æ ‡é¢˜&quot;)\n\nä¾‹å¦‚ï¼š\n![Logo](logo.png)\nè‡ªå®šä¹‰å°ºå¯¸\n&lt;img src=&quot;image.jpg&quot; alt=&quot;æè¿°&quot; style=&quot;width: 300px; height: auto;&quot;&gt;\n\n7. ä»£ç ï¼ˆCodeï¼‰\nè¡Œå†…ä»£ç ï¼šç”¨åå¼•å·åŒ…è£¹  \nä½¿ç”¨ `console.log()` è¾“å‡ºä¿¡æ¯ã€‚\n\nä»£ç å—ï¼šç”¨ä¸‰ä¸ªåå¼•å·ï¼ˆ&#96;&#96;&#96;ï¼‰åŒ…å›´ï¼Œå¹¶å¯æŒ‡å®šè¯­è¨€ï¼Œå¦‚ï¼šjavascript\nfunction hello() &#123;  console.log(&quot;Hello, Markdown!&quot;);&#125;\n\n\n8. å¼•ç”¨ï¼ˆBlockquotesï¼‰ä½¿ç”¨ &gt; å¼€å¤´ï¼š\n&gt; è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚&gt; &gt; &gt; åµŒå¥—å¼•ç”¨\n\n\n9. åˆ†éš”çº¿ï¼ˆHorizontal Ruleï¼‰ä½¿ç”¨ä¸‰ä¸ªæˆ–ä»¥ä¸Šçš„ -ã€* æˆ– _ï¼ˆä¸­é—´å¯æœ‰ç©ºæ ¼ï¼‰ï¼š\n---***___\n\n\n10. è¡¨æ ¼ï¼ˆTablesï¼‰ä½¿ç”¨ | å’Œ - åˆ›å»ºï¼š\n| å§“å   | å¹´é¾„ | åŸå¸‚     ||--------|------|----------|| å¼ ä¸‰   | 28   | åŒ—äº¬     || æå››   | 32   | ä¸Šæµ·     |\n\nå¯¹é½æ–¹å¼ï¼ˆå¯é€‰ï¼‰ï¼š\n\n:--- å·¦å¯¹é½\n:---: å±…ä¸­\n---: å³å¯¹é½\n\n| å·¦å¯¹é½ | å±…ä¸­     | å³å¯¹é½ ||:-------|:--------:|-------:|| A      | B        | C      |\n\n\n11. è½¬ä¹‰å­—ç¬¦ï¼ˆEscapingï¼‰åœ¨ç‰¹æ®Šå­—ç¬¦å‰åŠ  \\ å¯è½¬ä¹‰ï¼Œå¦‚ï¼š\n\\*è¿™ä¸æ˜¯æ–œä½“\\*\n\nå¸¸è§éœ€è½¬ä¹‰å­—ç¬¦ï¼š\\ * _ &#123;&#125; [] () # + - . ! |\n\n","categories":["æ‰©å±•"],"tags":["Markdown"]},{"title":"é€‚é…34å¹¿æ’­åŠ¨æ€æ³¨å†Œ","url":"/2023/02/08/%E4%BB%A3%E7%A0%81/%E9%80%82%E9%85%8D34%E5%B9%BF%E6%92%AD%E5%8A%A8%E6%80%81%E6%B3%A8%E5%86%8C/","content":"é€‚é…34å¹¿æ’­åŠ¨æ€æ³¨å†Œåœ¨target é€‚é…åˆ°34ä¹‹åï¼Œ\n\nè¦æ³¨æ„registerReceiveræ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¿…é¡»è®¾ç½®RECEIVER_EXPORTEDæˆ–RECEIVER_NOT_EXPORTEDï¼Œå¦åˆ™æŠ¥é”™ã€‚/**  * é€‚é…14ï¼ŒåŠ¨æ€æ³¨å†Œéœ€è¦åŠ flag  * @param context  * @param receiver  * @param filter  */fun registerReceiverCompat(    context: Context,    receiver: BroadcastReceiver, filter: IntentFilter) &#123;    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) &#123;        context.registerReceiver(receiver, filter, RECEIVER_NOT_EXPORTED)    &#125; else &#123;        context.registerReceiver(receiver, filter)    &#125;&#125;\nè‹¥è®¾ç½®å®ŒRECEIVER_NOT_EXPORTEDï¼Œåœ¨å‘é€å¹¿æ’­çš„åœ°æ–¹è¦æ³¨æ„æ·»åŠ åŒ…åï¼Œæ˜¾å¼å‘é€ï¼Œå¦åˆ™æ¥æ”¶ä¸åˆ°å¹¿æ’­ã€‚Intent intent = new Intent(action);intent.putExtra(BUNDLE_UPNP_DEVICE_KEY, device.getKey());intent.setPackage(getPackageName());sendBroadcast(intent);\n\n","categories":["Code"],"tags":["ä»£ç "]},{"title":"RTPã€RTSPã€RTCPçš„å«ä¹‰åŠå…³ç³»","url":"/2025/07/16/%E6%89%A9%E5%B1%95/RTP%E3%80%81RTSP%E3%80%81RTCP%E7%9A%84%E5%90%AB%E4%B9%89%E5%8F%8A%E5%85%B3%E7%B3%BB/","content":"RTPã€RTSPã€RTCPçš„å«ä¹‰åŠå…³ç³»RTP/RTSP/RTCPçš„åŒºåˆ« ç”¨ä¸€å¥ç®€å•çš„è¯æ€»ç»“ï¼šRTSPå‘èµ·/ç»ˆç»“æµåª’ä½“ã€RTPä¼ è¾“æµåª’ä½“æ•°æ® ã€RTCPå¯¹RTPè¿›è¡Œæ§åˆ¶ï¼ŒåŒæ­¥\n\nRTPï¼šå®æ—¶ä¼ è¾“åè®®ï¼ˆReal-time Transport Protocolï¼‰\n\nRTP&#x2F;RTCPæ˜¯å®é™…ä¼ è¾“æ•°æ®çš„åè®®\nRTPä¼ è¾“éŸ³é¢‘&#x2F;è§†é¢‘æ•°æ®ï¼Œå¦‚æœæ˜¯PLAYï¼ŒServerå‘é€åˆ°Clientç«¯ï¼Œå¦‚æœæ˜¯RECORDï¼Œå¯ä»¥ç”±Clientå‘é€åˆ°Server\næ•´ä¸ªRTPåè®®ç”±ä¸¤ä¸ªå¯†åˆ‡ç›¸å…³çš„éƒ¨åˆ†ç»„æˆï¼šRTPæ•°æ®åè®®å’ŒRTPæ§åˆ¶åè®®ï¼ˆå³RTCPï¼‰\n\n\nRTSPï¼šå®æ—¶æµåè®®ï¼ˆReal Time Streaming Protocolï¼ŒRTSPï¼‰\n\nRTSPçš„è¯·æ±‚ä¸»è¦æœ‰DESCRIBE,SETUP,PLAY,PAUSE,TEARDOWN,OPTIONSç­‰ï¼Œé¡¾åæ€ä¹‰å¯ä»¥çŸ¥é“èµ·å¯¹è¯å’Œæ§åˆ¶ä½œç”¨\nRTSPçš„å¯¹è¯è¿‡ç¨‹ä¸­SETUPå¯ä»¥ç¡®å®šRTP&#x2F;RTCPä½¿ç”¨çš„ç«¯å£ï¼ŒPLAY&#x2F;PAUSE&#x2F;TEARDOWNå¯ä»¥å¼€å§‹æˆ–è€…åœæ­¢RTPçš„å‘é€\n\n\nRTCPï¼šå®æ—¶ä¼ è¾“æ§åˆ¶åè®®(Real-time ControlProtocolï¼ŒRTCP)\n\nRTP&#x2F;RTCPæ˜¯å®é™…ä¼ è¾“æ•°æ®çš„åè®®\nRTCPåŒ…æ‹¬Sender Reportå’ŒReceiver Reportï¼Œç”¨æ¥è¿›è¡ŒéŸ³é¢‘&#x2F;è§†é¢‘çš„åŒæ­¥ä»¥åŠå…¶ä»–ç”¨é€”ï¼Œæ˜¯ä¸€ç§æ§åˆ¶åè®®\n\n\n\næ‰©å±•\nRTMPï¼ˆReal-Time Messaging Protocolï¼Œå®æ—¶æ¶ˆæ¯ä¼ é€’åè®®ï¼‰\nRTSPï¼ˆReal-Time Streaming Protocolï¼Œå®æ—¶æµåè®®ï¼‰\n\nRTMPåè®®RTMPç”±Macromediaå…¬å¸å¼€å‘ï¼Œåè¢«Adobeæ”¶è´­ã€‚å®ƒä¸»è¦ç”¨äºä¸Flashæ’­æ”¾å™¨çš„æµå¼ä¼ è¾“ï¼Œå°½ç®¡Flashé€æ¸è¢«æ·˜æ±°ï¼Œä½†RTMPåœ¨ç›´æ’­å’Œç‚¹æ’­é¢†åŸŸä»ç„¶å æ®é‡è¦åœ°ä½ã€‚RTMPçš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ä½å»¶è¿Ÿä¼ è¾“ã€å¼ºé€‚åº”æ€§å’Œçµæ´»æ€§ã€‚å®ƒå¯ä»¥æ•´åˆæ–‡æœ¬ã€è§†é¢‘å’ŒéŸ³é¢‘æµï¼Œæ”¯æŒMP3ã€AACéŸ³é¢‘æµï¼Œä»¥åŠMP4ã€FLVå’ŒF4Vè§†é¢‘æ ¼å¼ã€‚ç„¶è€Œï¼ŒRTMPä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¦‚ä¸è¢«HTML5æ ‡å‡†æ’­æ”¾å™¨æ”¯æŒã€æ˜“å—å¸¦å®½é—®é¢˜å½±å“ï¼Œä¸”ä¸HTTPä¸å…¼å®¹ï¼Œéœ€è¦ç‰¹æ®ŠæœåŠ¡å™¨å’Œç¬¬ä¸‰æ–¹å†…å®¹äº¤ä»˜ç½‘ç»œæˆ–æµåª’ä½“è§†é¢‘å¹³å°ã€‚\nRTSPåè®®RTSPç”±RealNetworksã€Netscapeå’Œå“¥ä¼¦æ¯”äºšå¤§å­¦è”åˆå¼€å‘ã€‚å®ƒç”¨äºå»ºç«‹å’Œç»´æŠ¤å®¢æˆ·ç«¯ä¸æµåª’ä½“æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ï¼Œæ”¯æŒæš‚åœå’Œæ’­æ”¾åŠŸèƒ½ã€‚RTSPçš„å¯é æ€§å’Œæ§åˆ¶æ€§ä½¿å…¶æˆä¸ºé—­è·¯ç”µè§†ï¼ˆCCTVï¼‰å’Œç›‘æ§ç³»ç»Ÿçš„é¦–é€‰åè®®ã€‚RTSPçš„ä¼˜ç‚¹åŒ…æ‹¬æ˜“äºè‡ªå®šä¹‰æµå’Œåˆ†æ®µæµå¼ä¼ è¾“ï¼Œå…è®¸è§‚çœ‹è€…åœ¨ä¸‹è½½å®Œæˆä¹‹å‰è®¿é—®è§†é¢‘å†…å®¹ã€‚ä½†æ˜¯ï¼ŒRTSPçš„ä½¿ç”¨ç‡è¾ƒä½ï¼Œä¸”ä¸HTTPä¸å…¼å®¹ï¼Œéœ€è¦é¢å¤–è½¯ä»¶æ”¯æŒã€‚\nRTMPä¸RTSPçš„é€‰æ‹©é€‰æ‹©RTMPè¿˜æ˜¯RTSPï¼Œå–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯ã€‚IPæ‘„åƒæœºå’Œç‰©è”ç½‘è®¾å¤‡é€šå¸¸é€‰æ‹©RTSPï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸å†…ç½®äº†RTSPï¼Œå¯ä»¥å®ç°ä½å»¶è¿Ÿçš„è§†é¢‘è®¿é—®ã€‚è€Œæµåª’ä½“åº”ç”¨ç¨‹åºï¼Œå¦‚çŸ­è§†é¢‘å’Œè§†é¢‘è½¯ä»¶ï¼Œé€šå¸¸å†…ç½®äº†RTMPï¼Œå› ä¸ºå®ƒæ˜¯ä¸ºæ»¡è¶³ç°ä»£æµåª’ä½“éœ€æ±‚è€Œè®¾è®¡çš„ã€‚\næ€»çš„æ¥è¯´ï¼ŒRTMPå’ŒRTSPéƒ½æ˜¯æµåª’ä½“ä¼ è¾“ä¸­å¸¸ç”¨çš„åè®®ï¼Œå®ƒä»¬å„æœ‰ä¼˜ç¼ºç‚¹ã€‚åœ¨é€‰æ‹©æ—¶ï¼Œéœ€è¦è€ƒè™‘å»¶è¿Ÿã€åº”ç”¨åœºæ™¯å’Œå®‰å…¨æ€§ç­‰å› ç´ ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£è¿™ä¸¤ç§æµåª’ä½“åè®®ï¼Œå¹¶åšå‡ºåˆé€‚çš„é€‰æ‹©\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"Unicastã€Multicastã€Broadcastçš„å«ä¹‰åŠå…³ç³»","url":"/2025/08/19/%E6%89%A9%E5%B1%95/Unicast%E3%80%81Multicast%E3%80%81Broadcast%E7%9A%84%E5%90%AB%E4%B9%89%E5%8F%8A%E5%85%B3%E7%B3%BB/","content":"Unicastã€Multicastã€Broadcastçš„å«ä¹‰åŠå…³ç³»å•æ’­ï¼ˆUnicastï¼‰ã€ç»„æ’­ï¼ˆMulticastï¼‰ å’Œ å¹¿æ’­ï¼ˆBroadcastï¼‰ æ˜¯è®¡ç®—æœºç½‘ç»œä¸­ä¸‰ç§åŸºæœ¬çš„æ•°æ®ä¼ è¾“æ¨¡å¼ï¼Œå®ƒä»¬åœ¨å‡ ä¹æ‰€æœ‰ç°ä»£ç½‘ç»œé€šä¿¡é¢†åŸŸéƒ½æœ‰åº”ç”¨ã€‚ä½ å¯ä»¥æŠŠå®ƒä»¬ç†è§£ä¸ºâ€œä¿¡æ¯å¦‚ä½•ä»ä¸€ä¸ªåœ°æ–¹å‘é€åˆ°å¦ä¸€ä¸ªæˆ–å¤šä¸ªåœ°æ–¹â€çš„æ–¹å¼ã€‚\nä¸‹é¢æˆ‘ä»¬æ¥ç³»ç»Ÿåœ°è§£é‡Šè¿™ä¸ªæ¦‚å¿µï¼š\n\nä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä¸‰ç§ä¼ è¾“æ¨¡å¼\n\n\næ¨¡å¼\nä¸­æ–‡\nè‹±æ–‡\né€šä¿¡å…³ç³»\nç±»æ¯”ç”Ÿæ´»\n\n\n\nå•æ’­\nç‚¹å¯¹ç‚¹\nUnicast\n1 å¯¹ 1\næ‰“ç”µè¯ï¼šä½ åªæ‰“ç»™ä¸€ä¸ªäºº\n\n\nç»„æ’­\nä¸€å¯¹å¤šï¼ˆç‰¹å®šç¾¤ä½“ï¼‰\nMulticast\n1 å¯¹ å¤šï¼ˆæœ‰é€‰æ‹©ï¼‰\nå‘å¾®ä¿¡ç¾¤æ¶ˆæ¯ï¼šåªæœ‰ç¾¤æˆå‘˜èƒ½æ”¶åˆ°\n\n\nå¹¿æ’­\nä¸€å¯¹æ‰€æœ‰\nBroadcast\n1 å¯¹ å…¨ä½“\nå­¦æ ¡å¹¿æ’­ï¼šå…¨æ ¡éƒ½èƒ½å¬åˆ°\n\n\n\näºŒã€è¯¦ç»†è§£é‡Š1. å•æ’­ï¼ˆUnicastï¼‰â€”â€”æœ€å¸¸è§çš„æ–¹å¼\nå®šä¹‰ï¼šæ•°æ®ä»ä¸€ä¸ªå‘é€æ–¹å‘é€åˆ°ä¸€ä¸ªç‰¹å®šæ¥æ”¶æ–¹ã€‚\nç‰¹ç‚¹ï¼š\nä½¿ç”¨å”¯ä¸€çš„ IP åœ°å€ï¼ˆå¦‚ 192.168.1.100ï¼‰ã€‚\næ¯ä¸ªæ¥æ”¶è€…éƒ½éœ€è¦ç‹¬ç«‹çš„æ•°æ®æµã€‚\næ”¯æŒ TCPï¼ˆå¯é ï¼‰æˆ– UDPï¼ˆå¿«é€Ÿï¼‰ã€‚\n\n\nâœ… ä¼˜ç‚¹ï¼šå®‰å…¨ã€å¯é ã€å¯å®šåˆ¶ã€‚\nâŒ ç¼ºç‚¹ï¼šå¦‚æœå¾ˆå¤šäººçœ‹åŒä¸€ä¸ªè§†é¢‘ï¼ŒæœåŠ¡å™¨è¦å‘å¾ˆå¤šä»½ï¼Œæµªè´¹å¸¦å®½å’Œèµ„æºã€‚\nğŸ“Œ åº”ç”¨åœºæ™¯ï¼š\næµè§ˆç½‘é¡µï¼ˆHTTP&#x2F;HTTPSï¼‰\nå‘é‚®ä»¶ï¼ˆSMTPï¼‰\nä¸‹è½½æ–‡ä»¶ï¼ˆFTPï¼‰\nè§†é¢‘å¹³å°ï¼ˆå¦‚æŠ–éŸ³ã€Bç«™ï¼‰çš„æ™®é€šç›´æ’­ï¼ˆåŸºäºå•æ’­ï¼‰\n\n\n\n\nğŸ’¡ ä¸¾ä¾‹ï¼šä½ åœ¨ YouTube çœ‹ä¸€ä¸ªè§†é¢‘ï¼ŒæœåŠ¡å™¨å°±ä¸“é—¨ä¸ºä½ â€œå¼€ä¸€æ¡è·¯â€ä¼ æ•°æ®ã€‚\n\n\n2. ç»„æ’­ï¼ˆMulticastï¼‰â€”â€”é«˜æ•ˆçš„ä¸€å¯¹å¤šä¼ è¾“\nå®šä¹‰ï¼šæ•°æ®ä»ä¸€ä¸ªå‘é€æ–¹å‘é€åˆ°ä¸€ç»„ç‰¹å®šçš„æ¥æ”¶è€…ï¼Œè¿™äº›æ¥æ”¶è€…â€œåŠ å…¥â€äº†ä¸€ä¸ªç»„æ’­ç»„ã€‚\nå…³é”®æŠ€æœ¯ï¼š\nä½¿ç”¨ç‰¹æ®Šçš„ IP åœ°å€èŒƒå›´ï¼š224.0.0.0 ~ 239.255.255.255ï¼ˆDç±»åœ°å€ï¼‰\næ¥æ”¶è€…é€šè¿‡ IGMP åè®®â€œåŠ å…¥â€æˆ–â€œé€€å‡ºâ€ç»„æ’­ç»„\nè·¯ç”±å™¨é€šè¿‡ PIM åè®®æ„å»ºâ€œç»„æ’­æ ‘â€ï¼ŒåªæŠŠæ•°æ®è½¬å‘ç»™æœ‰æ¥æ”¶è€…çš„è·¯å¾„\n\n\nâœ… ä¼˜ç‚¹ï¼š\næå¤§èŠ‚çœå¸¦å®½ï¼ˆä¸€ä»½æ•°æ®ä¼ å…¨ç½‘ï¼Œåªåœ¨éœ€è¦çš„åœ°æ–¹å¤åˆ¶ï¼‰\næ‰©å±•æ€§å¼ºï¼Œé€‚åˆæˆåƒä¸Šä¸‡äººåŒæ—¶æ¥æ”¶\n\n\nâŒ ç¼ºç‚¹ï¼š\néœ€è¦ç½‘ç»œè®¾å¤‡æ”¯æŒï¼ˆè·¯ç”±å™¨ã€äº¤æ¢æœºè¦é…ç½®ï¼‰\nå®ç°å¤æ‚ï¼Œäº’è”ç½‘ä¸Šä¸æ™®éï¼ˆå› å®‰å…¨å’Œç®¡ç†é—®é¢˜ï¼‰\n\n\nğŸ“Œ åº”ç”¨åœºæ™¯ï¼š\nIPTVï¼ˆå¦‚ç”µä¿¡ç”µè§†ç›´æ’­ï¼‰\nä¼ä¸šè§†é¢‘ä¼šè®®\nè‚¡ç¥¨è¡Œæƒ…å®æ—¶æ¨é€\nåœ¨çº¿æ•™è‚²å¤§è¯¾ç›´æ’­ï¼ˆæ ¡å›­ç½‘å†…ï¼‰\næ¸¸æˆå†…åŒæ­¥ä¿¡æ¯\n\n\n\n\nğŸ’¡ ä¸¾ä¾‹ï¼šå…¬å¸å¼€å…¨å‘˜å¤§ä¼šï¼ŒITéƒ¨é—¨ç”¨ç»„æ’­æ–¹å¼ç›´æ’­ï¼Œç½‘ç»œåªä¼ ä¸€ä»½è§†é¢‘æµï¼Œæ‰€æœ‰åŠ å…¥â€œä¼šè®®ç»„â€çš„å‘˜å·¥éƒ½èƒ½çœ‹ï¼Œä¸å¡ä¸æ…¢ã€‚\n\n\n3. å¹¿æ’­ï¼ˆBroadcastï¼‰â€”â€”æœ¬åœ°â€œå–Šä¸€å—“å­â€\nå®šä¹‰ï¼šæ•°æ®ä»ä¸€ä¸ªå‘é€æ–¹å‘é€åˆ°æœ¬åœ°ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡ã€‚\nç‰¹ç‚¹ï¼š\nä½¿ç”¨å¹¿æ’­åœ°å€ï¼Œå¦‚ 255.255.255.255 æˆ– 192.168.1.255\næ•°æ®ä¸ä¼šè·¨è·¯ç”±å™¨ä¼ æ’­ï¼ˆè¢«é™åˆ¶åœ¨â€œå¹¿æ’­åŸŸâ€å†…ï¼‰\nIPv6 å·²å–æ¶ˆå¹¿æ’­ï¼Œç”¨ç»„æ’­æ›¿ä»£\n\n\nâœ… ä¼˜ç‚¹ï¼šç®€å•ã€å¿«é€Ÿé€šçŸ¥æ‰€æœ‰äºº\nâŒ ç¼ºç‚¹ï¼šæµªè´¹èµ„æºï¼ˆæ‰€æœ‰äººéƒ½è¦å¤„ç†æ•°æ®ï¼‰ï¼Œä¸å®‰å…¨ï¼Œä¸èƒ½è·¨ç½‘\nğŸ“Œ åº”ç”¨åœºæ™¯ï¼š\nARP è¯·æ±‚ï¼ˆâ€œè°æœ‰è¿™ä¸ªIPï¼Ÿè¯·å‘Šè¯‰æˆ‘MACåœ°å€â€ï¼‰\nDHCPï¼ˆâ€œæˆ‘æ˜¯æ–°è®¾å¤‡ï¼Œè¯·ç»™æˆ‘åˆ†é…IPâ€ï¼‰\nå±€åŸŸç½‘æ‰“å°æœºå‘ç°\n\n\n\n\nğŸ’¡ ä¸¾ä¾‹ï¼šä½ åœ¨åŠå…¬å®¤æ’ä¸Šç½‘çº¿ï¼Œç”µè„‘å¤§å–Šä¸€å£°â€œè°æ˜¯è·¯ç”±å™¨ï¼Ÿâ€ï¼Œè¿™å°±æ˜¯å¹¿æ’­ã€‚\n\n\nä¸‰ã€å®ƒä»¬åœ¨å“ªäº›é¢†åŸŸéƒ½æœ‰åº”ç”¨ï¼Ÿ\n\n\né¢†åŸŸ\nåº”ç”¨åœºæ™¯\nä½¿ç”¨çš„ä¼ è¾“æ–¹å¼\n\n\n\näº’è”ç½‘æµè§ˆ\nçœ‹ç½‘é¡µã€åˆ·è§†é¢‘\nå•æ’­ä¸ºä¸»\n\n\nä¼ä¸šç½‘ç»œ\nå†…éƒ¨ç›´æ’­ã€è§†é¢‘ä¼šè®®\nç»„æ’­ï¼ˆèŠ‚çœå†…ç½‘å¸¦å®½ï¼‰\n\n\nç”µä¿¡IPTV\nç”µè§†ç›´æ’­é¢‘é“\nç»„æ’­ï¼ˆé«˜æ•ˆï¼‰\n\n\né‡‘èè¡Œä¸š\nè‚¡ç¥¨è¡Œæƒ…æ¨é€\nç»„æ’­ï¼ˆå®æ—¶+é«˜æ•ˆï¼‰\n\n\nç‰©è”ç½‘ï¼ˆIoTï¼‰\nä¼ æ„Ÿå™¨æ•°æ®åŒæ­¥\nç»„æ’­æˆ–å¹¿æ’­\n\n\näº‘è®¡ç®—&#x2F;æ•°æ®ä¸­å¿ƒ\né…ç½®ä¸‹å‘ã€æ—¥å¿—æ”¶é›†\nå•æ’­ã€ç»„æ’­\n\n\næ¸¸æˆç½‘ç»œ\nå¤šäººæ¸¸æˆçŠ¶æ€åŒæ­¥\nç»„æ’­æˆ–UDPå•æ’­\n\n\næ ¡å›­ç½‘\nåœ¨çº¿æ•™å­¦ã€è€ƒè¯•é€šçŸ¥\nç»„æ’­ï¼ˆç›´æ’­è¯¾ï¼‰ã€å¹¿æ’­ï¼ˆè®¾å¤‡å‘ç°ï¼‰\n\n\n\nå››ã€æ€»ç»“ä¸€å¥è¯\nå•æ’­ã€ç»„æ’­ã€å¹¿æ’­ æ˜¯ç½‘ç»œé€šä¿¡çš„ä¸‰ç§â€œäº¤é€šæ–¹å¼â€ï¼š\n\nå•æ’­ æ˜¯â€œä¸“è½¦æ¥é€â€ï¼Œç²¾å‡†ä½†æˆæœ¬é«˜ï¼›\nç»„æ’­ æ˜¯â€œå…¬äº¤è½¦â€ï¼Œåªåœ¨æœ‰äººç­‰è½¦çš„ç«™å°åœé ï¼Œæ•ˆç‡é«˜ï¼›\nå¹¿æ’­ æ˜¯â€œå¤§å–‡å­å–Šè¯â€ï¼Œå…¨å°åŒºéƒ½å¬è§ï¼Œç®€å•ä½†åµã€‚\n\n\nåœ¨å®é™…ç½‘ç»œä¸­ï¼Œè¿™ä¸‰ç§æ–¹å¼å…±å­˜ä¸”äº’è¡¥ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„ä¼ è¾“æ¨¡å¼ã€‚\nå¦‚æœä½ æ˜¯åœ¨å­¦ä¹ ç½‘ç»œã€åšå¼€å‘æˆ–æ­å»ºç³»ç»Ÿï¼Œç†è§£è¿™ä¸‰è€…çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯ï¼Œå¯¹è®¾è®¡é«˜æ•ˆã€ç¨³å®šçš„ç³»ç»Ÿè‡³å…³é‡è¦ã€‚\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"VS Codeå¸¸ç”¨å¿«æ·é”®","url":"/2019/04/02/%E6%89%A9%E5%B1%95/VS%20Code%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/","content":"VS Codeå¸¸ç”¨å¿«æ·é”®VS Code æä¾›äº†ä¸°å¯Œçš„å¿«æ·é”®ï¼Œå¯ä»¥æ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®åˆ†ç±»æ•´ç†ï¼ˆåŸºäº Windows&#x2F;Linuxï¼ŒmacOS ç”¨æˆ·å¯å°† Ctrl æ›¿æ¢ä¸º Cmdï¼Œéƒ¨åˆ†å¿«æ·é”®å¯èƒ½å› ç³»ç»Ÿæˆ–è®¾ç½®ä¸åŒè€Œç•¥æœ‰å·®å¼‚ï¼‰ï¼š\nåŸºç¡€æ“ä½œ\næ‰“å¼€å‘½ä»¤é¢æ¿ï¼šCtrl + Shift + Pï¼ˆæ‰€æœ‰åŠŸèƒ½å…¥å£ï¼‰  \næ–°å»ºæ–‡ä»¶&#x2F;çª—å£ï¼šCtrl + N &#x2F; Ctrl + Shift + N  \nä¿å­˜æ–‡ä»¶ï¼šCtrl + S  \nä¿å­˜æ‰€æœ‰æ–‡ä»¶ï¼šCtrl + K â†’ S  \nå…³é—­å½“å‰æ ‡ç­¾é¡µï¼šCtrl + W  \næ’¤é”€&#x2F;é‡åšï¼šCtrl + Z &#x2F; Ctrl + Y\n\nå¯¼èˆªä¸æœç´¢\nå¿«é€Ÿè·³è½¬æ–‡ä»¶ï¼šCtrl + Pï¼ˆè¾“å…¥æ–‡ä»¶åï¼‰  \næœç´¢æ–‡æœ¬ï¼šCtrl + Fï¼ˆå½“å‰æ–‡ä»¶ï¼‰  \nå…¨å±€æœç´¢ï¼šCtrl + Shift + Fï¼ˆè·¨æ–‡ä»¶æœç´¢ï¼‰  \nè·³è½¬åˆ°å®šä¹‰ï¼šF12ï¼ˆæˆ– Ctrl + ç‚¹å‡»ï¼‰  \nè¿”å›&#x2F;å‰è¿›ï¼šAlt + â† &#x2F; Alt + â†’ï¼ˆå…‰æ ‡å†å²ä½ç½®ï¼‰  \nè·³è½¬åˆ°è¡Œå·ï¼šCtrl + G\n\nç¼–è¾‘ä»£ç \nå¤åˆ¶&#x2F;å‰ªåˆ‡å½“å‰è¡Œï¼šCtrl + C &#x2F; Ctrl + Xï¼ˆæ— éœ€é€‰ä¸­ï¼‰  \nåˆ é™¤å½“å‰è¡Œï¼šCtrl + Shift + K  \nä¸Šä¸‹ç§»åŠ¨è¡Œï¼šAlt + â†‘/â†“  \nä»£ç æ ¼å¼åŒ–ï¼šShift + Alt + F  \næ³¨é‡Šè¡Œï¼šCtrl + /ï¼ˆå•è¡Œæ³¨é‡Šï¼‰  \nå¤šå…‰æ ‡æ“ä½œï¼š  \næ·»åŠ å…‰æ ‡ï¼šAlt + ç‚¹å‡»  \næ‰¹é‡é€‰æ‹©ç›¸åŒè¯ï¼šCtrl + Dï¼ˆè¿ç»­æŒ‰å¯é€‰ä¸­å¤šä¸ªï¼‰  \nå‚ç›´å¤šå…‰æ ‡ï¼šCtrl + Alt + â†‘/â†“\n\n\n\nç»ˆç«¯ä¸é¢æ¿\nåˆ‡æ¢ç»ˆç«¯ï¼šCtrl + `` ï¼ˆåå¼•å·ï¼‰  \næ–°å»ºç»ˆç«¯ï¼šCtrl + Shift + ``   \nåˆ‡æ¢é¢æ¿ï¼šCtrl + Shift + Eï¼ˆèµ„æºç®¡ç†å™¨ï¼‰ã€Ctrl + Shift + Fï¼ˆæœç´¢ï¼‰ã€Ctrl + Shift + Dï¼ˆè°ƒè¯•ï¼‰ç­‰  \néšè—ä¾§è¾¹æ ï¼šCtrl + B\n\nè°ƒè¯•ç›¸å…³\nå¯åŠ¨è°ƒè¯•ï¼šF5  \nå•æ­¥è·³è¿‡ï¼šF10  \nå•æ­¥è¿›å…¥ï¼šF11  \nåˆ‡æ¢æ–­ç‚¹ï¼šF9\n\nçª—å£ç®¡ç†\næ‹†åˆ†ç¼–è¾‘å™¨ï¼šCtrl + \\  \nåˆ‡æ¢æ ‡ç­¾é¡µï¼šCtrl + Tab  \nå…¨å±æ¨¡å¼ï¼šF11\n\nè‡ªå®šä¹‰å¿«æ·é”®\næ‰“å¼€å¿«æ·é”®è®¾ç½®ï¼šCtrl + K â†’ Ctrl + S  \næœç´¢å‘½ä»¤å¹¶ç»‘å®šæ–°å¿«æ·é”®ï¼ˆå¦‚ Ctrl + M ç»‘å®šåˆ°æŸä¸ªåŠŸèƒ½ï¼‰ã€‚\n\nå…¶ä»–å®ç”¨æŠ€å·§\né‡å‘½åç¬¦å·ï¼šF2ï¼ˆæ‰¹é‡ä¿®æ”¹å˜é‡&#x2F;å‡½æ•°åï¼‰  \næŠ˜å ä»£ç å—ï¼šCtrl + Shift + [ &#x2F; ]  \nå¿«é€Ÿä¿®å¤ï¼šCtrl + .ï¼ˆé’ˆå¯¹é”™è¯¯æç¤ºæˆ–å»ºè®®ï¼‰\n\n\næç¤ºï¼šè¾“å…¥ Ctrl + K â†’ Ctrl + R å¯æŸ¥çœ‹æ‰€æœ‰å®˜æ–¹å¿«æ·é”®çš„å‚è€ƒæ‰‹å†Œï¼ˆPDFï¼‰ã€‚ä¸åŒæ’ä»¶ï¼ˆå¦‚ Vimã€ESLintï¼‰å¯èƒ½æœ‰é¢å¤–å¿«æ·é”®ï¼Œå»ºè®®æŸ¥é˜…æ’ä»¶æ–‡æ¡£ã€‚\n\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"Vimå¸¸ç”¨æ“ä½œ","url":"/2017/01/29/%E6%89%A9%E5%B1%95/Vim%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/","content":"Vimå¸¸ç”¨æ“ä½œåœ¨ Vim ä¸­è¿›è¡Œæ•´è¡Œå¤åˆ¶ï¼ˆyankï¼‰å’Œç²˜è´´ï¼ˆputï¼‰çš„æ“ä½œéå¸¸ç®€å•ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨æ–¹æ³•ï¼š\n\nğŸ”¹ å¤åˆ¶æ•´è¡Œ\nå°†å…‰æ ‡ç§»åŠ¨åˆ°è¦å¤åˆ¶çš„è¡Œã€‚\næŒ‰ yyï¼ˆæˆ– Yï¼‰ï¼šå¤åˆ¶å½“å‰æ•´è¡Œï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰ã€‚\n\n\nä¾‹å¦‚ï¼šå…‰æ ‡åœ¨ç¬¬5è¡Œï¼ŒæŒ‰ yy â†’ ç¬¬5è¡Œè¢«å¤åˆ¶åˆ°é»˜è®¤å¯„å­˜å™¨ã€‚\n\n\nğŸ”¹ ç²˜è´´æ•´è¡Œ\nå°†å…‰æ ‡ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®ã€‚\næŒ‰ pï¼šåœ¨å½“å‰è¡Œä¸‹æ–¹ç²˜è´´ä¸€è¡Œã€‚\næŒ‰ Pï¼ˆå¤§å†™ï¼‰ï¼šåœ¨å½“å‰è¡Œä¸Šæ–¹ç²˜è´´ä¸€è¡Œã€‚\n\n\nä¾‹å¦‚ï¼šå…‰æ ‡åœ¨ç¬¬10è¡Œï¼ŒæŒ‰ p â†’ å¤åˆ¶çš„å†…å®¹æ’å…¥ä¸ºç¬¬11è¡Œã€‚æŒ‰ P â†’ æ’å…¥ä¸ºç¬¬10è¡Œï¼ŒåŸç¬¬10è¡Œä¸‹ç§»ã€‚\n\n\nğŸ”¹ å…¶ä»–ç›¸å…³æŠ€å·§\nå¤åˆ¶å¤šè¡Œï¼š  \n\n3yyï¼šä»å½“å‰è¡Œå¼€å§‹å‘ä¸‹å¤åˆ¶3è¡Œã€‚\n5Yï¼šåŒä¸Šï¼Œç­‰æ•ˆäº 5yyã€‚\n\n\nåˆ é™¤å¹¶å¤åˆ¶ï¼ˆå‰ªåˆ‡ï¼‰æ•´è¡Œï¼š  \n\nddï¼šåˆ é™¤å½“å‰è¡Œï¼ˆåŒæ—¶æ”¾å…¥å¯„å­˜å™¨ï¼Œå¯ç²˜è´´ï¼‰ã€‚\n3ddï¼šåˆ é™¤3è¡Œã€‚\n\n\næŸ¥çœ‹å¯„å­˜å™¨å†…å®¹ï¼ˆå¯é€‰ï¼‰ï¼š  \n\n:reg æˆ– :registersï¼šæŸ¥çœ‹æ‰€æœ‰å¯„å­˜å™¨å†…å®¹ï¼Œç¡®è®¤å¤åˆ¶äº†ä»€ä¹ˆã€‚\n\n\n\n\nâœ… ç¤ºä¾‹æµç¨‹\nå…‰æ ‡ç§»åˆ°è¦å¤åˆ¶çš„è¡Œã€‚\næŒ‰ yyã€‚\nç§»åŠ¨å…‰æ ‡åˆ°ç›®æ ‡ä½ç½®ã€‚\næŒ‰ pï¼ˆä¸‹æ–¹ç²˜è´´ï¼‰æˆ– Pï¼ˆä¸Šæ–¹ç²˜è´´ï¼‰ã€‚\n\n\nå¦‚æœ‰æ›´å¤š Vim ç›¸å…³é—®é¢˜ï¼ˆæ¯”å¦‚è·¨æ–‡ä»¶å¤åˆ¶ã€ä½¿ç”¨å‘½åå¯„å­˜å™¨ç­‰ï¼‰ï¼Œæ¬¢è¿ç»§ç»­æé—®ï¼\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"Windowså¸¸ç”¨æŒ‡ä»¤","url":"/2020/02/25/%E6%89%A9%E5%B1%95/Windows%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","content":"Windowså¸¸ç”¨æŒ‡ä»¤\nå…³æœº\nshutdown -s -t 0shutdown -p\n\né‡å¯\nshutdown -r -t 0\n\nä¼‘çœ \nshutdown -h\n\næˆªå›¾ Win+Shift+S\n\n\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"win10ä¸“ä¸šç‰ˆæ¿€æ´»","url":"/2020/02/08/%E6%89%A9%E5%B1%95/win10%E4%B8%93%E4%B8%9A%E7%89%88%E6%BF%80%E6%B4%BB/","content":"win10ä¸“ä¸šç‰ˆæ¿€æ´»æ‰“å¼€å‘½ä»¤æ¡†ï¼Œä¾æ¬¡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ†åˆ«æ˜¯å®‰è£…win10ä¸“ä¸šç‰ˆå¯†é’¥ï¼Œè®¾ç½®kmsæœåŠ¡å™¨ï¼Œæ¿€æ´»win10ä¸“ä¸šç‰ˆç³»ç»Ÿï¼Œæ‰§è¡Œæœ€åä¸€ä¸ªå‘½ä»¤åï¼Œä¼šæç¤ºã€Professional editionæˆåŠŸåœ°æ¿€æ´»äº†äº§å“ã€‘ï¼Œè¡¨æ˜å½“å‰ç³»ç»Ÿå·²ç»å˜æˆwin10ä¸“ä¸šç‰ˆï¼Œå¹¶æˆåŠŸæ¿€æ´»ï¼›\nslmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX\n\nslmgr /skms kms.digiboy.ir\n\nslmgr /ato\n\nslmgr /xpr æŸ¥çœ‹æ¿€æ´»æ—¥æœŸ\n\næˆ–è€… æ°¸ä¹…æ¿€æ´»\nirm https://get.activated.win | iex\n\n2022.2.21æœ‰æ•ˆçš„kmsæœåŠ¡å™¨åœ°å€\n\nkms.dwhd.org\nkms.digiboy.ir\nwww.zgbs.cc\ncy2617.jios.org\n\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"å¦‚ä½•æŸ¥çœ‹winç”µè„‘çš„WIFIå¯†ç ","url":"/2020/02/08/%E6%89%A9%E5%B1%95/%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8Bwin%E7%94%B5%E8%84%91%E7%9A%84WIFI%E5%AF%86%E7%A0%81/","content":"å¦‚ä½•æŸ¥çœ‹winç”µè„‘çš„WIFIå¯†ç netsh wlan show profilesnetsh wlan show profiles &quot;hansong-office&quot; key=clear\n\nä¹Ÿå¯ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼Œç›´æ¥å¾—å‡ºç»“æœ\nfor /f &quot;skip=9 tokens=1,2 delims=:&quot; %i in (&#x27;netsh wlan show profiles&#x27;) do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clear\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"å¯¹è¯","url":"/2020/02/08/%E6%89%A9%E5%B1%95/%E5%AF%B9%E8%AF%9D/","content":"å¯¹è¯å¦‚ä½•æˆä¸ºä¼˜ç§€çš„Androidå¼€å‘å·¥ç¨‹å¸ˆï¼Ÿ1.äº†è§£ Java è¯­è¨€ï¼šAndroid æ˜¯ç”¨ Java è¯­è¨€ç¼–å†™çš„ï¼Œå› æ­¤äº†è§£ Java è¯­è¨€æ˜¯å¼€å‘ Android åº”ç”¨çš„åŸºç¡€ã€‚2.å­¦ä¹  Android æ¡†æ¶ï¼šAndroid æ¡†æ¶åŒ…æ‹¬ Android åº”ç”¨æ„å»ºå—ï¼Œå¦‚æ´»åŠ¨ã€æœåŠ¡ã€å¹¿æ’­æ¥æ”¶å™¨å’Œå†…å®¹æä¾›ç¨‹åºç­‰ã€‚3.ç†Ÿæ‚‰ Android UI å¼€å‘ï¼šäº†è§£å¦‚ä½•ä½¿ç”¨ Android çš„å¸ƒå±€å’Œå›¾å½¢å…ƒç´ æ¥åˆ›å»ºæœ‰å¸å¼•åŠ›çš„ UIã€‚4.äº†è§£æ•°æ®å­˜å‚¨æŠ€æœ¯ï¼šå­¦ä¹ å¦‚ä½•ä½¿ç”¨ SQLite æ•°æ®åº“æˆ–å…¶ä»–æ•°æ®å­˜å‚¨æŠ€æœ¯æ¥å­˜å‚¨å’Œç®¡ç†åº”ç”¨ç¨‹åºæ•°æ®ã€‚5.ç†Ÿæ‚‰ç½‘ç»œç¼–ç¨‹ï¼šå­¦ä¹ å¦‚ä½•ä» Android åº”ç”¨ç¨‹åºè®¿é—®ç½‘ç»œæ•°æ®å’Œ APIã€‚6.äº†è§£ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼šå­¦ä¹ å¦‚ä½•ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚ Gitï¼Œæ¥ç®¡ç†æºä»£ç ã€‚7.å­¦ä¹  Material Design æŒ‡å—ï¼šäº†è§£ Android çš„ Material Design æŒ‡å—ï¼Œå¹¶å­¦ä¹ å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å®ƒã€‚8.å‚ä¸å¼€æºé¡¹ç›®ï¼šå‚ä¸å¼€æºé¡¹ç›®å¯ä»¥å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£ Android å¼€å‘ï¼Œå¹¶å­¦ä¹ ä¸ä»–äººåˆä½œå¼€å‘çš„ç»éªŒã€‚9.ä¿æŒå­¦ä¹ ï¼šAndroid æŠ€æœ¯ä¸æ–­å‘å±•ï¼Œå› æ­¤ä¿æŒå­¦ä¹ å¹¶è·Ÿä¸Šæœ€æ–°æŠ€ã€‚\nå¦‚ä½•æˆä¸ºæœ‰é’±äººï¼Ÿ1.å­¦ä¹ è´¢åŠ¡çŸ¥è¯†ï¼šäº†è§£è´¢åŠ¡çŸ¥è¯†ï¼Œä¾‹å¦‚æŠ•èµ„ã€å‚¨è“„ã€å€ºåŠ¡ç®¡ç†å’Œç¨æ”¶ç­‰ã€‚2.åˆ¶å®šè´¢åŠ¡è§„åˆ’ï¼šåˆ¶å®šè¯¦ç»†çš„è´¢åŠ¡è§„åˆ’ï¼Œå¹¶ä¸¥æ ¼æ‰§è¡Œè®¡åˆ’ã€‚3.æ§åˆ¶å¼€æ”¯ï¼šå­¦ä¼šæ§åˆ¶å¼€æ”¯ï¼Œå¹¶å°½é‡é¿å…ä¸å¿…è¦çš„å¼€æ”¯ã€‚4.å‚¨è“„ï¼šå®šæœŸå‚¨è“„ä¸€å®šæ¯”ä¾‹çš„æ”¶å…¥ã€‚5.æŠ•èµ„ï¼šå­¦ä¹ å¦‚ä½•åˆç†æŠ•èµ„ï¼Œä¾‹å¦‚è‚¡ç¥¨ã€åŸºé‡‘ã€æˆ¿åœ°äº§ç­‰ã€‚6.åˆ›ä¸šï¼šå¦‚æœæœ‰é€‚åˆçš„å•†æœºï¼Œå¯ä»¥è€ƒè™‘åˆ›ä¸šã€‚7.ä¿æŠ¤èµ„äº§ï¼šåˆç†ä¿æŠ¤èµ„äº§ï¼Œä¾‹å¦‚è´­ä¹°ä¿é™©ã€åšå¥½èµ„äº§åˆ†é…ç­‰ã€‚8.ä¸æ–­å­¦ä¹ ï¼šä¸æ–­å­¦ä¹ æ–°çš„è´¢åŠ¡çŸ¥è¯†å’ŒæŠ€èƒ½ï¼Œå¹¶ä¸æ–­æé«˜è‡ªå·±ã€‚\n","categories":["æ‰©å±•"],"tags":["æ‰©å±•"]},{"title":"Androidå¼€å‘æ–¹å‘","url":"/2018/06/04/%E7%B3%BB%E7%BB%9F/Android%E5%BC%80%E5%8F%91%E6%96%B9%E5%90%91/","content":"Androidå¼€å‘æ–¹å‘Androidç³»ç»Ÿå¼€å‘ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªå¤§çš„æ–¹å‘ï¼šåº”ç”¨å¼€å‘ï¼ˆä¸Šå±‚å¼€å‘ï¼‰å’Œç³»ç»Ÿå±‚å¼€å‘ï¼ˆåº•å±‚å¼€å‘ï¼‰ã€‚æ¯ä¸ªæ–¹å‘éƒ½æœ‰å…¶ç‰¹å®šçš„å…³æ³¨ç‚¹å’ŒæŠ€æœ¯è¦æ±‚ã€‚\nåº”ç”¨å¼€å‘æ–¹å‘åº”ç”¨å¼€å‘è€…ä¸»è¦å…³æ³¨äºç”¨æˆ·ç•Œé¢çš„è®¾è®¡å’ŒåŠŸèƒ½çš„å®ç°ã€‚éšç€ç»éªŒçš„ç§¯ç´¯ï¼Œä»–ä»¬å¯èƒ½ä¼šè½¬å‘ä»¥ä¸‹é¢†åŸŸï¼š\n\nç”¨æˆ·ä½“éªŒè®¾è®¡ï¼šä¸“æ³¨äºç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒçš„è®¾è®¡ã€‚\næ¶æ„è®¾è®¡ï¼šå­¦ä¹ å¹¶å®è·µä¸åŒçš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå¦‚MVCã€MVPã€MVVMç­‰ï¼Œä»¥æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚\næ€§èƒ½ä¼˜åŒ–ï¼šæŒæ¡å¦‚ä½•ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼ŒåŒ…æ‹¬å†…å­˜ç®¡ç†ã€å“åº”é€Ÿåº¦ç­‰æ–¹é¢ã€‚\nè·¨å¹³å°å¼€å‘ï¼šå­¦ä¹ ä½¿ç”¨Flutterã€React Nativeç­‰æŠ€æœ¯æ¥åˆ›å»ºå¯ä»¥åŒæ—¶è¿è¡Œåœ¨Androidå’ŒiOSä¸Šçš„åº”ç”¨ã€‚\nç‰¹å®šé¢†åŸŸçš„åº”ç”¨å¼€å‘ï¼šä¾‹å¦‚éŸ³è§†é¢‘å¼€å‘ã€æ¸¸æˆå¼€å‘ç­‰ã€‚\n\nç³»ç»Ÿå±‚å¼€å‘æ–¹å‘ç³»ç»Ÿå±‚å¼€å‘è€…åˆ™æ›´å…³æ³¨äºAndroidç³»ç»Ÿçš„åº•å±‚å®ç°ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š\n\nFrameworkå±‚å¼€å‘ï¼šæ·±å…¥äº†è§£Androidæ¡†æ¶çš„å·¥ä½œåŸç†ï¼ŒåŒ…æ‹¬Activity Manager Service (AMS)ã€Window Manager Service (WMS)ç­‰æ ¸å¿ƒæœåŠ¡çš„æºç è§£æã€‚\nBSPï¼ˆBoard Support Packageï¼‰é©±åŠ¨å¼€å‘ï¼šæ¶‰åŠåˆ°ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHALï¼‰ã€å†…æ ¸é©±åŠ¨ã€æ“ä½œç³»ç»Ÿå®šåˆ¶ç­‰é«˜çº§æŠ€èƒ½ï¼Œéœ€è¦æœ‰æ·±åšçš„C&#x2F;C++ç¼–ç¨‹åŸºç¡€ä»¥åŠå¯¹Linuxå†…æ ¸çš„ç†è§£ã€‚\nå®‰å…¨æ€§ï¼šç ”ç©¶å¦‚ä½•å¢å¼ºAndroidè®¾å¤‡çš„å®‰å…¨æ€§ï¼ŒåŒ…æ‹¬æ•°æ®åŠ å¯†ã€æƒé™ç®¡ç†ç­‰æ–¹é¢ã€‚\nè™šæ‹ŸåŒ–ä¸å®¹å™¨æŠ€æœ¯ï¼šæ¢ç´¢å¦‚ä½•åœ¨Androidå¹³å°ä¸Šå®ç°åº”ç”¨çš„éš”ç¦»ä¸èµ„æºç®¡ç†ã€‚\néŸ³è§†é¢‘å¼€å‘ï¼šè™½ç„¶ä¸¥æ ¼æ„ä¹‰ä¸Šä¸å®Œå…¨å±äºç³»ç»Ÿå±‚å¼€å‘ï¼Œä½†æ¶‰åŠåˆ°å¤šåª’ä½“å¤„ç†æ—¶ï¼Œå¾€å¾€éœ€è¦æ·±å…¥åˆ°åº•å±‚è¿›è¡Œä¼˜åŒ–ã€‚\n\næ— è®ºæ˜¯é€‰æ‹©å“ªä¸ªæ–¹å‘ï¼Œéƒ½éœ€è¦æŒç»­å­¦ä¹ æœ€æ–°çš„æŠ€æœ¯å’Œå·¥å…·ï¼Œå¹¶ä¸”ä¸æ–­å®è·µä»¥æå‡è‡ªå·±çš„æŠ€èƒ½ã€‚å¯¹äºæœ‰å…´è¶£æ·±å…¥åˆ°ç³»ç»Ÿå±‚é¢çš„å¼€å‘è€…æ¥è¯´ï¼Œç†è§£Androidç³»ç»Ÿçš„å¯åŠ¨æµç¨‹ã€è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼ˆIPCï¼‰ã€Handleræ¶ˆæ¯æœºåˆ¶ã€SurfaceFlingerå›¾å½¢åˆæˆç­‰æ ¸å¿ƒæŠ€æœ¯æ˜¯éå¸¸é‡è¦çš„ã€‚è€Œå¯¹äºåº”ç”¨å¼€å‘è€…ï¼Œäº†è§£å¸‚åœºè¶‹åŠ¿å’Œç”¨æˆ·éœ€æ±‚ï¼ŒæŒæ¡å¿«é€Ÿè¿­ä»£å’Œæ•æ·å¼€å‘çš„èƒ½åŠ›ä¹ŸåŒæ ·å…³é”®ã€‚\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"Androidç³»ç»Ÿæ¶æ„","url":"/2020/05/26/%E7%B3%BB%E7%BB%9F/Android%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/","content":"Androidç³»ç»Ÿæ¶æ„åœ¨Androidç³»ç»Ÿæ¶æ„ä¸­ï¼Œæ¯ä¸€å±‚éƒ½ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰å…¶ç‰¹å®šçš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯å„å±‚å…·ä½“æ¨¡å—åŠå…¶åŠŸèƒ½çš„è¯¦ç»†ä»‹ç»ï¼š\nåº”ç”¨å±‚ï¼ˆApplicationsï¼‰\nåŒ…å«ç”¨æˆ·ç›´æ¥äº¤äº’çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ç”µè¯ã€çŸ­ä¿¡ã€æµè§ˆå™¨ã€è”ç³»äººç­‰ã€‚\nç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºä¹Ÿæ˜¯è¿™ä¸€å±‚çš„ä¸€éƒ¨åˆ†ï¼Œä½¿ç”¨Javaæˆ–Kotlinç¼–å†™ã€‚\n\nåº”ç”¨æ¡†æ¶å±‚ï¼ˆApplication Frameworkï¼‰\nActivity Managerï¼šç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸå’Œå¸¸è§å¯¼èˆªå›é€€åŠŸèƒ½ã€‚\nWindow Managerï¼šç®¡ç†æ‰€æœ‰çš„çª—å£ç¨‹åºï¼Œæä¾›å¤šå±æ”¯æŒã€é€šçŸ¥æ ä¿¡æ¯ç­‰åŠŸèƒ½ã€‚\nContent Providersï¼šå…è®¸åº”ç”¨ç¨‹åºä¹‹é—´è®¿é—®å½¼æ­¤çš„æ•°æ®ï¼Œä¾‹å¦‚è¯»å–è”ç³»äººæ•°æ®ã€‚\nView Systemï¼šæ„å»ºåº”ç”¨ç¨‹åºçš„åŸºæœ¬ç»„ä»¶ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€ç½‘æ ¼ã€æ–‡æœ¬æ¡†ã€æŒ‰é’®ç­‰UIå…ƒç´ ã€‚\nNotification Managerï¼šä½¿æ‰€æœ‰åº”ç”¨å¯ä»¥åœ¨çŠ¶æ€æ ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰æé†’ã€‚\nPackage Managerï¼šè´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºåŒ…ç›¸å…³çš„æ“ä½œï¼Œæ¯”å¦‚å®‰è£…ã€å¸è½½åº”ç”¨ç­‰ã€‚\nTelephony Managerï¼šæä¾›å¯¹è®¾å¤‡é€šè¯çŠ¶æ€çš„ç®¡ç†å’Œæ§åˆ¶ã€‚\n\nç³»ç»Ÿè¿è¡Œåº“å±‚ï¼ˆLibraries + Android Runtimeï¼‰Libraries\nSurface Managerï¼šç®¡ç†æ˜¾ç¤ºå­ç³»ç»Ÿï¼Œå¹¶ä¸”ä¸ºå¤šä¸ªåº”ç”¨ç¨‹åºæä¾›2Då’Œ3Då›¾å±‚çš„æ— ç¼ç»“åˆã€‚\nMedia Frameworkï¼šæ”¯æŒå¤šç§å¸¸ç”¨çš„éŸ³é¢‘ã€è§†é¢‘æ ¼å¼å½•åˆ¶å’Œæ’­æ”¾ã€‚\nSQLiteï¼šè½»é‡çº§çš„å…³ç³»æ•°æ®åº“å¼•æ“ï¼Œç”¨äºå­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ã€‚\nWebKitï¼šæµè§ˆå™¨å¼•æ“ï¼Œç”¨äºå±•ç¤ºç½‘é¡µå†…å®¹ã€‚\nOpenGL|ESï¼šç”¨äºé«˜æ€§èƒ½çš„2Då’Œ3Då›¾å½¢æ¸²æŸ“ã€‚\n\nAndroid Runtime\n**ART(Android Runtime)**ï¼šä»Android 5.0å¼€å§‹ä½¿ç”¨çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ›¿ä»£äº†Dalvikè™šæ‹Ÿæœºã€‚å®ƒé‡‡ç”¨AOTç¼–è¯‘æ–¹å¼æé«˜äº†åº”ç”¨å¯åŠ¨é€Ÿåº¦å’Œæ‰§è¡Œæ•ˆç‡ã€‚\n\nLinuxå†…æ ¸å±‚ï¼ˆLinux Kernelï¼‰\né©±åŠ¨ç¨‹åºï¼šåŒ…æ‹¬æ‘„åƒå¤´ã€éŸ³é¢‘ã€è“ç‰™ã€Wi-Fiã€USBç­‰ç¡¬ä»¶é©±åŠ¨ã€‚\nç”µæºç®¡ç†ï¼šä¼˜åŒ–ç”µæ± å¯¿å‘½ï¼Œæ§åˆ¶è®¾å¤‡è¿›å…¥ä¼‘çœ æ¨¡å¼ç­‰ã€‚\nå†…å­˜ç®¡ç†ï¼šç®¡ç†ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚\nè¿›ç¨‹ç®¡ç†ï¼šè°ƒåº¦å’Œåˆ‡æ¢è¿›ç¨‹ï¼Œä¿è¯ç³»ç»Ÿèµ„æºåˆç†åˆ†é…ã€‚\nç½‘ç»œåè®®æ ˆï¼šå®ç°TCP&#x2F;IPåè®®æ—ï¼Œæ”¯æŒç½‘ç»œé€šä¿¡ã€‚\n\nè¿™ç§åˆ†å±‚è®¾è®¡è®©Androidç³»ç»Ÿå…·æœ‰é«˜åº¦çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒæ—¶ç¡®ä¿äº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚æ¯å±‚ä¹‹é—´çš„æ¥å£æ¸…æ™°æ˜ç¡®ï¼Œæœ‰åŠ©äºå¼€å‘è€…ä¸“æ³¨äºå„è‡ªå±‚æ¬¡ä¸Šçš„å¼€å‘ä»»åŠ¡ã€‚\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"Androidç³»ç»Ÿç¼–è¯‘","url":"/2020/05/26/%E7%B3%BB%E7%BB%9F/Android%E7%B3%BB%E7%BB%9F%E7%BC%96%E8%AF%91/","content":"Androidç³»ç»Ÿç¼–è¯‘ç¼–è¯‘ Android ç³»ç»Ÿï¼ˆAOSP - Android Open Source Projectï¼‰æ˜¯ä¸€ä¸ªå¤æ‚ä½†ç»“æ„åŒ–çš„è¿‡ç¨‹ï¼Œæ¶‰åŠå¤šä¸ªæ­¥éª¤å’Œå·¥å…·ã€‚ä»¥ä¸‹æ˜¯ åœ¨ Linux ç¯å¢ƒä¸‹ ç¼–è¯‘ AOSP çš„åŸºæœ¬æŒ‡ä»¤æµç¨‹ï¼Œé€‚ç”¨äºå®˜æ–¹æ”¯æŒçš„è®¾å¤‡æˆ–é€šç”¨ç³»ç»Ÿé•œåƒï¼ˆå¦‚ aosp_arm64-engï¼‰ã€‚\n\nğŸ§° ä¸€ã€å‡†å¤‡å·¥ä½œ1. å®‰è£…ä¾èµ–ç¯å¢ƒï¼ˆUbuntu 20.04&#x2F;22.04 æ¨èï¼‰sudo apt updatesudo apt install git-core gnupg flex bison build-essential zip curl zlib1g-dev \\  gcc-multilib g++-multilib libc6-dev-i386 libncurses5 libxml2-utils xsltproc \\  unzip fontconfig python3 python3-pip repo\n\n\nrepo æ˜¯ Google æä¾›çš„ä¸€ä¸ªç®¡ç†å¤šä¸ª Git ä»“åº“çš„å·¥å…·ã€‚\n\n\nğŸ“ äºŒã€åˆå§‹åŒ–ä»£ç åº“1. åˆ›å»ºå·¥ä½œç›®å½•å¹¶è¿›å…¥mkdir ~/aosp &amp;&amp; cd ~/aosp\n\n2. åˆå§‹åŒ–ä»“åº“ï¼ˆä»¥ AOSP ä¸»åˆ†æ”¯ä¸ºä¾‹ï¼‰repo init -u https://android.googlesource.com/platform/manifest\n\n\nå¦‚æœæƒ³åˆ‡æ¢ç‰¹å®šç‰ˆæœ¬ï¼ˆå¦‚ Android 14 UDC2ï¼‰ï¼š\n\nrepo init -u https://android.googlesource.com/platform/manifest -b android-14.0.0_r21\n\n3. åŒæ­¥ä»£ç repo sync -j8\n\n-j8 è¡¨ç¤ºä½¿ç”¨ 8 ä¸ªçº¿ç¨‹åŒæ­¥ï¼Œå¯æ ¹æ® CPU æ ¸å¿ƒæ•°è°ƒæ•´ã€‚\n\n\nğŸ”§ ä¸‰ã€ç¼–è¯‘ Android ç³»ç»Ÿ1. è®¾ç½®ç¼–è¯‘ç¯å¢ƒsource build/envsetup.sh\n\n2. é€‰æ‹©ç›®æ ‡è®¾å¤‡é…ç½®ï¼ˆlunchï¼‰lunch\nç„¶åä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªç›®æ ‡ï¼ˆä¾‹å¦‚ï¼šaosp_arm64-engï¼‰\nå¸¸è§é€‰é¡¹ï¼š\n\naosp_arm64-engï¼šæ¨¡æ‹Ÿå™¨ï¼ˆeng ç‰ˆæœ¬ï¼‰\naosp_x86_64-engï¼šx86 æ¨¡æ‹Ÿå™¨\npixel6a æˆ–å…¶ä»–è®¾å¤‡ä»£å·ï¼šçœŸå®è®¾å¤‡æ”¯æŒ\n\n3. å¼€å§‹ç¼–è¯‘make -j$(nproc)\n\n-j$(nproc) è‡ªåŠ¨æ ¹æ® CPU æ ¸å¿ƒæ•°è®¾ç½®å¹¶è¡Œç¼–è¯‘ä»»åŠ¡æ•°é‡\n\n\né¦–æ¬¡ç¼–è¯‘å¯èƒ½éœ€è¦æ•°å°æ—¶ï¼Œå…·ä½“å–å†³äºç¡¬ä»¶æ€§èƒ½ã€‚\n\n\nğŸ“± å››ã€è¿è¡Œç¼–è¯‘ç»“æœä½¿ç”¨æ¨¡æ‹Ÿå™¨å¯åŠ¨ç³»ç»Ÿemulator\n\n\nå¦‚æœä½ ç¼–è¯‘çš„æ˜¯çœŸæœºç‰ˆæœ¬ï¼Œéœ€å°†ç”Ÿæˆçš„ image æ–‡ä»¶åˆ·å…¥è®¾å¤‡ï¼ˆä½¿ç”¨ fastboot å·¥å…·ï¼‰ï¼š\n\nfastboot flashall\n\n\nğŸ§ª äº”ã€å¸¸ç”¨å‘½ä»¤è¡¥å……\n\n\nåŠŸèƒ½\nå‘½ä»¤\n\n\n\næ¸…ç†æ‰€æœ‰ç¼–è¯‘ç»“æœ\nmake clean\n\n\nåªæ¸…ç†æŸä¸ªæ¨¡å—\nmmma path/to/module -B\n\n\næ›´æ–°ä»£ç å¹¶é‡æ–°ç¼–è¯‘\nrepo sync &amp;&amp; make -j$(nproc)\n\n\næŸ¥çœ‹ lunch æ”¯æŒçš„è®¾å¤‡åˆ—è¡¨\nlunch åè¾“å…¥ Tab é”®\n\n\næŸ¥çœ‹å½“å‰æ„å»ºä¿¡æ¯\ngettop &amp;&amp; get_build_var TARGET_PRODUCT\n\n\n\nğŸ“ å…­ã€æ³¨æ„äº‹é¡¹\nè‡³å°‘é¢„ç•™ 250GB+ ç£ç›˜ç©ºé—´\næ¨èä½¿ç”¨ SSD\nä½¿ç”¨ Linux ç³»ç»Ÿï¼ˆæ¨è Ubuntuï¼‰\nä¸åŒç‰ˆæœ¬çš„ AOSP å¯¹ JDK ç‰ˆæœ¬æœ‰è¦æ±‚ï¼ˆä¸€èˆ¬ä¸º Java 11ï¼‰\nè‹¥æ˜¯å®šåˆ¶ ROMï¼ˆå¦‚ LineageOSï¼‰ï¼Œéœ€å¯¼å…¥å¯¹åº”è®¾å¤‡æ ‘å’Œ vendor blobs\n\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"Binderæœºåˆ¶","url":"/2019/01/13/%E7%B3%BB%E7%BB%9F/Binder%E6%9C%BA%E5%88%B6/","content":"Binderæœºåˆ¶è¿™æ˜¯ä¸€ä¸ªéå¸¸æ·±å…¥çš„é—®é¢˜ã€‚ç­”æ¡ˆæ˜¯ï¼šåœ¨ç°ä»£ Android æ¶æ„ï¼ˆProject Trebleï¼‰ä¸­ï¼Œå¯¹äºä¾›åº”å•†ï¼ˆVendorï¼‰è¿›ç¨‹æ¥è¯´ï¼Œä½¿ç”¨ vndbinder å‡ ä¹æ˜¯å¼ºåˆ¶æ€§çš„ã€‚\nä»¥ä¸‹æ˜¯åŸå› ä»¥åŠå¦‚æœä¸ä½¿ç”¨å®ƒä¼šé¢ä¸´çš„åæœï¼š\n\n1. ä¸ºä»€ä¹ˆâ€œå¿…é¡»â€ç”¨å®ƒï¼ŸAndroid å°† Binder é€šä¿¡åˆ†æˆäº†ä¸‰ä¸ªç‹¬ç«‹çš„â€œä¸–ç•Œâ€ï¼ˆDomainsï¼‰ï¼Œå®ƒä»¬ç‰©ç†ä¸Šéš”ç¦»ï¼Œä½¿ç”¨ä¸åŒçš„è®¾å¤‡é©±åŠ¨ï¼š\n\n**/dev/binder (Framework åŸŸ)**ï¼šä»…ä¾› System åˆ†åŒºè¿›ç¨‹ï¼ˆå¦‚ ActivityManagerï¼‰ä½¿ç”¨ã€‚\n**/dev/vndbinder (Vendor åŸŸ)**ï¼šä¸“é—¨ä¾› Vendor åˆ†åŒºè¿›ç¨‹ï¼ˆå¦‚ä½ çš„ musicanalyzer å’Œå„ç§ HALï¼‰äº’ç›¸é€šä¿¡ã€‚\n**/dev/hwbinder (Hardware åŸŸ)**ï¼šä¸»è¦ç”¨äºæ—§ç‰ˆçš„ HIDL æ¥å£ã€‚\n\nå¼ºåˆ¶åŸå› ï¼šGoogle çš„ VTS (Vendor Test Suite) æµ‹è¯•æœ‰ä¸€é¡¹ç¡¬æ€§è§„å®šï¼šç¦æ­¢ Vendor è¿›ç¨‹ç›´æ¥è¿æ¥åˆ° /dev/binderã€‚ å¦‚æœä½ å°è¯•è®© musicanalyzer æ³¨å†Œåˆ°ç³»ç»Ÿçš„ servicemanagerï¼ŒSELinux ä¼šæŠ¥å‡ºæå…¶ä¸¥é‡çš„ neverallow å†²çªï¼Œè¿™åœ¨æ­£å¼ç‰ˆæœ¬ä¸­æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ã€‚\n\n2. å¦‚æœä¸ç”¨ vndbinder ä¼šæ€ä¹ˆæ ·ï¼Ÿå¦‚æœä½ æƒ³ç»•è¿‡ vndbinderï¼Œä½ åªæœ‰ä¸¤ç§æ›¿ä»£æ–¹æ¡ˆï¼š\næ–¹æ¡ˆ Aï¼šç›´æ¥é€šè¿‡ Socket æˆ–æ–‡ä»¶è¯»å†™é€šä¿¡\nä¼˜ç‚¹ï¼šä¸éœ€è¦ Binder æƒé™ã€‚\nç¼ºç‚¹ï¼šä½ éœ€è¦è‡ªå·±å¤„ç†å¤šçº¿ç¨‹ã€åºåˆ—åŒ–ã€æ­»é”ç­‰å¤æ‚é—®é¢˜ã€‚è€Œä¸”è¿™ä¸ç¬¦åˆ Android çš„æ ‡å‡†ç»„ä»¶å¼€å‘è§„èŒƒï¼Œç»´æŠ¤æˆæœ¬æé«˜ã€‚\n\næ–¹æ¡ˆ Bï¼šä½¿ç”¨ HIDL (/dev/hwbinder)\nç°çŠ¶ï¼šHIDL å·²ç»è¢« Google åºŸå¼ƒï¼ˆDeprecatedï¼‰ã€‚ä» Android 11 å¼€å§‹ï¼Œæ‰€æœ‰çš„ç¡¬ä»¶æ¥å£éƒ½æ¨èè½¬å‘ Stable AIDLï¼Œè€Œ Stable AIDL åœ¨ Vendor å±‚è¿è¡Œçš„åŸºç¡€æ­£æ˜¯ vndbinderã€‚\n\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"Soong æ„å»ºç³»ç»ŸåŸç†","url":"/2022/08/26/%E7%B3%BB%E7%BB%9F/Soong%20%E6%9E%84%E5%BB%BA%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/","content":"Soong æ„å»ºç³»ç»ŸåŸç†éå¸¸å¥½çš„é—®é¢˜ï¼æˆ‘ä»¬æ¥æ·±å…¥è§£æ AOSP çš„ Soong æ„å»ºç³»ç»Ÿï¼Œå®ƒçš„ç¼–è¯‘åŸç†ã€è®¾è®¡æ€æƒ³ä»¥åŠä¸ä¼ ç»Ÿæ„å»ºç³»ç»Ÿçš„åŒºåˆ«ã€‚\nğŸŒŸ ä¸€å¥è¯æ€»ç»“\nSoong æ˜¯ Google ä¸º AOSP é‡èº«æ‰“é€ çš„ä¸‹ä¸€ä»£æ„å»ºç³»ç»Ÿï¼Œå®ƒä½¿ç”¨ Go è¯­è¨€ç¼–å†™ï¼ŒåŸºäº Ninja æ„å»ºå¼•æ“ï¼Œé€šè¿‡ Android.bp æ–‡ä»¶æè¿°æ¨¡å—ä¾èµ–å’Œæ„å»ºè§„åˆ™ï¼Œç›®æ ‡æ˜¯æ›¿ä»£æ—§çš„ Make ç³»ç»Ÿï¼ˆAndroid.mkï¼‰ï¼Œå®ç°æ›´å¿«ã€æ›´æ¸…æ™°ã€æ›´å¯ç»´æŠ¤çš„ç³»ç»Ÿçº§ç¼–è¯‘ã€‚\n\n\nğŸ”§ Soong çš„æ ¸å¿ƒç»„æˆ\n\n\nç»„ä»¶\nä½œç”¨\n\n\n\nsoong_ui\nç”¨æˆ·æ¥å£ï¼Œæ›¿ä»£ makeï¼Œè°ƒç”¨ soong_build\n\n\nsoong_build (Go)\nSoong çš„æ ¸å¿ƒé€»è¾‘ï¼Œè§£æ Android.bp\n\n\nBlueprint\nSoong çš„åº•å±‚æ¡†æ¶ï¼ˆç”± Google å¼€å‘ï¼‰ï¼Œç”¨äºè§£æ .bp æ–‡ä»¶\n\n\nAndroid.bp\næ„å»ºé…ç½®æ–‡ä»¶ï¼ˆç±»ä¼¼ JSON çš„è¯­æ³•ï¼‰\n\n\nNinja\nå®é™…æ‰§è¡Œç¼–è¯‘å‘½ä»¤çš„åº•å±‚å¼•æ“\n\n\nKati\nå°†æ—§çš„ Android.mk è½¬æˆ Ninja è§„åˆ™ï¼ˆå…¼å®¹å±‚ï¼‰\n\n\n\nğŸ”„ Soong çš„ç¼–è¯‘æµç¨‹ï¼ˆåŸç†è¯¦è§£ï¼‰âœ… é˜¶æ®µ 1ï¼šè§£æé˜¶æ®µï¼ˆParseï¼‰m\n\næ‰§è¡Œæ—¶ï¼Œsoong_ui ä¼šå¯åŠ¨ï¼Œå®ƒåšä»¥ä¸‹äº‹æƒ…ï¼š\n\næ‰«ææ•´ä¸ª AOSP æºç æ ‘ä¸­çš„ Android.bp å’Œ Android.mk æ–‡ä»¶\nå°† Android.bp è§£ææˆå†…éƒ¨çš„æ¨¡å—ç»“æ„ï¼ˆModule Graphï¼‰\nå°† Android.mk é€šè¿‡ kati è½¬æ¢ä¸ºç­‰æ•ˆçš„ Soong æ¨¡å—\nç”Ÿæˆä¸€ä¸ªå·¨å¤§çš„ build.ninja æ–‡ä»¶\n\n\nğŸ” è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºï¼šAndroid.bp + Android.mk â†’ Soong ä¸­é—´è¡¨ç¤º â†’ build.ninja\n\n\nâœ… é˜¶æ®µ 2ï¼šç”Ÿæˆ Ninja æ–‡ä»¶Soong ä¼šç”Ÿæˆå¤šä¸ª Ninja æ–‡ä»¶ï¼š\n\nout/combined_build.ninjaï¼šæ€»å…¥å£\nout/soong/build.ninjaï¼šç”± Soong ç”Ÿæˆçš„è§„åˆ™\nout/kati/Android.*.ninjaï¼šç”± kati ä» Android.mk ç”Ÿæˆçš„è§„åˆ™\n\nè¿™äº› .ninja æ–‡ä»¶å®šä¹‰äº†ï¼š\n\nå“ªäº›æ–‡ä»¶éœ€è¦ç¼–è¯‘\nç¼–è¯‘å‘½ä»¤ï¼ˆå¦‚ clang, aapt2, javacï¼‰\nè¾“å‡ºè·¯å¾„ï¼ˆå¦‚ out/target/product/...ï¼‰\n\n\nâœ… é˜¶æ®µ 3ï¼šæ‰§è¡Œæ„å»ºï¼ˆBuildï¼‰Ninja æ ¹æ® build.ninja æ–‡ä»¶ï¼Œå¹¶è¡Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼š\nninja -f out/combined_build.ninja &lt;target&gt;\n\n\nNinja åªç¼–è¯‘å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶\næ”¯æŒé«˜åº¦å¹¶è¡Œï¼ˆ-j å‚æ•°ï¼‰\nä¾èµ–å…³ç³»ç”± Soong æå‰è®¡ç®—å¥½\n\n\nğŸ“ Soong çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ\n\n\nç‰¹æ€§\nè¯´æ˜\n\n\n\nğŸ§± æ¨¡å—åŒ–ï¼ˆModularï¼‰\næ¯ä¸ªç»„ä»¶ï¼ˆAPKã€åº“ã€å¯æ‰§è¡Œæ–‡ä»¶ï¼‰éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹æ¨¡å—\n\n\nğŸ“„ å£°æ˜å¼é…ç½®ï¼ˆDeclarativeï¼‰\nAndroid.bp æ˜¯çº¯æ•°æ®æ–‡ä»¶ï¼Œä¸åŒ…å«é€»è¾‘\n\n\nâš¡ é«˜æ€§èƒ½è§£æ\nGo ç¼–å†™ï¼Œæ¯” shell è§£æ Makefile å¿«å¾—å¤š\n\n\nğŸ”— ä¾èµ–è‡ªåŠ¨åˆ†æ\nè‡ªåŠ¨è®¡ç®—æ¨¡å—ä¾èµ–å›¾ï¼Œé¿å…å¾ªç¯ä¾èµ–\n\n\nğŸ§© å¯æ‰©å±•æ€§\næ”¯æŒè‡ªå®šä¹‰æ¨¡å—ç±»å‹ï¼ˆå¦‚ android_app, cc_libraryï¼‰\n\n\nğŸ”„ å¢é‡æ„å»º\nç»“åˆ Ninjaï¼Œåªé‡æ–°ç¼–è¯‘å˜åŒ–éƒ¨åˆ†\n\n\n\nğŸ“„ Android.bp vs Android.mk\n\n\nç‰¹æ€§\nAndroid.bp (Soong)\nAndroid.mk (Make)\n\n\n\nè¯­æ³•\nç±» JSONï¼Œå£°æ˜å¼\nMakefileï¼Œå‘½ä»¤å¼\n\n\nå¯è¯»æ€§\nâœ… é«˜ï¼ˆç»“æ„æ¸…æ™°ï¼‰\nâŒ ä½ï¼ˆshell æ··æ‚ï¼‰\n\n\næ‰§è¡Œé€Ÿåº¦\nâœ… å¿«ï¼ˆGo è§£æï¼‰\nâŒ æ…¢ï¼ˆshell è§£æï¼‰\n\n\né€»è¾‘æ§åˆ¶\nâŒ ä¸æ”¯æŒ if&#x2F;for\nâœ… æ”¯æŒ shell è„šæœ¬\n\n\næ¨¡å—ä¾èµ–\nâœ… è‡ªåŠ¨åˆ†æ\nâŒ æ‰‹åŠ¨ç®¡ç†æ˜“å‡ºé”™\n\n\næ‰©å±•æ€§\nâœ… æ”¯æŒ Blueprint è¯­æ³•\nâš ï¸ ä¾èµ– Make å‡½æ•°\n\n\nç¤ºä¾‹å¯¹æ¯”Android.bpandroid_app &#123;    name: &quot;MyApp&quot;,    srcs: [&quot;src/**/*.java&quot;],    manifest: &quot;AndroidManifest.xml&quot;,    certificate: &quot;platform&quot;,&#125;\n\nAndroid.mkLOCAL_PATH := $(call my-dir)include $(CLEAR_VARS)LOCAL_MODULE := MyAppLOCAL_SRC_FILES := $(call all-java-files-under, src)LOCAL_CERTIFICATE := platforminclude $(BUILD_PACKAGE)\n\nğŸ‘‰ Android.bp æ›´ç®€æ´ã€å®‰å…¨ã€æ˜“ç»´æŠ¤ã€‚\n\nğŸ§  Soong çš„â€œç¼–è¯‘åŸç†â€æœ¬è´¨Soong æœ¬èº« ä¸ç›´æ¥ç¼–è¯‘ä»£ç ï¼Œå®ƒæ˜¯ä¸€ä¸ªï¼š\n\næ„å»ºè§„åˆ™ç”Ÿæˆå™¨ï¼ˆBuild Rule Generatorï¼‰\n\nå®ƒçš„åŸç†ç±»ä¼¼äºï¼š\n[Android.bp] â†’ Soong (Go) â†’ [build.ninja] â†’ Ninja â†’ [è°ƒç”¨ clang/aapt2/javac/...] â†’ æœ€ç»ˆäº§ç‰©\n\næ‰€ä»¥ï¼š\n\nSoong è´Ÿè´£ â€œè®¡åˆ’â€ï¼šè°ä¾èµ–è°ï¼Ÿæ€ä¹ˆç¼–è¯‘ï¼Ÿ\nNinja è´Ÿè´£ â€œæ‰§è¡Œâ€ï¼šè¿è¡Œç¼–è¯‘å‘½ä»¤\nç¼–è¯‘å™¨ï¼ˆclangã€javacï¼‰è´Ÿè´£ â€œçœŸæ­£ç¼–è¯‘â€\n\n\nğŸ›  Soong æ”¯æŒçš„æ¨¡å—ç±»å‹ï¼ˆå¸¸è§ï¼‰\n\n\næ¨¡å—ç±»å‹\nç”¨é€”\n\n\n\nandroid_app\nç¼–è¯‘ APKï¼ˆå¸¦èµ„æºï¼‰\n\n\ncc_library\nC&#x2F;C++ é™æ€åº“\n\n\ncc_library_shared\nC&#x2F;C++ åŠ¨æ€åº“ï¼ˆ.soï¼‰\n\n\njava_library\nJava æºç ï¼ˆ.jarï¼‰\n\n\njava_import\nJava åº“ï¼ˆ.jarï¼‰\n\n\nandroid_library\nAndroid Java åº“ï¼ˆå¸¦èµ„æºï¼‰\n\n\nandroid_library_import\nå¯¼å…¥é¢„ç¼–è¯‘çš„ .aar\n\n\nprebuilt_apk\nå¯¼å…¥å·²ç¼–è¯‘çš„ APK\n\n\nfilegroup\næ–‡ä»¶é›†åˆ\n\n\n\nğŸ§ª Soong çš„ä¼˜åŠ¿ï¼ˆä¸ºä»€ä¹ˆ AOSP è¦æ¢å®ƒï¼Ÿï¼‰\n\n\nä¼˜åŠ¿\nè¯´æ˜\n\n\n\nâœ… æ›´å¿«çš„è§£æé€Ÿåº¦\nGo æ¯” shell å¿« 10 å€ä»¥ä¸Š\n\n\nâœ… æ›´å¥½çš„å¹¶è¡Œæ„å»º\nNinja å¤©ç”Ÿæ”¯æŒé«˜åº¦å¹¶è¡Œ\n\n\nâœ… æ›´æ¸…æ™°çš„ä¾èµ–ç®¡ç†\næ¨¡å—åŒ–è®¾è®¡ï¼Œé¿å…â€œMake hellâ€\n\n\nâœ… æ›´å¼ºçš„ç±»å‹æ£€æŸ¥\nAndroid.bp æœ‰ schema éªŒè¯\n\n\nâœ… æ›´å®¹æ˜“è‡ªåŠ¨åŒ–\nJSON-like ç»“æ„ï¼Œé€‚åˆå·¥å…·å¤„ç†\n\n\nâœ… ç»Ÿä¸€æ„å»ºç³»ç»Ÿ\næœªæ¥å®Œå…¨æ›¿ä»£ Makeï¼Œä¸å†æ··åˆ\n\n\n\nğŸš« Soong çš„å±€é™æ€§\n\n\né™åˆ¶\nè¯´æ˜\n\n\n\nâŒ ä¸æ”¯æŒå¤æ‚é€»è¾‘\nä¸èƒ½å†™ if-else æˆ–å¾ªç¯ï¼ˆæœ‰æ„ä¸ºä¹‹ï¼‰\n\n\nâŒ å®å’Œå˜é‡è¾ƒå°‘\nä¸èƒ½åƒ Make é‚£æ ·çµæ´»\n\n\nâŒ è°ƒè¯•å›°éš¾\né”™è¯¯ä¿¡æ¯æœ‰æ—¶ä¸ç›´è§‚\n\n\nâŒ å­¦ä¹ æˆæœ¬\néœ€è¦ç†è§£ Blueprint è¯­æ³•\n\n\n\nğŸ’¡ æ‰€ä»¥ AOSP ä»ç„¶ä¿ç•™ Android.mk å…¼å®¹å±‚ï¼ˆé€šè¿‡ katiï¼‰\n\n\nâœ… æ€»ç»“ï¼šSoong ç¼–è¯‘åŸç†å›¾+------------------+     +------------------+     +------------------+|   Android.bp     |     |   Android.mk     |     |  Prebuilts (.so, .jar) |+------------------+     +------------------+     +------------------+          |                       |                        |          +-----------+-----------+------------------------+                      |          +-----------v-----------+          |      Soong (Go)       | â† è§£ææ‰€æœ‰æ¨¡å—ï¼Œæ„å»ºä¾èµ–å›¾          +-----------+-----------+                      |          +-----------v-----------+          |   Generate build.ninja| â† ç”Ÿæˆ Ninja æ„å»ºè§„åˆ™          +-----------+-----------+                      |          +-----------v-----------+          |       Ninja Engine    | â† å¹¶è¡Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤          +-----------+-----------+                      |          +-----------v-----------+          | clang / aapt2 / javac | â† çœŸæ­£çš„ç¼–è¯‘å·¥å…·          +-----------+-----------+                      |          +-----------v-----------+          |   Out: APK, SO, BIN   |          +-----------------------+\n\n\nğŸ› ï¸ å°æŠ€å·§ï¼šæŸ¥çœ‹ Soong ç”Ÿæˆçš„ Ninja æ–‡ä»¶# æŸ¥çœ‹ç”Ÿæˆçš„ Ninja æ–‡ä»¶cat out/soong/build.ninja | grep &quot;MyApplication&quot;# æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„ç¼–è¯‘å‘½ä»¤ninja -v MyApplication\n\n\nâœ… ä¸€å¥è¯æ”¶å°¾\nSoong æ˜¯ AOSP çš„â€œæ„å»ºå¤§è„‘â€ï¼Œå®ƒç”¨å£°æ˜å¼é…ç½®ç®¡ç†åƒä¸‡è¡Œä»£ç çš„ä¾èµ–å…³ç³»ï¼Œå†äº¤ç»™ Ninja è¿™ä¸ªâ€œæ‰§è¡Œå¼•æ“â€é«˜æ•ˆç¼–è¯‘ï¼Œæœ€ç»ˆæ„å»ºå‡ºå®Œæ•´çš„ Android ç³»ç»Ÿé•œåƒã€‚\n\nå¦‚æœä½ æ˜¯ç³»ç»Ÿå¼€å‘è€…ï¼Œç†è§£ Soong æ˜¯æŒæ¡ AOSP ç¼–è¯‘çš„å…³é”®ï¼\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"åˆ†åŒºå­˜å‚¨è·å–æ–‡ä»¶","url":"/2023/03/24/%E7%B3%BB%E7%BB%9F/%E5%88%86%E5%8C%BA%E5%AD%98%E5%82%A8%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6/","content":"åˆ†åŒºå­˜å‚¨è·å–æ–‡ä»¶ä» Android Jetpack çš„ Activity Result API å¼€å§‹ï¼Œæ¨èä½¿ç”¨ ActivityResultLauncher æ¥å¤„ç†æ´»åŠ¨ç»“æœï¼ˆå¦‚å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨æˆ–æ‹ç…§ç­‰æ“ä½œï¼‰ã€‚ç›¸æ¯”äºä¼ ç»Ÿçš„ startActivityForResult() æ–¹æ³•ï¼ŒActivityResultLauncher æä¾›äº†æ›´ç®€æ´ã€ç°ä»£åŒ–çš„ APIã€‚\nä»¥ä¸‹æ˜¯ä½¿ç”¨ ActivityResultLauncher å’Œ Storage Access Framework (SAF) è·å–æ–‡ä»¶çš„å®Œæ•´ç¤ºä¾‹ä»£ç ï¼š\n1. ä½¿ç”¨ ActivityResultLauncher å¯åŠ¨ SAF æ–‡ä»¶é€‰æ‹©å™¨import android.content.Intent;import android.net.Uri;import android.os.Bundle;import androidx.activity.result.ActivityResultCallback;import androidx.activity.result.ActivityResultLauncher;import androidx.activity.result.contract.ActivityResultContracts;import androidx.appcompat.app.AppCompatActivity;public class MainActivity extends AppCompatActivity &#123;    private ActivityResultLauncher&lt;Intent&gt; filePickerLauncher;    @Override    protected void onCreate(Bundle savedInstanceState) &#123;        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        // åˆå§‹åŒ– ActivityResultLauncher        filePickerLauncher = registerForActivityResult(                new ActivityResultContracts.StartActivityForResult(),                result -&gt; &#123;                    if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null) &#123;                        Uri uri = result.getData().getData();                        if (uri != null) &#123;                            handleSelectedFile(uri);                        &#125;                    &#125;                &#125;);        // æ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨        openFilePicker();    &#125;    private void openFilePicker() &#123;        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);        intent.addCategory(Intent.CATEGORY_OPENABLE);        intent.setType(&quot;*/*&quot;); // æ”¯æŒæ‰€æœ‰æ–‡ä»¶ç±»å‹        filePickerLauncher.launch(intent); // ä½¿ç”¨ ActivityResultLauncher å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨    &#125;    private void handleSelectedFile(Uri fileUri) &#123;        // åœ¨è¿™é‡Œå¤„ç†é€‰ä¸­çš„æ–‡ä»¶        System.out.println(&quot;Selected file URI: &quot; + fileUri.toString());        try &#123;            getContentResolver().openInputStream(fileUri).use(inputStream -&gt; &#123;                if (inputStream != null) &#123;                    byte[] buffer = new byte[inputStream.available()];                    inputStream.read(buffer);                    // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆä»…ç”¨äºè°ƒè¯•ï¼‰                    String content = new String(buffer);                    System.out.println(&quot;File content: &quot; + content);                &#125;            &#125;);        &#125; catch (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;\n\n\n2. å…³é”®ç‚¹è§£æ2.1 æ³¨å†Œ ActivityResultLauncher\nä½¿ç”¨ registerForActivityResult() æ–¹æ³•æ³¨å†Œä¸€ä¸ª ActivityResultLauncherã€‚\nç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ ActivityResultContracts.StartActivityForResult()ï¼Œè¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›æ¥æ”¶ä¸€ä¸ªæ´»åŠ¨ç»“æœã€‚\nç¬¬äºŒä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œå½“ç”¨æˆ·å®Œæˆæ–‡ä»¶é€‰æ‹©åä¼šè§¦å‘è¯¥å›è°ƒã€‚\n\nfilePickerLauncher = registerForActivityResult(        new ActivityResultContracts.StartActivityForResult(),        result -&gt; &#123;            // å¤„ç†è¿”å›çš„æ–‡ä»¶ URI        &#125;);\n\n2.2 å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨\nä½¿ç”¨ filePickerLauncher.launch(intent) å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨ã€‚\nIntent é…ç½®ä¸ä¼ ç»Ÿçš„ SAF æ–‡ä»¶é€‰æ‹©å™¨ç›¸åŒï¼Œä¾‹å¦‚è®¾ç½® MIME ç±»å‹å’Œå¯æ‰“å¼€ç±»åˆ«ã€‚\n\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);intent.addCategory(Intent.CATEGORY_OPENABLE);intent.setType(&quot;*/*&quot;);filePickerLauncher.launch(intent);\n\n2.3 å¤„ç†æ–‡ä»¶å†…å®¹\né€šè¿‡ ContentResolver.openInputStream() æ‰“å¼€æ–‡ä»¶è¾“å…¥æµå¹¶è¯»å–å†…å®¹ã€‚\nå¦‚æœéœ€è¦è§£å‹ .tar æˆ–å…¶ä»–æ ¼å¼çš„æ–‡ä»¶ï¼Œå¯ä»¥ç»“åˆç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Apache Commons Compressï¼‰è¿›è¡Œå¤„ç†ã€‚\n\n\n3. è¿è¡Œæ•ˆæœ\nç”¨æˆ·ç‚¹å‡»æŒ‰é’®æˆ–è§¦å‘é€»è¾‘ï¼Œå¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨ã€‚\nç”¨æˆ·ä»è®¾å¤‡ä¸­é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ã€‚\nåº”ç”¨é€šè¿‡ ActivityResultLauncher è·å–åˆ°æ–‡ä»¶çš„ Uriï¼Œå¹¶é€šè¿‡è¾“å…¥æµè¯»å–å…¶å†…å®¹ã€‚\n\n\n4. ä¼˜åŠ¿\nç°ä»£ APIï¼šActivityResultLauncher æ˜¯ Jetpack æä¾›çš„ç°ä»£åŒ– APIï¼Œé¿å…äº†ä¼ ç»Ÿ startActivityForResult() çš„å¤æ‚æ€§ã€‚\nç”Ÿå‘½å‘¨æœŸå®‰å…¨ï¼šActivityResultLauncher è‡ªåŠ¨ç»‘å®šåˆ° Activity æˆ– Fragment çš„ç”Ÿå‘½å‘¨æœŸï¼Œå‡å°‘äº†å†…å­˜æ³„æ¼çš„é£é™©ã€‚\nç®€æ´æ˜“è¯»ï¼šä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤ã€‚\n\n\n5. æ³¨æ„äº‹é¡¹\nMIME ç±»å‹ï¼šæ ¹æ®éœ€æ±‚è®¾ç½®åˆé€‚çš„ MIME ç±»å‹ã€‚å¦‚æœä¸ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ */*ã€‚\næŒä¹…åŒ–æƒé™ï¼šå¦‚æœéœ€è¦é•¿æœŸè®¿é—®ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ takePersistableUriPermission() è¯·æ±‚æŒä¹…åŒ–æƒé™ã€‚\n\nif (fileUri != null) &#123;    final int takeFlags = Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION;    getContentResolver().takePersistableUriPermission(fileUri, takeFlags);&#125;\n\n\nå¤§æ–‡ä»¶å¤„ç†ï¼šå¯¹äºè¾ƒå¤§çš„æ–‡ä»¶ï¼Œå»ºè®®åˆ†å—è¯»å–æˆ–ç›´æ¥å†™å…¥æœ¬åœ°å­˜å‚¨ä»¥é¿å…å†…å­˜æº¢å‡ºã€‚\n\n\n6. æ€»ç»“ä½¿ç”¨ ActivityResultLauncher å’Œ SAF çš„ç»„åˆæ˜¯ç°ä»£ Android å¼€å‘ä¸­æ¨èçš„æ–¹å¼ï¼Œæ—¢ç¬¦åˆåˆ†åŒºå­˜å‚¨çš„è¦æ±‚ï¼Œåˆç®€åŒ–äº†ä»£ç é€»è¾‘ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥è½»æ¾å®ç°å¯¹ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶çš„è®¿é—®å’Œå¤„ç†ï¼Œè€Œæ— éœ€åŠ¨æ€ç”³è¯·ä¼ ç»Ÿå­˜å‚¨æƒé™ï¼ˆå¦‚ READ_EXTERNAL_STORAGEï¼‰ã€‚\næ˜¯çš„ï¼ŒStorage Access Framework (SAF) çš„å·¥ä½œåŸç†ç¡®å®ä¾èµ–äº Content Providerã€‚SAF æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è®¿é—®è®¾å¤‡ä¸Šçš„æ–‡ä»¶å’Œå…¶ä»–æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®é€šå¸¸æ˜¯é€šè¿‡ ContentProvider æ¥æä¾›çš„ã€‚\nSAF å’Œ Content Provider\nContent Provider æ¦‚è¿°\n\nåœ¨ Android ä¸­ï¼ŒContentProvider æ˜¯ä¸€ç§ç”¨äºåœ¨ä¸åŒåº”ç”¨ä¹‹é—´å…±äº«æ•°æ®çš„æ ‡å‡†æ¥å£ã€‚å®ƒå°è£…äº†æ•°æ®å­˜å‚¨ã€æ£€ç´¢å’Œæ›´æ–°çš„æ“ä½œï¼Œå¹¶æä¾›äº†ç»Ÿä¸€çš„æ¥å£æ¥è®¿é—®è¿™äº›æ•°æ®ã€‚\nä¾‹å¦‚ï¼ŒMediaStore API å°±æ˜¯åŸºäº ContentProvider å®ç°çš„ï¼Œå…è®¸åº”ç”¨æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤åª’ä½“æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰ã€‚\n\n\nSAF å¦‚ä½•ä½¿ç”¨ Content Provider\n\nå½“ä½ ä½¿ç”¨ SAF å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨ï¼ˆå¦‚ Intent.ACTION_OPEN_DOCUMENT æˆ– Intent.ACTION_CREATE_DOCUMENTï¼‰ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¯·æ±‚è®¿é—®ç”±å…¶ä»–åº”ç”¨ï¼ˆå¦‚æ–‡ä»¶ç®¡ç†å™¨æˆ–å…¶ä»–å­˜å‚¨æœåŠ¡ï¼‰æä¾›çš„å†…å®¹ã€‚\nè¿™äº›å†…å®¹é€šå¸¸æ˜¯ç”±ç‰¹å®šçš„ ContentProvider æä¾›çš„ã€‚ä¸€æ—¦ç”¨æˆ·é€‰æ‹©äº†æŸä¸ªæ–‡ä»¶ï¼ŒAndroid ç³»ç»Ÿä¼šè¿”å›ä¸€ä¸ª Uriï¼Œè¯¥ Uri å¯ä»¥ç”¨æ¥é€šè¿‡ ContentResolver è®¿é—®æ‰€é€‰æ–‡ä»¶çš„å†…å®¹ã€‚\nContentResolver æ˜¯ Android æä¾›çš„ä¸€ä¸ªç±»ï¼Œå…è®¸ä½ ä¸ä»»ä½•å®ç°äº† ContentProvider æ¥å£çš„æ•°æ®æºè¿›è¡Œäº¤äº’ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ‰§è¡Œå„ç§æ“ä½œï¼Œæ¯”å¦‚æ‰“å¼€è¾“å…¥&#x2F;è¾“å‡ºæµã€æŸ¥è¯¢å…ƒæ•°æ®ç­‰ã€‚\n\n\n\nå…·ä½“æµç¨‹å½“ä½ ä½¿ç”¨ SAF è·å–æ–‡ä»¶æ—¶ï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š\n\nå¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨\n\nä½¿ç”¨ Intent.ACTION_OPEN_DOCUMENT æˆ–ç±»ä¼¼çš„æ„å›¾å¯åŠ¨æ–‡ä»¶é€‰æ‹©å™¨ã€‚Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);intent.addCategory(Intent.CATEGORY_OPENABLE);intent.setType(&quot;application/pdf&quot;); // ç¤ºä¾‹ï¼šåªæ˜¾ç¤º PDF æ–‡ä»¶startActivityForResult(intent, REQUEST_CODE); // ä½¿ç”¨ ActivityResultLauncher æ›´æ¨è\n\n\nè·å– Uri\n\nç”¨æˆ·ä»æ–‡ä»¶é€‰æ‹©å™¨ä¸­é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶åï¼Œç³»ç»Ÿä¼šè¿”å›ä¸€ä¸ª Uriï¼Œè¿™ä¸ª Uri æŒ‡å‘æ‰€é€‰æ–‡ä»¶çš„ä½ç½®ã€‚@Overridepublic void onActivityResult(int requestCode, int resultCode, Intent data) &#123;    super.onActivityResult(requestCode, resultCode, data);    if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) &#123;        if (data != null) &#123;            Uri uri = data.getData();            handleDocument(uri);        &#125;    &#125;&#125;\n\n\né€šè¿‡ ContentResolver è®¿é—®æ–‡ä»¶\n\nä½¿ç”¨ ContentResolver æ‰“å¼€æ–‡ä»¶è¾“å…¥æµå¹¶è¯»å–æ–‡ä»¶å†…å®¹ã€‚private void handleDocument(Uri uri) &#123;    try &#123;        InputStream inputStream = getContentResolver().openInputStream(uri);        // å¤„ç†è¾“å…¥æµ...    &#125; catch (IOException e) &#123;        e.printStackTrace();    &#125;&#125;\n\n\n\nåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œuri å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘ç‰¹å®š ContentProvider çš„æ ‡è¯†ç¬¦ï¼Œè¯¥ ContentProvider è´Ÿè´£æä¾›å¯¹æ‰€é€‰æ–‡ä»¶çš„å®é™…è®¿é—®ã€‚è¿™ä½¿å¾— SAF æˆä¸ºä¸€ç§éå¸¸çµæ´»ä¸”å®‰å…¨çš„æ–¹å¼ï¼Œå› ä¸ºå®ƒå…è®¸åº”ç”¨ä»…è®¿é—®ç”¨æˆ·æ˜ç¡®é€‰æ‹©çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¿é—®æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚\næ€»ç»“\nSAF åˆ©ç”¨äº† ContentProvider æ¥å®ç°æ–‡ä»¶çš„é€‰æ‹©å’Œè®¿é—®ã€‚\nå®ƒé€šè¿‡è¿”å›ä¸€ä¸ª Uri ç»™è°ƒç”¨æ–¹ï¼Œå…è®¸è°ƒç”¨æ–¹é€šè¿‡ ContentResolver ä¸æä¾›è¯¥ Uri çš„ ContentProvider è¿›è¡Œäº¤äº’ï¼Œä»è€Œå®ç°å¯¹é€‰å®šæ–‡ä»¶çš„è¯»å–ã€å†™å…¥ç­‰æ“ä½œã€‚\nè¿™ç§æœºåˆ¶ä¸ä»…æé«˜äº†å®‰å…¨æ€§ï¼Œè¿˜ç®€åŒ–äº†è·¨åº”ç”¨çš„æ•°æ®å…±äº«ï¼ŒåŒæ—¶ç¬¦åˆ Android åˆ†åŒºå­˜å‚¨çš„è¦æ±‚ã€‚\n\n","categories":["ç³»ç»Ÿ"],"tags":["ç»éªŒ"]},{"title":"å¼€å‘æ–¹å‘ä¹‹Frameworkå±‚","url":"/2023/06/04/%E7%B3%BB%E7%BB%9F/%E5%BC%80%E5%8F%91%E6%96%B9%E5%90%91%E4%B9%8BFramework%E5%B1%82/","content":"å¼€å‘æ–¹å‘ä¹‹Frameworkå±‚Frameworkå±‚å¼€å‘æ˜¯Androidç³»ç»Ÿå¼€å‘ä¸­çš„ä¸€ä¸ªå…³é”®é¢†åŸŸï¼Œå®ƒæ¶‰åŠåˆ°å¯¹Androidæ¡†æ¶çš„ç†è§£å’Œå®šåˆ¶åŒ–ä¿®æ”¹ã€‚è¿™ä¸ªå±‚æ¬¡çš„å¼€å‘é€šå¸¸éœ€è¦å¼€å‘è€…å…·å¤‡æ·±åšçš„JavaçŸ¥è¯†ä»¥åŠå¯¹æ•´ä¸ªAndroidç³»ç»Ÿæ¶æ„æœ‰å…¨é¢çš„ç†è§£ã€‚ä»¥ä¸‹æ˜¯å…³äºFrameworkå±‚å¼€å‘çš„ä¸€äº›å…·ä½“ä»‹ç»ï¼š\nAndroid Frameworkæ¦‚è¿°Android Frameworkæ˜¯ä½äºLinuxå†…æ ¸ä¹‹ä¸Šçš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå®ƒä¸ºåº”ç”¨ç¨‹åºæä¾›äº†å„ç§æœåŠ¡å’ŒAPIã€‚è¿™äº›æœåŠ¡å’ŒAPIä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿæ„å»ºä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢ã€å¤„ç†æ•°æ®ã€ç®¡ç†èµ„æºç­‰ã€‚Frameworkçš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬Activity Manager Service (AMS)ã€Window Manager Service (WMS)ã€Content Providersã€View Systemç­‰ã€‚\nä¸»è¦å…³æ³¨ç‚¹\næ ¸å¿ƒæœåŠ¡ï¼šç†è§£å¹¶èƒ½ä¿®æ”¹AMSã€WMSç­‰æ ¸å¿ƒæœåŠ¡çš„å·¥ä½œæœºåˆ¶å¯¹äºFrameworkå±‚å¼€å‘è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼ŒAMSè´Ÿè´£ç®¡ç†åº”ç”¨è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€ŒWMSåˆ™è´Ÿè´£ç®¡ç†å±å¹•ä¸Šçš„çª—å£ã€‚\n\nIPCï¼ˆInter-Process Communicationï¼‰æœºåˆ¶ï¼šAndroidä½¿ç”¨Binderä½œä¸ºä¸»è¦çš„IPCæœºåˆ¶ã€‚äº†è§£å¦‚ä½•é€šè¿‡AIDLå®šä¹‰æ¥å£è¿›è¡Œè·¨è¿›ç¨‹é€šä¿¡æ˜¯Frameworkå±‚å¼€å‘çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚\n\nHandleræ¶ˆæ¯æœºåˆ¶ï¼šç”¨äºåœ¨ä¸åŒçº¿ç¨‹é—´ä¼ é€’æ¶ˆæ¯ï¼Œç¡®ä¿UIæ“ä½œå‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œè€ŒéUIæ“ä½œå¯ä»¥åœ¨åå°çº¿ç¨‹æ‰§è¡Œã€‚\n\nè‡ªå®šä¹‰Viewå’ŒåŠ¨ç”»ï¼šè™½ç„¶è¿™éƒ¨åˆ†æ›´å¤šåœ°ä¸åº”ç”¨å¼€å‘ç›¸å…³ï¼Œä½†æ·±å…¥ç†è§£Viewç»˜åˆ¶æµç¨‹ã€äº‹ä»¶åˆ†å‘æœºåˆ¶ç­‰å¯¹äºä¼˜åŒ–ç”¨æˆ·ä½“éªŒéå¸¸é‡è¦ã€‚\n\n\nå¼€å‘æŠ€èƒ½è¦æ±‚\næºç åˆ†æèƒ½åŠ›ï¼šéœ€è¦æœ‰èƒ½åŠ›é˜…è¯»å¹¶ç†è§£Androidå¼€æºé¡¹ç›®çš„æºä»£ç ï¼Œç‰¹åˆ«æ˜¯&#x2F;frameworks&#x2F;baseç›®å½•ä¸‹çš„å†…å®¹ã€‚\n\nè°ƒè¯•æŠ€å·§ï¼šæŒæ¡ä½¿ç”¨ADBå·¥å…·ã€Logcatæ—¥å¿—è¾“å‡ºã€GDBè°ƒè¯•ç­‰æŠ€æœ¯æ¥è¯Šæ–­å’Œè§£å†³è¿è¡Œæ—¶é—®é¢˜ã€‚\n\nç³»ç»Ÿå®šåˆ¶åŒ–ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦å¯¹Frameworkè¿›è¡Œå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œæ¯”å¦‚æ·»åŠ æ–°çš„ç³»ç»ŸæœåŠ¡æˆ–ä¿®æ”¹ç°æœ‰çš„æœåŠ¡è¡Œä¸ºã€‚\n\n\nå®è·µæ¡ˆä¾‹\nåŠŸèƒ½æ‰©å±•ï¼šå¦‚å¢åŠ æ–°çš„ç³»ç»Ÿçº§åŠŸèƒ½ï¼Œè¿™å¯èƒ½æ¶‰åŠä¿®æ”¹æˆ–æ–°å¢Frameworkä¸­çš„æœåŠ¡ã€‚\n\næ€§èƒ½ä¼˜åŒ–ï¼šé€šè¿‡å¯¹Frameworkå±‚çš„ä¼˜åŒ–æ¥æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œæ¯”å¦‚å‡å°‘å†…å­˜å ç”¨ã€åŠ å¿«å¯åŠ¨é€Ÿåº¦ç­‰ã€‚\n\né”™è¯¯ä¿®å¤ï¼šå®šä½å¹¶ä¿®å¤Frameworkå±‚çš„bugï¼Œä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚\n\n\nFrameworkå±‚å¼€å‘æ˜¯ä¸€ä¸ªå¤æ‚ä¸”æ·±åº¦çš„è¿‡ç¨‹ï¼Œå®ƒä¸ä»…è¦æ±‚å¼€å‘è€…æ‹¥æœ‰æ‰å®çš„æŠ€æœ¯åŸºç¡€ï¼Œè¿˜éœ€è¦ä»–ä»¬å¯¹æ•´ä¸ªAndroidç”Ÿæ€ç³»ç»Ÿæœ‰æ·±åˆ»çš„è®¤è¯†ã€‚é€šè¿‡ä¸æ–­åœ°å­¦ä¹ å’Œå®è·µï¼Œå¼€å‘è€…å¯ä»¥åœ¨è¿™ä¸ªé¢†åŸŸä¸­ä¸æ–­æˆé•¿ï¼Œä¸ºåˆ›å»ºæ›´åŠ ä¼˜ç§€çš„äº§å“è´¡çŒ®åŠ›é‡ã€‚\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"å¼€å‘æ–¹å‘ä¹‹éŸ³è§†é¢‘","url":"/2025/06/04/%E7%B3%BB%E7%BB%9F/%E5%BC%80%E5%8F%91%E6%96%B9%E5%90%91%E4%B9%8B%E9%9F%B3%E8%A7%86%E9%A2%91/","content":"å¼€å‘æ–¹å‘ä¹‹éŸ³è§†é¢‘éŸ³è§†é¢‘å¼€å‘åœ¨Androidå¹³å°ä¸Šæ˜¯ä¸€ä¸ªå¤æ‚çš„é¢†åŸŸï¼Œæ¶‰åŠåˆ°å¤šåª’ä½“æ•°æ®çš„å¤„ç†ã€ä¼ è¾“å’Œæ’­æ”¾ç­‰å¤šä¸ªæ–¹é¢ã€‚ä»¥ä¸‹æ˜¯é’ˆå¯¹éŸ³è§†é¢‘å¼€å‘æ›´è¯¦ç»†çš„ä»‹ç»ï¼ŒåŒ…æ‹¬å…³é”®ç»„ä»¶ã€å¸¸ç”¨æ¡†æ¶ä¸åº“ä»¥åŠä¸€äº›å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚\nå…³é”®ç»„ä»¶\nMediaCodecï¼š\n\nMediaCodec APIå…è®¸å¼€å‘è€…è®¿é—®Androidè®¾å¤‡ä¸Šçš„ç¡¬ä»¶åŠ é€Ÿç¼–è§£ç å™¨ã€‚å®ƒæ”¯æŒéŸ³é¢‘å’Œè§†é¢‘çš„ç¼–ç å’Œè§£ç ã€‚\nå¼€å‘è€…å¯ä»¥ä½¿ç”¨æ­¤APIæ¥åˆ›å»ºé«˜æ•ˆçš„åª’ä½“åº”ç”¨ï¼Œå¦‚è§†é¢‘ç¼–è¾‘å™¨æˆ–å®æ—¶è§†é¢‘é€šè¯åº”ç”¨ã€‚\n\n\nMediaExtractorï¼š\n\nMediaExtractorç”¨äºä»åª’ä½“æ–‡ä»¶ä¸­æå–è½¨é“ï¼ˆéŸ³é¢‘æˆ–è§†é¢‘ï¼‰ã€‚å®ƒå¯ä»¥è§£æå¤šç§æ ¼å¼ï¼Œå¹¶æä¾›å¯¹åª’ä½“æ•°æ®çš„ç›´æ¥è®¿é—®ã€‚\né€‚ç”¨äºéœ€è¦å¯¹åª’ä½“å†…å®¹è¿›è¡Œåˆ†ææˆ–è½¬æ¢çš„åº”ç”¨åœºæ™¯ã€‚\n\n\nMediaPlayerï¼š\n\nMediaPlayeræä¾›äº†æ’­æ”¾æœ¬åœ°æˆ–ç½‘ç»œä¸Šçš„éŸ³é¢‘å’Œè§†é¢‘çš„åŸºæœ¬åŠŸèƒ½ã€‚å®ƒæ˜¯Androidä¸­æœ€ç®€å•çš„æ’­æ”¾æ§åˆ¶æ–¹æ³•ã€‚\nå¯¹äºå¤§å¤šæ•°åŸºæœ¬çš„æ’­æ”¾éœ€æ±‚ï¼ŒMediaPlayerå·²ç»è¶³å¤Ÿä½¿ç”¨ã€‚\n\n\nAudioTrack&#x2F;AudioRecordï¼š\n\nAudioTrackç”¨äºæ’­æ”¾PCMæ ¼å¼çš„éŸ³é¢‘æ•°æ®ï¼Œè€ŒAudioRecordç”¨äºå½•åˆ¶PCMæ ¼å¼çš„éŸ³é¢‘æ•°æ®ã€‚\nè¿™äº›APIæä¾›äº†åº•å±‚è®¿é—®æƒé™ï¼Œé€‚åˆéœ€è¦ç²¾ç¡®æ§åˆ¶éŸ³é¢‘æµçš„åº”ç”¨ã€‚\n\n\nCamera2 APIï¼š\n\nCamera2 APIæ˜¯ç”¨äºæ›¿ä»£æ—§ç‰ˆCamera APIçš„æ–°ä¸€ä»£APIï¼Œæä¾›äº†æ›´å¼ºå¤§çš„ç›¸æœºæ§åˆ¶èƒ½åŠ›ï¼ŒåŒ…æ‹¬è§†é¢‘æ•æ‰åŠŸèƒ½ã€‚\nå®ƒå…è®¸å¼€å‘è€…ç²¾ç»†è°ƒæ•´æ‘„åƒå¤´å‚æ•°ï¼Œä»¥è·å¾—æœ€ä½³çš„è§†é¢‘è´¨é‡ã€‚\n\n\nOpenGL ES å’Œ MediaCodec ç»“åˆï¼š\n\nåœ¨é«˜æ€§èƒ½åº”ç”¨åœºæ™¯ä¸­ï¼Œæ¯”å¦‚ç›´æ’­åº”ç”¨æˆ–è§†é¢‘ç¼–è¾‘è½¯ä»¶ï¼Œé€šå¸¸éœ€è¦ç»“åˆOpenGL ESæ¸²æŸ“è§†é¢‘å¸§ï¼Œå¹¶åˆ©ç”¨MediaCodecè¿›è¡Œé«˜æ•ˆç¼–è§£ç ã€‚\n\n\n\nå¸¸ç”¨æ¡†æ¶ä¸åº“\nExoPlayerï¼š\n\nExoPlayeræ˜¯ä¸€ä¸ªå¼€æºçš„åª’ä½“æ’­æ”¾å™¨åº“ï¼Œç”±Googleç»´æŠ¤ã€‚ç›¸æ¯”MediaPlayerï¼Œå®ƒæä¾›äº†æ›´å¤šçš„è‡ªå®šä¹‰é€‰é¡¹å’Œé«˜çº§åŠŸèƒ½ï¼Œå¦‚DASHå’ŒHLSæ”¯æŒã€å­—å¹•ç­‰ã€‚\n\n\nFFmpegï¼š\n\nFFmpegæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºè®°å½•ã€è½¬æ¢å’Œæµå¼ä¼ è¾“éŸ³è§†é¢‘ã€‚è™½ç„¶ä¸æ˜¯ä¸“é—¨ä¸ºAndroidè®¾è®¡ï¼Œä½†é€šè¿‡JNIå¯ä»¥åœ¨Androidé¡¹ç›®ä¸­é›†æˆFFmpegï¼Œå®ç°å¤æ‚éŸ³è§†é¢‘å¤„ç†ä»»åŠ¡ã€‚\n\n\nWebRTCï¼š\n\nWebRTCæ˜¯ä¸€ç»„æ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶é€šä¿¡çš„æŠ€æœ¯é›†åˆï¼Œéå¸¸é€‚åˆå¼€å‘å…·æœ‰å®æ—¶éŸ³è§†é¢‘é€šè¯åŠŸèƒ½çš„åº”ç”¨ç¨‹åºã€‚\n\n\n\nå®ç°ç»†èŠ‚ä¸ºäº†æœ‰æ•ˆåœ°è¿›è¡ŒéŸ³è§†é¢‘å¼€å‘ï¼Œå¼€å‘è€…éœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š\n\nç¼–è§£ç æŠ€æœ¯ï¼šç†è§£ä¸åŒçš„éŸ³é¢‘å’Œè§†é¢‘ç¼–è§£ç å™¨ï¼ˆå¦‚AAC, H.264ï¼‰çš„å·¥ä½œåŸç†ï¼Œä»¥ä¾¿é€‰æ‹©åˆé€‚çš„ç¼–è§£ç å™¨å¹¶ä¼˜åŒ–æ€§èƒ½ã€‚\nç½‘ç»œé€‚åº”æ€§ï¼šå¯¹äºåœ¨çº¿éŸ³è§†é¢‘æµï¼Œå¦‚ä½•æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´æ¯”ç‰¹ç‡ï¼ˆAdaptive Bitrate Streamingï¼‰è‡³å…³é‡è¦ã€‚\nåŒæ­¥é—®é¢˜ï¼šç¡®ä¿éŸ³é¢‘å’Œè§†é¢‘æµä¹‹é—´çš„åŒæ­¥æ’­æ”¾æ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼Œå°¤å…¶æ˜¯åœ¨å®æ—¶é€šè®¯åº”ç”¨ä¸­æ›´ä¸ºæ˜æ˜¾ã€‚\n\næŒ‘æˆ˜ä¸è¶‹åŠ¿éšç€5Gç½‘ç»œçš„å‘å±•ï¼Œä½å»¶è¿Ÿå’Œé«˜å¸¦å®½ä¸ºéŸ³è§†é¢‘å¼€å‘å¸¦æ¥äº†æ–°çš„æœºé‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¢å¼ºç°å®(AR)ã€è™šæ‹Ÿç°å®(VR)ä»¥åŠå®æ—¶äº’åŠ¨ç­‰é¢†åŸŸã€‚åŒæ—¶ï¼Œå¦‚ä½•ä¿è¯åœ¨å„ç§ä¸åŒè®¾å¤‡ä¸Šçš„ä¸€è‡´ä½“éªŒä»ç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚æŒç»­å…³æ³¨æœ€æ–°æŠ€æœ¯å’Œæ ‡å‡†çš„å‘å±•ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°åº”å¯¹è¿™äº›æŒ‘æˆ˜å¹¶æŠ“ä½æ–°æœºä¼šã€‚\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"ç³»ç»ŸæœåŠ¡çš„å®ç°æ–¹å¼","url":"/2023/09/29/%E7%B3%BB%E7%BB%9F/%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/","content":"ç³»ç»ŸæœåŠ¡çš„å®ç°æ–¹å¼\n\n\næ–¹å¼\nå®ç°è¯­è¨€\nå¯åŠ¨æ–¹å¼\nè°ƒç”¨æ–¹\né€‚ç”¨åœºæ™¯\n\n\n\n1. Java ç³»ç»ŸæœåŠ¡\nJava\nSystemServer å¯åŠ¨\nJava ç³»ç»Ÿ Appã€SystemUIã€Settings\né€»è¾‘ç®€å•ï¼Œéœ€ä¸ AMS&#x2F;PMS äº¤äº’\n\n\n2. Native AIDL æœåŠ¡\nC++\ninit å¯åŠ¨ï¼ˆ.rcï¼‰\nC++ï¼ˆå¦‚ frameworks/avï¼‰ã€Javaï¼ˆé€šè¿‡ Binderï¼‰\né«˜æ€§èƒ½ã€C++ å®ç°ã€è·¨è¯­è¨€è°ƒç”¨ âœ…\n\n\n3. ä¼ ç»Ÿ Native Binder æœåŠ¡\nC++\ninit å¯åŠ¨\nC++\nè€é¡¹ç›®ã€ä¸ä¾èµ– AIDL\n\n\n4. HIDL &#x2F; AIDL (vendor)\nC++&#x2F;Java\nhwservicemanager\nvendor HALã€system&#x2F;vendor\nä¸»è¦ç”¨äº HAL å±‚ï¼Œä¸æ¨èç”¨äº system å†…éƒ¨æœåŠ¡\n\n\n5. Socket &#x2F; HAL &#x2F; å…±äº«å†…å­˜\nC&#x2F;C++\nè‡ªå®šä¹‰\nä»…é™æœ¬åœ°è¿›ç¨‹\nä½å»¶è¿Ÿã€æ—  Binder å¼€é”€ï¼Œä½†ä¸æ˜¯æ ‡å‡†ç³»ç»ŸæœåŠ¡\n\n\nâœ… äºŒã€é’ˆå¯¹ä½ çš„åœºæ™¯ï¼šå“ªç§æœ€åˆé€‚ï¼Ÿä½ çš„æƒ…å†µï¼š\n\næœåŠ¡é€»è¾‘ç”¨ C++ å®ç°ï¼›\nè°ƒç”¨æ–¹æ˜¯ frameworks/av ä¸‹çš„ audio effect æ’ä»¶ï¼ˆC++ï¼‰ï¼›\nç›®æ ‡å¹³å°ï¼šAndroid 14 + RK3576ï¼ˆLubanmaoï¼‰ï¼›\nå¸Œæœ›æœåŠ¡æ˜¯ æ ‡å‡†ç³»ç»ŸæœåŠ¡ï¼ˆå¯é€šè¿‡ service list æŸ¥çœ‹ï¼‰ã€‚\n\nâœ… æœ€ä½³é€‰æ‹©ï¼šNative AIDL æœåŠ¡ï¼ˆæ–¹å¼ 2ï¼‰\nç†ç”±ï¼š\n\nå®˜æ–¹æ¨èï¼ˆAndroid 11+ï¼‰ï¼›\nè‡ªåŠ¨ç”Ÿæˆç±»å‹å®‰å…¨çš„ C++ å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯ä»£ç ï¼›\næ”¯æŒè¢« Java å’Œ C++ åŒæ—¶è°ƒç”¨ï¼›\næœåŠ¡æ³¨å†Œåˆ° ServiceManagerï¼Œç¬¦åˆç³»ç»Ÿè§„èŒƒï¼›\nè°ƒè¯•æ–¹ä¾¿ï¼ˆservice list å¯è§ï¼‰ã€‚\n\n\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"æ„å»ºjni_libs","url":"/2023/09/16/%E7%B3%BB%E7%BB%9F/%E6%9E%84%E5%BB%BAjni_libs/","content":"æ„å»ºjni_libs\nç³»ç»Ÿ App æœ¬æ¥å°±ä¸è¯¥ç”¨ SDK æ¨¡å¼ â€”â€” SDK æ¨¡å¼æ˜¯ç»™ç¬¬ä¸‰æ–¹ App æˆ– SDK åº“ç”¨çš„ã€‚\n\n\n\n\næ¨¡å¼\nç‰¹ç‚¹\nå¯è§æ¨¡å—\n\n\n\nå¹³å°æ¨¡å¼ï¼ˆæ—  sdk_versionï¼‰\nç”¨äºæ„å»ºç³»ç»Ÿé•œåƒã€ç³»ç»Ÿ App\nå¯è§æ‰€æœ‰æ¨¡å—ï¼ŒåŒ…æ‹¬ â€œlibc++_sharedâ€\n\n\nSDK æ¨¡å¼ï¼ˆæœ‰ sdk_versionï¼‰\nç”¨äºæ„å»ºé¢å‘ç¬¬ä¸‰æ–¹ App çš„åº“\nåªèƒ½ä¾èµ– NDK&#x2F;SDK å…¬å…±æ¨¡å—ï¼Œå¦‚ â€œndk_libc++_sharedâ€\n\n\n","categories":["ç³»ç»Ÿ"],"tags":["ç³»ç»Ÿ"]},{"title":"Androidè‡ªå­¦è·¯çº¿","url":"/2017/08/14/%E6%97%A5%E5%B8%B8/Android%E8%87%AA%E5%AD%A6%E8%B7%AF%E7%BA%BF/","content":"å‰è¨€å¾ˆå¤šåˆå­¦è€…é¢å¯¹ Android å¼€å‘æ„Ÿåˆ°è¿·èŒ«ï¼Œä¸çŸ¥é“ä»ä½•å…¥æ‰‹ã€‚æœ¬æ–‡æä¾›ä¸€æ¡æ¸…æ™°çš„è‡ªå­¦è·¯å¾„ï¼Œå¸®åŠ©ä½ ç³»ç»ŸæŒæ¡ Android å¼€å‘æŠ€èƒ½ã€‚\nç¬¬ä¸€é˜¶æ®µï¼šJava åŸºç¡€\né¢å‘å¯¹è±¡ï¼ˆç±»ã€å¯¹è±¡ã€ç»§æ‰¿ã€å¤šæ€ï¼‰\nå¼‚å¸¸å¤„ç†\né›†åˆæ¡†æ¶ï¼ˆListã€Mapã€Setï¼‰\nå¤šçº¿ç¨‹åŸºç¡€\nIO æµ\n\n\næ¨èä¹¦ç±ï¼šã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·Iã€‹\n\nç¬¬äºŒé˜¶æ®µï¼šAndroid åŸºç¡€ç»„ä»¶\nActivity ç”Ÿå‘½å‘¨æœŸ\nIntent ä¸é¡µé¢è·³è½¬\nå¸ƒå±€ï¼ˆLinearLayoutã€RelativeLayoutã€ConstraintLayoutï¼‰\nå¸¸ç”¨æ§ä»¶ï¼ˆTextViewã€Buttonã€EditTextã€ListViewã€RecyclerViewï¼‰\nèµ„æºæ–‡ä»¶ï¼ˆstrings.xmlã€colors.xmlã€dimens.xmlï¼‰\n\nç¬¬ä¸‰é˜¶æ®µï¼šè¿›é˜¶çŸ¥è¯†\nç½‘ç»œè¯·æ±‚ï¼ˆOkHttpã€Retrofitï¼‰\næ•°æ®å­˜å‚¨ï¼ˆSharedPreferencesã€SQLiteã€Roomï¼‰\nå¼‚æ­¥å¤„ç†ï¼ˆHandlerã€AsyncTaskã€Threadã€ExecutorServiceï¼‰\nå¹¿æ’­ä¸æœåŠ¡ï¼ˆBroadcastReceiverã€Serviceï¼‰\næƒé™ç®¡ç†ï¼ˆAndroid 6.0+ åŠ¨æ€æƒé™ï¼‰\n\nç¬¬å››é˜¶æ®µï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–\nMVP &#x2F; MVVM æ¶æ„\nç»„ä»¶åŒ–å¼€å‘\nå•å…ƒæµ‹è¯•ï¼ˆJUnitã€Mockitoï¼‰\næ€§èƒ½ä¼˜åŒ–ï¼ˆå†…å­˜æ³„æ¼ã€å¡é¡¿ã€ANRï¼‰\nGit ç‰ˆæœ¬æ§åˆ¶\n\nç¬¬äº”é˜¶æ®µï¼šå®æˆ˜é¡¹ç›®\nä»¿çŸ¥ä¹æ—¥æŠ¥\nä¸ªäººç¬”è®° App\nå¤©æ°”é¢„æŠ¥åº”ç”¨ï¼ˆé›†æˆ APIï¼‰\nå³æ—¶é€šè®¯å° demoï¼ˆSocket&#x2F;WebSocketï¼‰\n\nå­¦ä¹ èµ„æºæ¨è\nå®˜æ–¹æ–‡æ¡£ï¼šhttps://developer.android.com/\nGitHub å¼€æºé¡¹ç›®ï¼šå¦‚ WanAndroidã€GankIO\nè§†é¢‘è¯¾ç¨‹ï¼šæ…•è¯¾ç½‘ã€Bilibili ä¼˜è´¨ UP ä¸»\n\nåšæŒåŠ¨æ‰‹å†™ä»£ç ï¼Œæ¯”çœ‹åéæ•™ç¨‹éƒ½æœ‰æ•ˆï¼\n\n\nè¯¦ç»†çš„å±•å¼€å›¾\nå„ç« èŠ‚è®²è§£\n","categories":["æ—¥å¸¸"],"tags":["Android","å­¦ä¹ è·¯çº¿","è‡ªå­¦","æ—¥å¸¸"]},{"title":"å¼€å‘åˆ©å™¨ä¹‹Android Studio","url":"/2017/08/07/%E6%97%A5%E5%B8%B8/%E5%BC%80%E5%8F%91%E5%88%A9%E5%99%A8%E4%B9%8BAndroid%20Studio/","content":"ä¸ºä»€ä¹ˆé€‰æ‹© Android Studioï¼Ÿ\nå®˜æ–¹æ”¯æŒï¼šGoogle å®˜æ–¹ IDEï¼Œç¬¬ä¸€æ—¶é—´æ”¯æŒæ–°ç‰¹æ€§ï¼ˆå¦‚ Jetpackã€Composeï¼‰ã€‚\nå¼ºå¤§è°ƒè¯•ï¼šå†…ç½® Layout Inspectorã€Profilerã€APK åˆ†æå™¨ã€‚\næ™ºèƒ½æç¤ºï¼šåŸºäº IntelliJï¼Œä»£ç è¡¥å…¨ã€é‡æ„ã€é”™è¯¯æ£€æŸ¥æä½³ã€‚\nGradle é›†æˆï¼šçµæ´»æ„å»ºã€ä¾èµ–ç®¡ç†ã€å¤šæ¸ é“æ‰“åŒ…ã€‚\næ¨¡æ‹Ÿå™¨å¿«ï¼šHAXM åŠ é€Ÿï¼Œæ€§èƒ½æ¥è¿‘çœŸæœºã€‚\n\nå¿…å¤‡æ’ä»¶æ¨è\nADB Ideaï¼šä¸€é”®æ¸…ç†&#x2F;é‡å¯ Appã€‚\nGsonFormatï¼šJSON å¿«é€Ÿç”Ÿæˆ Java Beanã€‚\nCodeGlanceï¼šå³ä¾§ä»£ç ç¼©ç•¥å›¾ã€‚\nMarkdown Supportï¼šå®Œç¾æ”¯æŒ .md æ–‡ä»¶é¢„è§ˆã€‚\n\næå‡æ•ˆç‡çš„å¿«æ·é”®\n\n\nåŠŸèƒ½\nå¿«æ·é”®ï¼ˆWindowsï¼‰\n\n\n\næŸ¥æ‰¾ç±»\nCtrl + N\n\n\næŸ¥æ‰¾æ–‡ä»¶\nCtrl + Shift + N\n\n\né‡æ„é‡å‘½å\nShift + F6\n\n\nç”Ÿæˆ Getter&#x2F;Setter\nAlt + Insert\n\n\nå¿«é€Ÿä¿®å¤\nAlt + Enter\n\n\nå°æŠ€å·§\nä½¿ç”¨ TODO æ³¨é‡Šï¼Œå¯åœ¨ TODO é¢æ¿é›†ä¸­ç®¡ç†ã€‚\nLog.d(TAG, &quot;...&quot;) ä¸­çš„ TAG å¯ç”¨ getClass().getSimpleName() è‡ªåŠ¨ç”Ÿæˆã€‚\nå¤šä¸ªè®¾å¤‡åŒæ—¶è°ƒè¯•ï¼šç‚¹å‡»è®¾å¤‡ä¸‹æ‹‰èœå•é€‰æ‹©ã€‚\n\nåˆè¯†Androidä¹‹ä½“éªŒç¯‡è¿˜è®°å¾—æœ€åˆæ¥è§¦Androidæ˜¯åœ¨æˆ‘å¤§äºŒçš„æ—¶å€™ï¼Œé‚£æ—¶ä¸‹å­¦æœŸåˆšå¼€å­¦ï¼Œæ¯é€¢å¼€å­¦å­£å­¦æ ¡çš„ç§»åŠ¨ç”µä¿¡è¥ä¸šå…éƒ½ä¼šåšå„ç§ä¿ƒé”€æ´»åŠ¨ï¼Œæ–°æ¬¾çš„æ‰‹æœºå½“ç„¶ä¹ŸåŒ…æ‹¬åœ¨å†…ã€‚å½“æ—¶æˆ‘å°±æœ‰å¬è¯´è¿‡Androidæ‰‹æœºæœ‰å¥½å¤šç‚«é…·çš„æ“ä½œå’ŒåŠŸèƒ½ï¼Œèƒ½å¾ˆæ–¹ä¾¿çš„å¬éŸ³ä¹ï¼Œçœ‹ç”µå½±ä»€ä¹ˆçš„ï¼Œæ‰€ä»¥æˆ‘æœæ–­æ‰“ç®—ä¹°ä¸€ä¸ªæ–°æ‰‹æœºï¼Œåä¸ºc8812ç”µä¿¡ç‰ˆã€‚\n\n\nç›¸å¯¹äºä¹‹å‰ä½¿ç”¨è¿‡çš„ç”µé˜»å±çš„æ‰‹æœºæ¥è¯´ï¼Œè¿™ç§ç”µå®¹å±çš„æ‰‹æœºæ“ä½œèµ·æ¥ï¼Œæ„Ÿè§‰ç®€ç›´å¤ªæ£’äº†ï¼Œå†åŠ ä¸Šæ–°çš„Android 4.0ç³»ç»Ÿï¼Œç•Œé¢ä¹Ÿç›¸å¯¹çš„æ›´åŠ é²œè‰³äº®ä¸½ï¼Œåæ¥äº†è§£åˆ°è¿™ä¸ªç‰ˆæœ¬å«Ice Cream Sandwichï¼ˆå†°æ·‡æ·‹ä¸‰æ˜æ²»ï¼‰ï¼Œè¿™ä¸ªæ‰‹æœºå¯ä»¥æ‹ç…§ã€3Gä¸Šç½‘ã€ä¸‹è½¯ä»¶ã€å¬éŸ³ä¹ã€çœ‹ç”µå½±ã€ç©æ¸¸æˆï¼Œå‡ ä¹åŸæ¥ç”µè„‘ä¸Šå¯ä»¥å¹²çš„ï¼Œæ‰‹æœºéƒ½å¯ä»¥åšåˆ°ï¼Œè€Œä¸”æ›´æ–¹ä¾¿ã€‚å¯ä»¥è¯´å½“æ—¶å¯¹Androidçš„å°è±¡éƒ½æ˜¯æ¥è‡ªäºå¯¹æ‰‹æœºçš„ä½“éªŒï¼Œè™½ç„¶å½“æ—¶çš„æ‰‹æœºå¸‚åœºè¿˜æ˜¯è‹¹æœå æ®ä¸»è¦åœ°ä½ï¼Œä½†æ˜¯iPhoneçš„ä»·æ ¼è¿˜æ˜¯å¤ªè´µï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œå¹¶æ²¡æœ‰é‚£ä¹ˆå¤šé’±å»ä¹°ï¼Œè€ŒAndroidæ‰‹æœºä»·æ ¼äº²æ°‘ï¼Œä¹Ÿèƒ½æ»¡è¶³æˆ‘çš„åŸºæœ¬éœ€æ±‚ï¼Œè¿™ç‚¹æˆ‘å°±å¾ˆæ»¡æ„äº†ï¼Œå¯¹äºè¿™ä¸ªå®¢è§‚äº‹å®ï¼Œæˆ‘ä¹Ÿå°±è‡ªç„¶è€Œç„¶çš„é€‰æ‹©äº†Androidé˜µè¥ï¼Œå¯¹å®ƒå……æ»¡äº†å¥½å¥‡ï¼Œæƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ç‚¹äº†ä¸€ä¸ªå›¾æ ‡ï¼Œå°±å¯ä»¥æ‰“å¼€ä¸€ä¸ªç•Œé¢ï¼Œå›¾ç‰‡ã€å£°éŸ³éƒ½å¯ä»¥å±•ç°å‡ºæ¥ï¼›ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šæœ‰å¯¹è¯æ¡†æç¤ºï¼Œé€šçŸ¥æ¶ˆæ¯ï¼›ä¸ºä»€ä¹ˆæˆ‘æ‰‹æœºç”¨ä¹…äº†å°±ä¼šå¡å¡çš„ï¼Œå¥½å¤šå…³äºAndroidçš„ç–‘é—®ã€‚\nèµ°è¿›Androidä¹‹å¼€å‘ç¯‡åœ¨å¤§ä¸€çš„æ—¶å€™ï¼Œå­¦äº†ä¸¤å­¦æœŸçš„Cè¯­è¨€ç¼–ç¨‹ï¼Œä¹Ÿç®—æ˜¯æ‰“ä¸‹äº†ç¼–ç¨‹çš„åŸºç¡€ï¼Œä¸è¿‡æ˜¯é¢å‘è¿‡ç¨‹çš„ã€‚è‡ªæˆ‘æ„Ÿè§‰å¯¹äºCè¯­è¨€å‰é¢çš„åŸºç¡€å†…å®¹è¿˜æ˜¯æŒºå®¹æ˜“çš„ï¼Œä¸è¿‡ç­‰åˆ°äº†åé¢çš„æŒ‡é’ˆç« èŠ‚ï¼Œæˆ‘åŸºæœ¬å°±å¬ä¸å¤ªæ‡‚äº†ï¼Œå†åŠ ä¸Šåé¢å­¦çš„æ•°æ®ç»“æ„ï¼Œé‚£æ›´æ˜¯å¬çš„äº‘é‡Œé›¾é‡Œï¼Œè„‘è¢‹ä¸€ç‰‡ç©ºç™½ï¼Œç”šè‡³ä¹Ÿå­¦ç€åŒå­¦ä¸€èµ·é€ƒè¯¾ï¼ˆç°åœ¨æƒ³æƒ³æ˜¯å¤šä¹ˆæ— çŸ¥ï¼‰ã€‚åœ¨æˆ‘æ„Ÿè§‰åˆ°çƒ¦æ¼å’Œè¿·æƒ‘çš„æ—¶å€™ï¼Œæˆ‘å¼€å§‹æ¥è§¦åˆ°Javaï¼Œè¿™ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ºæˆ‘å¸¦æ¥äº†ä¸€ç‰‡å´­æ–°çš„å¤©åœ°ï¼Œä¸€åˆ‡éƒ½å¯ä»¥é€šè¿‡ç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥ç±»æ¯”ï¼Œç†è§£Javaçš„ç‰¹æ€§ã€‚é€šè¿‡å¯¹Javaçš„å­¦ä¹ ï¼Œäº†è§£åˆ°äº†æˆ‘ä¹‹å‰çš„é‚£äº›ç–‘æƒ‘ï¼Œåœ¨è¿™é‡Œéƒ½å¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼Œäºæ˜¯æˆ‘è®¤çœŸçš„åœ¨Javaä¸Šé¢èŠ±è´¹äº†å¾ˆå¤šå¿ƒæ€ï¼Œå½“æ—¶å­¦Javaä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯Eclipseï¼Œåœ¨å¯¹Javaäº†è§£äº†å¾ˆå¤šåŸºæœ¬çŸ¥è¯†åï¼Œå¼€å§‹æƒ³ç€ç”¨è¿™é—¨è¯­è¨€æ¥å¼€å‘ï¼Œå­¦æ ¡æ˜¯æœ‰å¼€è®¾JSPå’ŒJava EEçš„è¯¾ç¨‹ï¼Œä¸è¿‡æˆ‘å­¦å½’å­¦ï¼Œä½†æ˜¯ä¸æ˜¯å¾ˆæ„Ÿå…´è¶£ï¼Œå› ä¸ºæˆ‘å¿ƒé‡Œè¿˜æ˜¯æƒ³æ‰¾åˆ°æˆ‘å¯¹Androidçš„é‚£äº›ç–‘é—®çš„ç­”æ¡ˆï¼Œäºæ˜¯æˆ‘å¼€å§‹è‡ªå­¦Androidï¼Œç½‘ä¸Šæœç´¢äº†å¾ˆå¤šèµ„æ–™ï¼Œè¯´åˆ°å­¦ä¹ ä¸€é¡¹æŠ€æœ¯ï¼Œæœ€å…ˆå¼€å§‹çš„å°±æ˜¯ç¯å¢ƒçš„æ­å»ºï¼Œå°±ç›¸å½“äºç§æ ‘å¾—æœ‰åœŸå£¤ä¸€æ ·ã€‚ç”±äºå½“æ—¶æœ‰ç”¨Eclipseå¼€å‘Javaé¡¹ç›®ï¼Œæ‰€ä»¥å¯¹è¿™ä¸ªç¼–è¾‘å™¨çš„ä½¿ç”¨è¿˜æ˜¯æŒºç†Ÿç»ƒçš„ï¼Œç”¨å®ƒæ¥å¼€å‘Androidï¼Œåªéœ€è¦æ·»åŠ å¼€å‘Androidæ‰€è¦ç”¨åˆ°çš„ADTæ’ä»¶å°±å¯ä»¥äº†ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯Androidçš„SDKï¼Œå½“æ—¶ç”¨çš„ç‰ˆæœ¬è¿˜æ˜¯14ï¼ˆç°åœ¨éƒ½25äº†ï¼Œå“ˆå“ˆï¼‰ã€‚å¯¹äºæ€ä¹ˆé…ç½®ï¼Œç½‘ä¸Šä¸€å †æ•™ç¨‹ï¼Œå½“æ—¶ä¹Ÿæ˜¯æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥æ­¥æ¥ï¼Œæäº†å¥½ä¹…æ‰é…ç½®æˆåŠŸï¼ˆå¿ƒç´¯ã€‚ã€‚ã€‚ï¼‰ï¼Œå¥½åœ¨å½“æ—¶è¿˜æ˜¯å¯ä»¥ä¸‹è½½åˆ°google å‘å¸ƒçš„ADT bundleçš„Eclipseç¼–è¾‘å™¨ï¼Œç¨å¾®æ–¹ä¾¿äº†æˆ‘ä»¬å¼€å‘ã€‚å½“æ—¶å¯¹ç”¨ADT Eclipseå¼€å‘Androidé¡¹ç›®çš„å°è±¡å°±æ˜¯ç¯å¢ƒé…ç½®éº»çƒ¦ï¼Œä¸è¿‡ä½¿ç”¨èµ·æ¥è¿˜è¡Œï¼Œç½‘ä¸Šçš„èµ„æ–™ä¹Ÿå…¨éƒ½æ˜¯å¦‚ä½•ç”¨å®ƒæ¥ç¼–å†™Androidé¡¹ç›®ï¼Œå¦‚ä½•é…ç½®SDK Manageræ¥ä¸‹è½½APIï¼Œå°±è¿™æ ·ä¸€ç›´ä½¿ç”¨åˆ°äº†API 19ã€‚\n\n\nè¿™æ˜¯å®ƒçš„ç¼–è¾‘å™¨ç•Œé¢ï¼ˆè¿˜è®°å¾—å®ƒå—ï¼Ÿï¼‰\n\n\nå¯ä»¥è¿è¡Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šï¼ˆæ¯”è¾ƒè€—å†…å­˜ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡USBè¿è¡Œåˆ°æ‰‹æœºä¸Šï¼ˆä¸è¿‡adb-toolsæœ‰æ—¶å€™ä¼šå¤±çµï¼Œå¾—killååœ¨startï¼‰\nç¬¬ä¸€ä¸ªåº”ç”¨æ¯«æ— ç–‘é—®æ˜¯â€œHello worldâ€ï¼Œä¸è¿‡æˆ‘æ”¹æˆäº†â€œHello Androidâ€ï¼Œå“ˆå“ˆï¼Œç¬¬ä¸€æ¬¡é€šè¿‡ç¼–è¾‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„é¡¹ç›®ï¼Œåœ¨æ‰‹æœºä¸Šè·‘äº†ä¸€éï¼Œé¡ºåˆ©çš„å‡ºç°çš„ç•Œé¢ï¼Œå½“æ—¶å°±æ„Ÿè§‰æˆ‘ä¹‹å‰çš„ç–‘æƒ‘ï¼Œæ‰¾åˆ°äº†ç­”æ¡ˆã€‚\nAndroidå¼€å‘ä¹‹Googleç¯‡Googleè‡ªä»2005å¹´ï¼Œä»…èŠ±è´¹5000ä¸‡ç¾å…ƒå°±ä½è°ƒåœ°æ”¶è´­äº†Androidå…¬å¸ä¹‹åï¼ŒGoogleçš„è¿™æ¬¡æ”¶è´­æ— ç–‘æ˜¯æœ€ä¸ºæˆåŠŸçš„ä¸€æ¬¡æ”¶è´­ï¼ŒAndroidä»æ­¤æ‹¥æœ‰äº†ä¸€ä¸ªå¥½çˆ¹ã€‚Androidä½œä¸ºGoogleçš„å„¿å­ï¼Œæƒ³å¿…Googleä¹Ÿè§‰å¾—æ€ä¹ˆç€ä¹Ÿè¦ç»™å„¿å­ä¸€ä¸ªå¥½çš„ç¤¼ç‰©ï¼ŒAndroid Studioåº”è¿è€Œç”Ÿã€‚\nç»è¿‡Googleå…¬å¸çš„ä¸æ‡ˆå¥‹æ–—ï¼Œç›®å‰å·²å‘å¸ƒäº†2.2.3ç‰ˆæœ¬ã€‚\næˆ‘æœ€åˆç”¨çš„è¿˜æ˜¯å»å¹´7æœˆä»½çš„æ—¶å€™ï¼Œé‚£æ—¶å€™è¿˜åªæ˜¯1.5ç‰ˆæœ¬ï¼Œå‘å±•é€Ÿåº¦ä¹‹å¿«ï¼Œè¶…ä¹æƒ³è±¡ã€‚\n\n\nè¿™æ˜¯Android Studioçš„ç•Œé¢ã€‚\nå…³äºå®ƒçš„å®˜æ–¹ä»‹ç»è¯·æˆ³è¿™é‡Œï¼šhttps://developer.android.google.cn/studio/index.html\nçœ¼å°–çš„åŒå­¦å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œè¿™ä¸ªé“¾æ¥çš„åŸŸåæ˜¯google.cnï¼Œæ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œ12æœˆ8æ—¥Googleçš„Android developerç­‰çš„ä¸­å›½ç½‘ç«™æ­£å¼å‘å¸ƒï¼Œè¯¦æƒ…è¯·æˆ³http://www.cnbeta.com/articles/565447.htm\nè¿™å¯¹æ·±å—å®˜æ–¹èµ„æ–™éœ€è¦ç¿»å¢™æ‰èƒ½è·å–çš„ä¸­å›½Androidå¼€å‘äººå‘˜æ¥è¯´ï¼Œæ˜¯ç›¸å½“è‹¦æ¼çš„ï¼Œç°åœ¨å¥½äº†ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘å­¦ä¸åˆ°å®˜æ–¹æ–‡æ¡£äº†ï¼ˆä¹‹å‰ä¸€ç›´æ˜¯èŠ±é’±ä¹°çš„vpnï¼‰ã€‚\nAndroid Studioæˆ‘è§‰å¾—æ˜¯æœ€å¥½ç”¨çš„ç¼–è¾‘å™¨ï¼Œå› ä¸ºæˆ‘èƒ½æ„Ÿå—åˆ°Googleè¿™ç§å¤§å…¬å¸çš„ç”¨å¿ƒï¼Œæˆ‘éšä¾¿å°±å¯ä»¥åˆ—ä¸¾ä¸€äº›å¥½ç”¨çš„åœ°æ–¹ï¼š\n\nå®‰è£…ç®€å•ï¼Œå®˜ç½‘ä¸Šç›´æ¥å°±å¯ä»¥ä¸‹è½½ï¼Œlinux ã€mac osã€windowséƒ½æœ‰ï¼Œæ„Ÿè§‰å†ä¹Ÿä¸ç”¨å¯„äººç¯±ä¸‹äº†ï¼Œå¼€å‘Androidçš„æˆ‘ä»¬ç»ˆäºæœ‰äº†å½’å±æ„Ÿã€‚\n\næ¼‚äº®çš„ç•Œé¢ï¼Œè®ºé¢œå€¼ï¼Œä¹‹å‰çš„æ ¹æœ¬å°±ä¸èƒ½æ¯”ï¼Œå¼€å‘çš„å¿ƒæƒ…éƒ½å¥½å¾ˆå¤šã€‚\n\nç”¨Gradleæ–¹å¼ç®¡ç†é¡¹ç›®ï¼Œæ·»åŠ åº“ç®€å•åˆ°åªéœ€ä¸€å¥compileï¼Œç¼–è¯‘é€Ÿåº¦è™½ç„¶é•¿è¢«åæ§½ï¼Œä½†æ˜¯ç°åœ¨çš„æ”¹å–„ä¹Ÿæ˜¯æœ‰ç›®å…±ç¹çš„ã€‚\n\nåŒæ ·ç»§æ‰¿äº†Eclipseæ’ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä¹Ÿæœ‰æ’ä»¶ï¼Œè€Œä¸”æ·»åŠ æ›´åŠ æ–¹ä¾¿ã€‚\n\nå¯ä»¥ç›´æ¥ä¸‹è½½æŸ¥çœ‹Googleå¼€å‘çš„samplesï¼Œæ–‡æ¡£æ˜¯ä¸€æ–¹é¢ï¼Œæºç æ›´æ˜¯ä¸é”™çš„ä¸€æ–¹é¢ã€‚\n\nç›´æ¥è¿æ¥firebaseï¼Œæ·»åŠ æœåŠ¡åªéœ€ä¸‰æ­¥å°±æå®šã€‚\n\næ›´ç›´è§‚çš„Logcatç•Œé¢ï¼Œå¯ä»¥è®©ä½ æ›´å¥½çš„åˆ†æåº”ç”¨ã€‚\n\nç¼–ç¨‹çš„å¿«æ„Ÿï¼Œä¸€å¼€å§‹ä¸ç†Ÿæ‚‰é»˜è®¤çš„å¿«æ·é”®ï¼Œæƒ³è¿‡è°ƒæˆEclipseçš„ï¼Œä¸è¿‡è¿˜æ˜¯åšæŒå»ç†Ÿæ‚‰é»˜è®¤çš„å¿«æ·é”®ï¼Œç°åœ¨ç”¨ä¸‹æ¥ï¼Œæ„Ÿè§‰å°±åƒé£ä¸€æ ·ã€‚\n\n\nè¿™å‡ ç‚¹è¿˜æ˜¯å¾ˆå°‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸œè¥¿å¥½ä¸å¥½ç”¨ï¼Œå…‰è‡ªå·±è¯´äº†ä¸ç®—ï¼Œå¤§å®¶å¤§éƒ¨åˆ†äººçš„æ„è§æ‰æ˜¯å…³é”®ã€‚ä»ç°åœ¨çš„æˆ‘å·®ä¸å¤šå¿«å¿˜è®°äº†æ€ä¹ˆç”¨Eclipseæ¥å¼€å‘çš„çŠ¶æ€æƒ³ï¼Œå¤§å®¶æƒ³å¿…ä¹Ÿæ˜¯ä¸€æ ·ï¼Œç»å¸¸å¬èº«è¾¹çš„æœ‹å‹è¯´â€œç°åœ¨è¿˜ç”¨Eclipseå¼€å‘Androidï¼Œä½ ä¹Ÿå¤ªoutäº†å§â€ï¼Œå“ˆå“ˆï¼Œä¼°è®¡ä½ ä»¬ä¹Ÿå¬è¿‡ã€‚\næ€»ç»“è°ˆäº†è¿™ä¹ˆå¤šæˆ‘çš„æ„Ÿæƒ³ï¼Œä¸çŸ¥é“ä½ æ˜¯å¦ä¹Ÿæœ‰æŸäº›å…±åŒçš„è®°å¿†ï¼Œæ€»ä¹‹æˆ‘æƒ³è¯´Android Studioï¼Œæœ€å¥½ç”¨çš„Androidç¼–è¾‘å™¨ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚\n\nä» Eclipse è¿ç§»ï¼Ÿåˆ«çŠ¹è±«äº†ï¼ŒAndroid Studio æ˜¯æœªæ¥ï¼\n\næ‹¥æŠ±å®ƒï¼Œä½ çš„å¼€å‘æ•ˆç‡ä¼šç¿»å€ã€‚\n","categories":["æ—¥å¸¸"],"tags":["æ—¥å¸¸","Android Studio","IDE","å¼€å‘å·¥å…·"]},{"title":"æœ‰ä¸€ç§ä¼˜é›…çš„æ¶æ„å«MVPæ¶æ„","url":"/2017/08/15/%E6%97%A5%E5%B8%B8/%E6%9C%89%E4%B8%80%E7%A7%8D%E4%BC%98%E9%9B%85%E7%9A%84%E6%9E%B6%E6%9E%84%E5%8F%ABMVP%E6%9E%B6%E6%9E%84/","content":"å‰è¨€MVP æ˜¯ Model-View-Presenter çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§ç»å…¸çš„ Android åº”ç”¨æ¶æ„æ¨¡å¼ã€‚å®ƒå°†ä¸šåŠ¡é€»è¾‘ä» Activity&#x2F;Fragment ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œä½¿ä»£ç æ›´æ˜“æµ‹è¯•ã€ç»´æŠ¤å’Œå¤ç”¨ã€‚è½¯ä»¶å¼€å‘æ€»æ˜¯å¼ºè°ƒä¸€ä¸ªé‡ç‚¹ï¼Œå°±æ˜¯å°½å¯èƒ½çš„å°†ç³»ç»Ÿåšåˆ°é«˜å†…èšä½è€¦åˆï¼Œå„æ¨¡å—å„å¸å…¶èŒï¼ŒèŒè´£å•ä¸€ï¼Œé€»è¾‘æ¸…æ™°ã€‚\n\n\nä»ä¸Šå›¾å¯ä»¥æ¸…æ™°çš„ç†è§£ä»€ä¹ˆæ˜¯MVPï¼ˆModelã€Viewã€Presenterï¼‰æ¶æ„ï¼Œå…¶å®MVPæ˜¯ä»MVCæ¨¡å¼è¡ç”Ÿå‡ºæ¥çš„ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†è®©è§†å›¾å±‚viewå’Œæ¨¡å‹å±‚modelä¹‹é—´è§£è€¦ã€‚\nå®ƒä»¬çš„åŸºæœ¬æ€æƒ³æœ‰ç›¸é€šçš„åœ°æ–¹ï¼šController&#x2F;Presenterè´Ÿè´£é€»è¾‘çš„å¤„ç†ï¼ŒModelæä¾›æ•°æ®ï¼ŒViewè´Ÿè´£æ˜¾ç¤ºã€‚ä½œä¸ºä¸€ç§æ–°çš„æ¨¡å¼ï¼ŒMVPä¸MVCæœ‰ç€ä¸€ä¸ªé‡å¤§çš„åŒºåˆ«ï¼šåœ¨MVPä¸­Viewå¹¶ä¸ç›´æ¥ä½¿ç”¨Modelï¼Œå®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡Presenter (MVCä¸­çš„Controller)æ¥è¿›è¡Œçš„ï¼Œæ‰€æœ‰çš„äº¤äº’éƒ½å‘ç”Ÿåœ¨Presenterå†…éƒ¨ï¼Œè€Œåœ¨MVCä¸­Viewä¼šç›´æ¥ä»Modelä¸­è¯»å–æ•°æ®è€Œä¸æ˜¯é€šè¿‡ Controllerã€‚åœ¨MVCé‡Œï¼ŒViewæ˜¯å¯ä»¥ç›´æ¥è®¿é—®Modelçš„ï¼ä»è€Œï¼ŒViewé‡Œä¼šåŒ…å«Modelä¿¡æ¯ï¼Œä¸å¯é¿å…çš„è¿˜è¦åŒ…æ‹¬ä¸€äº›ä¸šåŠ¡é€»è¾‘ã€‚åœ¨MVCæ¨¡å‹é‡Œï¼Œæ›´å…³æ³¨çš„Modelçš„ä¸å˜ï¼Œè€ŒåŒæ—¶æœ‰å¤šä¸ªå¯¹Modelçš„ä¸åŒæ˜¾ç¤ºï¼ŒåŠViewã€‚æ‰€ä»¥ï¼Œåœ¨MVCæ¨¡å‹é‡Œï¼ŒModelä¸ä¾èµ–äºViewï¼Œä½†æ˜¯Viewæ˜¯ä¾èµ–äºModelçš„ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå› ä¸ºæœ‰ä¸€äº›ä¸šåŠ¡é€»è¾‘åœ¨Viewé‡Œå®ç°äº†ï¼Œå¯¼è‡´è¦æ›´æ”¹Viewä¹Ÿæ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œè‡³å°‘é‚£äº›ä¸šåŠ¡é€»è¾‘æ˜¯æ— æ³•é‡ç”¨çš„ã€‚\nä»èŒè´£ä¸Šæ¥è¯´MVPæ˜¯ï¼š\nViewå±‚è´Ÿè´£å¤„ç†ç”¨æˆ·äº‹ä»¶å’Œè§†å›¾éƒ¨åˆ†çš„å±•ç¤ºã€‚åœ¨Androidä¸­ï¼Œå®ƒå¯èƒ½æ˜¯Activityæˆ–è€…Fragmentç±»ã€‚\nModelå±‚è´Ÿè´£è®¿é—®æ•°æ®ã€‚æ•°æ®å¯ä»¥æ˜¯è¿œç«¯çš„Server APIï¼Œæœ¬åœ°æ•°æ®åº“æˆ–è€…SharedPreferenceç­‰ã€‚\nPresenterå±‚æ˜¯è¿æ¥ï¼ˆæˆ–é€‚é…ï¼‰Viewå’ŒModelçš„æ¡¥æ¢ã€‚\n\nMVPçš„ä¼˜ç‚¹\né™ä½è€¦åˆåº¦ï¼Œéšè—æ•°æ®ï¼ŒActivityä¸­ä»£ç æ›´ç®€æ´\næ¨¡å—èŒè´£åˆ’åˆ†æ˜æ˜¾ï¼Œæ¥å£æ˜ç¡®\næ–¹ä¾¿æµ‹è¯•é©±åŠ¨å¼€å‘\nä»£ç å¤ç”¨åº¦è¾ƒé«˜\nä»£ç çµæ´»æ€§\ngoogleæ¨èä½¿ç”¨ï¼Œå“ˆå“ˆ\n\nMVPçš„ç¼ºç‚¹\nç±»å’Œæ¥å£çš„æ•°é‡ä¼šå¢åŠ è®¸å¤šï¼Œå»ºè®®ç®€å•çš„é¡¹ç›®å¯ä»¥ä¸ä½¿ç”¨æ­¤æ¶æ„ã€‚\n\nPresenterå±‚ä¸Viewå±‚å¦‚æœå­˜åœ¨è¿‡å¤šçš„è”ç³»ï¼Œå¾€å¾€Viewä¸€æ—¦æ›´æ”¹ï¼ŒPresenterä¹Ÿéœ€è¦æ›´æ”¹ã€‚\n\n\nç†è®ºè¯´äº†ä¸€å †ï¼Œæ˜¯æ—¶å€™ä¸Šä¸€æ³¢ä»£ç äº†ï¼š\n\n\nModelå±‚è¿™é‡Œæˆ‘ä¸»è¦æ˜¯æŒ‡çš„æœ¬åœ°æ•°æ®åº“\npublic class User &#123;    private int _id;    private String name;    private int age;    public User() &#123;    &#125;        public User(int _id, String name, int age) &#123;        this._id = _id;        this.name = name;        this.age = age;    &#125;    public int getId() &#123;        return _id;    &#125;    public void setId(int _id) &#123;        this._id = _id;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public int getAge() &#123;        return age;    &#125;    public void setAge(int age) &#123;        this.age = age;    &#125;&#125;\nä¸ºäº†è¾ƒå¥½çš„ç»´æŠ¤Presenterå’ŒViewä¹‹é—´çš„å…³ç³»ï¼ŒGoogleæ¨èå°†å…¶æ¥å£å­˜æ”¾åœ¨ä¸€ä¸ªå¥‘çº¦ç±»ä¸­ç®¡ç†ã€‚\nBasePresenterpublic interface BasePresenter &#123;    void start();&#125;\n\nBaseViewpublic interface BaseView&lt;T&gt; &#123;    void setPresenter(T presenter);&#125;\n\nå®šä¹‰å¥‘çº¦public class UserContract &#123;    public interface View extends BaseView&lt;Presenter&gt; &#123;        void showUsers(List&lt;User&gt; users);        void showMessage(String msg);    &#125;    public interface Presenter extends BasePresenter &#123;        User loadUser(int id);        List&lt;User&gt; loadUsers();        boolean releaseDB();        boolean clearData();    &#125;&#125;\nè®©å„è‡ªçš„Presenterå’ŒViewå®ç°å…¶æ¥å£å¯¹åº”çš„æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥äº’ç›¸è°ƒç”¨å…¶æ¥å£ã€‚\nPresenterå±‚public class UserPresenter implements UserContract.Presenter &#123;    private final UserContract.View mUserView;    public UserPresenter(@NonNull UserContract.View userView) &#123;        mUserView = userView;        mUserView.setPresenter(this);//å°†Vå’ŒPå»ºç«‹å…³ç³»    &#125;    @Override    public void start() &#123;            &#125;    @Override    public User loadUser(int id) &#123;        return null;    &#125;    @Override    public List&lt;User&gt; loadUsers() &#123;        return null;    &#125;    @Override    public boolean releaseDB() &#123;        return false;    &#125;    @Override    public boolean clearData() &#123;        return false;    &#125;&#125;\n\nViewå±‚public class UserFragment extends Fragment implements UserAdapter.OnItemClickListener,        SwipeRefreshLayout.OnRefreshListener, UserContract.View, OnStartDragListener &#123;    private UserContract.Presenter mPresenter;    @Override    public void onResume() &#123;        super.onResume();        mPresenter.start();    &#125;    @Override    public void setPresenter(@NonNull UserContract.Presenter presenter) &#123;        mPresenter = presenter;    &#125;    @Override    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) &#123;        super.onCreateOptionsMenu(menu, inflater);        getActivity().getMenuInflater().inflate(R.menu.menu_main, menu);    &#125;    @Override    public boolean onOptionsItemSelected(MenuItem item) &#123;        int id = item.getItemId();        switch (id) &#123;            case R.id.init:                mPresenter.start();                break;            case R.id.clear:                mPresenter.clearData();                break;        &#125;        return true;    &#125;    @Override    public void onDestroy() &#123;        super.onDestroy();        if (mPresenter.releaseDB()) &#123;            Log.d(TAG, &quot;onDestroy: db is released&quot;);        &#125;    &#125;&#125;\nå¯ä»¥çœ‹å‡ºVçš„æ¥å£ä¼šåœ¨Pä¸­è¢«è°ƒç”¨ï¼Œå¹¶åœ¨Vä¸­è¢«å®ç°ï¼Œåœ¨Pä¸­æ˜¯ä¸å»å®ç°çš„ã€‚åŒæ ·ï¼ŒPçš„æ¥å£ä¼šåœ¨Vä¸­è¢«è°ƒç”¨ï¼Œå¹¶åœ¨Pä¸­è¢«å®ç°ã€‚ç®€å•çš„è¯´ï¼Œå„è‡ªçš„æ¥å£å„è‡ªè´Ÿè´£å»å®ç°ï¼Œå¯¹æ–¹åªè°ƒç”¨å¯¹æ–¹çš„æ¥å£å³å¯ã€‚\næ³¨æ„ï¼šåœ¨å®šä¹‰æ¥å£çš„æ—¶å€™ï¼ŒViewçš„æ¥å£å°½é‡æ˜¯è·Ÿè§†å›¾æœ‰å…³çš„ï¼Œå¦‚showMessage()ã€navigateToMain()ï¼Œè€ŒPresenterçš„æ¥å£å°½é‡è·ŸåŠŸèƒ½ç›¸å…³ï¼Œå¦‚loadUsers()ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯åœ¨ç›¸äº’è°ƒç”¨çš„æ—¶å€™å¯ä»¥çœ‹æ–¹æ³•çš„åå­—å°±æ¸…æ¥šè¿™é‡Œçš„é€»è¾‘æ˜¯è¦å®ç°ä»€ä¹ˆåŠŸèƒ½äº†ï¼Œè§åçŸ¥ä¹‰å°±æ˜¯è¿™æ ·æ„æ€ã€‚\nå†™åœ¨æœ€åå½“ç„¶æœ‰äººä¼šè¯´äº†ï¼Œå’±å†™ç¨‹åºæœ¬æ¥å°±æ˜¯æƒ³ç€å°‘å†™ä»£ç ï¼Œä¸èƒ½ä¸ºäº†ç”¨æ¶æ„è€Œå»ç”¨æ¶æ„ï¼Œè¿™æ ·ä¼šå¾—ä¸å¿å¤±ã€‚å¯¹äºä»€ä¹ˆåº”ç”¨é€‚åˆä»€ä¹ˆæ¶æ„ï¼Œè¿˜æ˜¯æœ‰å¾…è€ƒé‡çš„ï¼ŒMVPä¸ç®—æ˜¯æ–°çŸ¥è¯†ï¼Œåœ¨åå¤çš„å®è·µä¸­ï¼Œè¿˜æ˜¯èƒ½æ„Ÿè§‰åˆ°å®ƒæ˜¯åˆ©å¤§äºå¼Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å»æŒæ¡ï¼Œè¿™æ ·æˆ‘ä»¬è‡ªå·±å†™çš„æ—¶å€™é€»è¾‘ä¹Ÿæ¸…æ¥šï¼Œæµ‹è¯•çš„ä¹Ÿæ–¹ä¾¿ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Ÿ\n","categories":["æ—¥å¸¸"],"tags":["Android","æ—¥å¸¸","MVP","æ¶æ„"]},{"title":"APKåç¼–è¯‘æµç¨‹è¯¦è§£","url":"/2020/02/08/%E7%BB%8F%E9%AA%8C/APK%E5%8F%8D%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/","content":"APKåç¼–è¯‘æµç¨‹è¯¦è§£\nåç¼–è¯‘apkjava -jar /d/studies/Decompile/apktool_2.7.0.jar d source.apk -o output\n\n\nå°†.dexè½¬æ¢ä¸º.jar\n/d/studies/Decompile/dex-tools-v2.4/d2j-dex2jar.sh classes.dex -o classes.jar\n\nåˆ©ç”¨jd-guiæŸ¥çœ‹classes.jar\njava -jar /d/studies/Decompile/jd-gui-1.6.6.jar classes.jar\n\nåˆ©ç”¨jadxç›´æ¥åç¼–è¯‘apk\n/d/studies/Decompile/jadx-1.5.1/bin/jadx-gui your-app.apk\n\nåç¼–è¯‘åé‡æ–°ç­¾å\nä¿®æ”¹åé‡æ–°ç¼–è¯‘æˆæœªç­¾åçš„apkjava -jar /d/studies/Decompile/apktool_2.7.0.jar b output -o target.apk --use-aapt2\n\nâ€“use-aapt2 å‚æ•°æŒ‡å®šä½¿ç”¨AAPT2å·¥å…·è¿›è¡Œæ„å»ºï¼Œè¿™é€šå¸¸èƒ½æ›´å¥½åœ°å¤„ç†èµ„æºæ–‡ä»¶\n\n4å­—èŠ‚å¯¹é½zipalign.exe -v 4 target.apk aligned_target.apk\n\n\nç­¾åapk\napksigner.bat sign -ks androidapp.jks --out signed_target.apk aligned_target.apk\n\néªŒè¯ç­¾å\napksigner.bat verify .\\signed_target.apk\n\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"Androidåˆ·æœº","url":"/2024/07/07/%E7%BB%8F%E9%AA%8C/Android%E5%88%B7%E6%9C%BA/","content":"Androidåˆ·æœºå¯¹äºå®‰å“è®¾å¤‡çš„åˆ·æœºè¿‡ç¨‹ï¼Œé€šå¸¸ä¼šæ¶‰åŠåˆ°ä½¿ç”¨ADBï¼ˆAndroid Debug Bridgeï¼‰å’ŒFastbootå·¥å…·ã€‚ä»¥ä¸‹æ˜¯åŸºäºå‘½ä»¤è¡Œæ“ä½œçš„åˆ·æœºæ­¥éª¤åŠå¯¹åº”æŒ‡ä»¤ï¼š\nå‡†å¤‡å·¥ä½œ\nç¡®ä¿å·²å®‰è£…ADBå’ŒFastbootï¼šä½ éœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…ADBå’ŒFastbootå·¥å…·ã€‚\nè§£é”Bootloaderï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼šä¸åŒçš„åˆ¶é€ å•†æœ‰ä¸åŒçš„è§£é”æ–¹æ³•ï¼Œè¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£æˆ–ç¤¾åŒºæŒ‡å—ã€‚\n\nåˆ·æœºæ­¥éª¤åŠå¯¹åº”æŒ‡ä»¤\nè¿æ¥è®¾å¤‡å¹¶å¯ç”¨è°ƒè¯•æ¨¡å¼\n\nåœ¨è®¾å¤‡ä¸Šè¿›å…¥â€œè®¾ç½®â€-&gt;â€œå…³äºæ‰‹æœºâ€ï¼Œè¿ç»­ç‚¹å‡»ç‰ˆæœ¬å·æ¿€æ´»å¼€å‘è€…é€‰é¡¹ã€‚\nè¿”å›è®¾ç½®ä¸»èœå•ï¼Œè¿›å…¥å¼€å‘è€…é€‰é¡¹ï¼Œå¯ç”¨USBè°ƒè¯•ã€‚\nä½¿ç”¨USBçº¿å°†è®¾å¤‡è¿æ¥åˆ°ç”µè„‘ã€‚\n\n\næ£€æŸ¥è®¾å¤‡æ˜¯å¦æ­£ç¡®è¿æ¥\nadb devices\nç¡®è®¤å¯ä»¥çœ‹åˆ°ä½ çš„è®¾å¤‡ã€‚\n\né‡å¯è®¾å¤‡è¿›å…¥Bootloaderæ¨¡å¼\nadb reboot bootloader\n\nç¡®è®¤è®¾å¤‡å¤„äºFastbootæ¨¡å¼\nfastboot devices\n\nè§£é”Bootloaderï¼ˆå¦‚æœå°šæœªè§£é”ï¼‰\n\næ³¨æ„ï¼šè¿™ä¸€æ­¥ä¼šæ¸…é™¤è®¾å¤‡ä¸Šçš„æ‰€æœ‰æ•°æ®ã€‚fastboot oem unlock\nå…·ä½“æŒ‡ä»¤å¯èƒ½å› è®¾å¤‡è€Œå¼‚ï¼Œè¯·å‚ç…§è®¾å¤‡åˆ¶é€ å•†æä¾›çš„è¯´æ˜ã€‚\n\n\nåˆ·å…¥æ–°çš„ç³»ç»Ÿé•œåƒ\n\nå‡è®¾ä½ å·²ç»ä¸‹è½½äº†æ‰€éœ€çš„ç³»ç»Ÿé•œåƒæ–‡ä»¶ï¼ˆå¦‚system.img, boot.imgç­‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆ·å†™ï¼š\nåˆ·å†™bootåˆ†åŒºï¼šfastboot flash boot boot.img\nåˆ·å†™systemåˆ†åŒºï¼šfastboot flash system system.img\næ ¹æ®éœ€è¦åˆ·å†™å…¶ä»–åˆ†åŒºï¼Œæ¯”å¦‚recoveryï¼šfastboot flash recovery recovery.img\n\n\nå¯¹åº”LineageOSæ¥è¯´ï¼Œåˆ·å®Œboot.imgä¹‹åï¼Œå¯ä»¥ç›´æ¥ç”¨Apply Updateï¼Œadbä¾§è½½çš„æ–¹å¼åˆ·å…¥å‡çº§åŒ…adb -d sideload .\\lineage-22.2-20250705-nightly-bonito-signed.zipadb -d sideload .\\MindTheGapps-15.0.0-arm64-20250214_082511.zip\n\n\nå®Œæˆåˆ·æœºå¹¶é‡å¯è®¾å¤‡\nfastboot reboot\n\nè¯·æ³¨æ„ï¼Œä¸Šè¿°æ­¥éª¤ä¸ºé€šç”¨æŒ‡å¯¼ï¼Œå…·ä½“å‘½ä»¤å’Œæ­¥éª¤å¯èƒ½ä¼šæ ¹æ®è®¾å¤‡å“ç‰Œã€å‹å·ä»¥åŠä½ æƒ³è¦åˆ·å…¥çš„å…·ä½“å›ºä»¶ç±»å‹æœ‰æ‰€ä¸åŒã€‚åŠ¡å¿…ä»”ç»†é˜…è¯»ä½ æ‰€ç”¨è®¾å¤‡å’ŒROMçš„ç›¸å…³æ–‡æ¡£ï¼Œå¹¶å¤‡ä»½é‡è¦æ•°æ®ä»¥é˜²ä¸¢å¤±ã€‚åœ¨æ‰§è¡Œä»»ä½•è§£é”æˆ–åˆ·æœºæ“ä½œå‰ï¼Œè¯·ç¡®ä¿å……åˆ†äº†è§£å…¶é£é™©ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"Androidçš„æ”¯æŒåº“æ•´ç†","url":"/2023/02/08/%E7%BB%8F%E9%AA%8C/Android%E7%9A%84%E6%94%AF%E6%8C%81%E5%BA%93%E6%95%B4%E7%90%86/","content":"Androidçš„æ”¯æŒåº“æ•´ç†Android æ”¯æŒåº“ï¼ˆSupport Librariesï¼‰æ˜¯ä¸€ä¸ªé›†åˆï¼ŒåŒ…å«äº†å¤šä¸ªä¸åŒçš„åº“ï¼Œæ¯ä¸ªåº“éƒ½æ”¯æŒç‰¹å®šçš„ Android ç‰ˆæœ¬å’ŒåŠŸèƒ½ã€‚éšç€æ—¶é—´çš„å‘å±•å’ŒæŠ€æœ¯çš„è¿›æ­¥ï¼Œè¿™äº›åº“ä¹Ÿåœ¨ä¸æ–­æ¼”å˜ã€‚ä»¥ä¸‹æ˜¯ Android æ”¯æŒåº“çš„ä¸»è¦åˆ†ç±»åŠå…¶ç”¨é€”ï¼š\n\nCompatibility Libraries (å…¼å®¹æ€§åº“)\n\nv4 (support-v4)ï¼šæä¾›äº†æ ¸å¿ƒå…¼å®¹æ€§åŠŸèƒ½ï¼Œå¦‚ Fragmentã€ViewPager ç­‰ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨ä½ç‰ˆæœ¬ Android ä¸Šä½¿ç”¨è¾ƒæ–°çš„ API åŠŸèƒ½ã€‚\nv7 (appcompat-v7, recyclerview-v7, cardview-v7, ç­‰)ï¼šæä¾›äº†æ›´é«˜çº§çš„ UI ç»„ä»¶å’Œè¡Œä¸ºï¼Œå¦‚ Material Design ç»„ä»¶ï¼ˆToolbarã€CardViewï¼‰ã€RecyclerView ç­‰ã€‚\n\n\nMaterial Components Library (ææ–™ç»„ä»¶åº“)\n\nmaterial (material-components)ï¼šåŒ…å«äº† Material Design ç»„ä»¶ï¼Œå¦‚ BottomNavigationViewã€FloatingActionButton ç­‰ã€‚\n\n\nJetpack Libraries (Jetpack åº“)\n\nLifecycle (lifecycle)ï¼šç”¨äºç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬ ViewModelã€LiveData ç­‰ã€‚\nNavigation (navigation)ï¼šç”¨äºå®ç°åº”ç”¨å†…çš„å¯¼èˆªé€»è¾‘ã€‚\nPaging (paging)ï¼šç”¨äºé«˜æ•ˆåŠ è½½å’Œæ˜¾ç¤ºå¤§é‡æ•°æ®ã€‚\nRoom (room)ï¼šæä¾›äº†æŒä¹…å±‚è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ SQLite æ•°æ®åº“çš„å°è£…ã€‚\nData Binding (databinding)ï¼šå…è®¸åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ç»‘å®šæ•°æ®æºã€‚\nWorkManager (workmanager)ï¼šç”¨äºæ‰§è¡Œåå°ä»»åŠ¡ã€‚\nHilt (hilt)ï¼šæä¾›äº†ä¾èµ–æ³¨å…¥è§£å†³æ–¹æ¡ˆã€‚\nViewModel (viewmodel)ï¼šç”¨äºå­˜å‚¨ UI ç›¸å…³æ•°æ®ã€‚\nFragment (fragment)ï¼šæä¾›äº†æ›´çµæ´»çš„ Fragment ç®¡ç†ã€‚\nRecyclerview (recyclerview)ï¼šç”¨äºé«˜æ•ˆæ»šåŠ¨åˆ—è¡¨ã€‚\nCardView (cardview)ï¼šæä¾›äº†å¡ç‰‡å¼è§†å›¾ã€‚\nConstraintLayout (constraintlayout)ï¼šæä¾›äº†å¼ºå¤§çš„å¸ƒå±€çº¦æŸã€‚\nMedia3 (media3)ï¼šæä¾›äº†åª’ä½“æ’­æ”¾åŠŸèƒ½ã€‚\nCameraX (camerax)ï¼šæä¾›äº†ç›¸æœº APIã€‚\nDagger (dagger)ï¼šæä¾›äº†ä¾èµ–æ³¨å…¥æ¡†æ¶ã€‚\nRoom Persistence Library (room-persistence-library)ï¼šæä¾›äº† SQLite æ•°æ®åº“å°è£…ã€‚\nPaging Library (paging-library)ï¼šæä¾›äº†åˆ†é¡µåŠ è½½æ•°æ®çš„èƒ½åŠ›ã€‚\nNavigation Component (navigation-component)ï¼šç”¨äºå¤„ç†åº”ç”¨å†…çš„å¯¼èˆªé€»è¾‘ã€‚\nSecurity Component (security-component)ï¼šæä¾›äº†åŠ å¯†å’Œå®‰å…¨ç›¸å…³åŠŸèƒ½ã€‚\n\n\nTesting Libraries (æµ‹è¯•åº“)\n\nEspresso (espresso)ï¼šç”¨äº UI æµ‹è¯•ã€‚\nJUnit (junit)ï¼šç”¨äºå•å…ƒæµ‹è¯•ã€‚\nMockito (mockito)ï¼šç”¨äºæ¨¡æ‹Ÿå¯¹è±¡ã€‚\n\n\nOther Libraries (å…¶ä»–åº“)\n\nGson (gson)ï¼šç”¨äº JSON åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚\nRetrofit (retrofit)ï¼šç”¨äºç½‘ç»œè¯·æ±‚ã€‚\nOkHttp (okhttp)ï¼šæä¾›äº† HTTP å®¢æˆ·ç«¯ã€‚\nGlide (glide)ï¼šç”¨äºå›¾ç‰‡åŠ è½½å’Œç¼“å­˜ã€‚\nPicasso (picasso)ï¼šç”¨äºå›¾ç‰‡åŠ è½½å’Œç¼“å­˜ã€‚\nButterKnife (butterknife)ï¼šæä¾›äº†è§†å›¾ç»‘å®šã€‚\n\n\n\nè¯·æ³¨æ„ï¼Œéšç€ AndroidX çš„å¼•å…¥ï¼Œè¿™äº›åº“ä¸­çš„è®¸å¤šå·²ç»è¢«è¿ç§»åˆ° AndroidX å‘½åç©ºé—´ä¸‹ï¼Œå¹¶ä¸”å¾—åˆ°äº†æŒç»­çš„æ›´æ–°å’Œæ”¯æŒã€‚ä¾‹å¦‚ï¼Œv4 å’Œ v7 æ”¯æŒåº“çš„åŠŸèƒ½ç°åœ¨éƒ½è¢«åŒ…å«åœ¨ AndroidX ä¸­ã€‚å› æ­¤ï¼Œå¦‚æœä½ æ­£åœ¨å¼€å‘æ–°é¡¹ç›®æˆ–æ›´æ–°ç°æœ‰é¡¹ç›®ï¼Œåº”è¯¥ä½¿ç”¨ AndroidX çš„åº“ã€‚\nä»¥ä¸Šåˆ—å‡ºçš„åº“å¹¶éå…¨éƒ¨ï¼Œä½†æ¶µç›–äº† Android å¼€å‘ä¸­æœ€å¸¸ç”¨çš„åº“ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯èƒ½ä¼šæœ‰æ–°çš„åº“åŠ å…¥ï¼Œè€Œæ—§çš„åº“ä¹Ÿå¯èƒ½ä¼šè¢«æ·˜æ±°ã€‚Google ä¼šæŒç»­æ›´æ–°è¿™äº›åº“ä»¥æä¾›æ›´å¥½çš„æ”¯æŒå’Œæ–°åŠŸèƒ½ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"Retrofité¢è¯•é—®é¢˜","url":"/2022/02/08/%E7%BB%8F%E9%AA%8C/Retrofit%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/","content":"Retrofité¢è¯•é—®é¢˜ä»‹ç»ä¸‹Retrofitæ¡†æ¶,Retrofitä¸ºä»€ä¹ˆè¦åŒ…è£…okhttpå‘¢ï¼Ÿ\nRetrofit æ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨çš„HTTPå®¢æˆ·ç«¯ï¼Œç”¨äºAndroidå’ŒJavaåº”ç”¨ã€‚å®ƒå…è®¸ä½ é€šè¿‡å®šä¹‰æ¥å£æ¥æè¿°HTTPè¯·æ±‚ï¼ŒåŒ…æ‹¬URLã€è¯·æ±‚æ–¹æ³•ï¼ˆGET, POSTç­‰ï¼‰ã€è¯·æ±‚å¤´ä»¥åŠè¯·æ±‚ä½“ç­‰å†…å®¹ã€‚\nRetrofit åŒ…è£…äº† OkHttp ä¸»è¦æ˜¯ä¸ºäº†æä¾›æ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œç®€åŒ–ç½‘ç»œè¯·æ±‚çš„é…ç½®ä¸æ‰§è¡Œã€‚OkHttp æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„HTTPå®¢æˆ·ç«¯ï¼Œè€Œ Retrofit åœ¨å…¶åŸºç¡€ä¸Šæä¾›äº†å¯¹REST APIæ›´åŠ å‹å¥½çš„æ”¯æŒï¼Œå¦‚åŠ¨æ€ä»£ç†ã€æ³¨è§£é…ç½®è¯·æ±‚ã€æ•°æ®è½¬æ¢ç­‰ã€‚\n\nRetrofitä¸»è¦å®ç°æœºåˆ¶ï¼ŸRetrofitçš„ä½œç”¨ã€åŸç†\nRetrofit çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨åŠ¨æ€ä»£ç†æ¥åˆ›å»ºæ¥å£çš„å®ç°ç±»ï¼Œå°†HTTPè¯·æ±‚çš„æ–¹æ³•è°ƒç”¨è½¬åŒ–ä¸ºå®é™…çš„ç½‘ç»œè¯·æ±‚ã€‚å®ƒçš„ä½œç”¨æ˜¯è®©å¼€å‘è€…ä»¥ä¸€ç§å£°æ˜å¼çš„æ–¹å¼æ¥å®šä¹‰ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå®¹æ˜“åœ°è¿›è¡Œæ‰©å±•å’Œä¿®æ”¹ã€‚\n\nåº•å±‚æ˜¯å¦‚ä½•ç”¨ OkHttp è¯·æ±‚çš„ï¼Ÿ\nåœ¨åº•å±‚ï¼ŒRetrofit ä½¿ç”¨ OkHttp å‘é€ç½‘ç»œè¯·æ±‚ã€‚å½“ä½ æ„å»ºäº†ä¸€ä¸ª Retrofit å®ä¾‹æ—¶ï¼Œä½ å¯ä»¥ä¸ºå…¶æŒ‡å®šä¸€ä¸ª OkHttpClient å¯¹è±¡ï¼Œè¿™æ ·æ‰€æœ‰ç”±è¯¥å®ä¾‹å‘èµ·çš„ç½‘ç»œè¯·æ±‚éƒ½ä¼šä½¿ç”¨è¿™ä¸ªOkHttpClientã€‚\n\næ•´ä¸ªè¯·æ±‚æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ\nå®šä¹‰æœåŠ¡æ¥å£\nåˆ›å»ºRetrofitå®ä¾‹\nç”Ÿæˆæ¥å£çš„å®ç°å¯¹è±¡\nè°ƒç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œè§¦å‘ç½‘ç»œè¯·æ±‚\næ¥æ”¶å“åº”å¹¶è½¬æ¢ä¸ºå¯¹åº”çš„Javaå¯¹è±¡\n\nConverter çš„è½¬æ¢è¿‡ç¨‹ï¼Œæ€ä¹ˆé€šè¿‡ Gson è½¬æˆå¯¹åº”çš„æ•°æ®æ¨¡å‹çš„ï¼Ÿ\nRetrofit æ”¯æŒå¤šç§Converteråº“ï¼Œæ¯”å¦‚Gsonã€Jacksonç­‰ã€‚å½“æ”¶åˆ°æœåŠ¡å™¨å“åº”åï¼ŒRetrofitä¼šæ ¹æ®ä½ é…ç½®çš„Converterå·¥å‚å°†å“åº”ä½“è§£ææˆJavaå¯¹è±¡ã€‚\n\nRetrofitå¦‚ä½•æŒ‡å®šä¸€ä¸ªå®Œæ•´çš„urlè¿›è¡Œè¯·æ±‚\nå¯ä»¥é€šè¿‡åœ¨è¯·æ±‚æ–¹æ³•çš„æ³¨è§£ä¸­ç›´æ¥å†™å…¥å®Œæ•´çš„URLæ¥è¿›è¡Œè¯·æ±‚ï¼Œä¾‹å¦‚@GET(&quot;https://api.example.com/data&quot;).\n\nRetrofitè¿”å›çš„æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹\nRetrofit å¯ä»¥è¿”å›Callã€Observableæˆ–CompletableFutureç­‰å¼‚æ­¥ç»“æœç±»å‹ï¼ŒTæ˜¯ä½ å¸Œæœ›ä»æœåŠ¡å™¨è·å–çš„æ•°æ®ç±»å‹ã€‚\n\nRetrofitæ€ä¹ˆå®ç°å¤šçº¿ç¨‹\nRetrofit é»˜è®¤ä¸å¤„ç†å¤šçº¿ç¨‹é—®é¢˜ï¼Œä½†ä½ å¯ä»¥é€šè¿‡OkHttpçš„dispatcheré…ç½®çº¿ç¨‹æ± ï¼Œæˆ–è€…ç»“åˆRxJavaç­‰å¼‚æ­¥æ¡†æ¶æ¥å®ç°å¹¶å‘è¯·æ±‚ã€‚\n\nOkhttpå’ŒRetrofitè®¾è®¡æ¨¡å¼ä¸Šæœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿåˆ†åˆ«ä½¿ç”¨äº†ä»€ä¹ˆï¼Ÿè¯´ä¸€ä¸‹å¤§æ¦‚åŸç†ã€‚\nOkHttp ä¸»è¦é‡‡ç”¨äº†Builderæ¨¡å¼ã€Factoryæ¨¡å¼ã€‚\nRetrofit åˆ™é™¤äº†ä¸Šè¿°ä¸¤ç§æ¨¡å¼å¤–ï¼Œè¿˜å¤§é‡ä½¿ç”¨äº†Proxyæ¨¡å¼ï¼ˆåŠ¨æ€ä»£ç†ï¼‰ã€‚\n\nè®²è®²Retrofitçš„åŠ¨æ€ä»£ç†è¿‡ç¨‹ã€å¥½å¤„\nRetrofitåˆ©ç”¨Javaçš„åŠ¨æ€ä»£ç†ç‰¹æ€§ï¼Œåœ¨è¿è¡Œæ—¶ä¸ºä½ çš„APIæ¥å£ç”Ÿæˆå®ç°ç±»ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥å‡å°‘æ ·æ¿ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚\n\nRetrofitå¦‚ä½•è·¨çº¿ç¨‹ Retrofitçš„å¸¸ç”¨é…ç½®æœ‰å“ªäº›ï¼Ÿ\nRetrofit æœ¬èº«å¹¶ä¸ç›´æ¥è´Ÿè´£çº¿ç¨‹ç®¡ç†å’Œè·¨çº¿ç¨‹æ“ä½œï¼Œä½†å¯ä»¥é€šè¿‡å…¶çµæ´»çš„é€‚é…å™¨æœºåˆ¶å’Œç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚RxJavaï¼‰æ¥å®ç°è·¨çº¿ç¨‹çš„ä»»åŠ¡å¤„ç†ã€‚\n\n\nä½¿ç”¨CallAdapterè¿›è¡Œå¼‚æ­¥è°ƒç”¨ï¼šRetrofitå…è®¸ä½ å®šä¹‰è‡ªå·±çš„CallAdapterï¼Œé€šè¿‡è¿™ä¸ªé€‚é…å™¨å¯ä»¥å°†è¯·æ±‚çš„ç»“æœè½¬æ¢æˆä½ æƒ³è¦çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤æƒ…å†µä¸‹Retrofitæ”¯æŒCall&lt;T&gt;ç±»å‹çš„è¿”å›å€¼ç”¨äºåŒæ­¥æˆ–åŸºäºå›è°ƒçš„å¼‚æ­¥è¯·æ±‚ã€‚å¯¹äºæ›´å¤æ‚çš„å¼‚æ­¥å¤„ç†ï¼Œä½ å¯ä»¥é›†æˆåƒRxJavaè¿™æ ·çš„åº“ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„æ“ä½œç¬¦æ¥å¤„ç†å¼‚æ­¥æ•°æ®æµï¼Œå¹¶ä¸”èƒ½å¤Ÿæ–¹ä¾¿åœ°åœ¨ä¸åŒçš„çº¿ç¨‹ä¹‹é—´åˆ‡æ¢ã€‚\n\nRxJavaä¸Schedulersï¼šå½“ä½ ç»“åˆRxJavaä½¿ç”¨Retrofitæ—¶ï¼Œå¯ä»¥åˆ©ç”¨RxJavaçš„Schedulersæ¥æŒ‡å®šä»»åŠ¡åº”è¯¥åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œä»¥åŠç»“æœåº”è¯¥åœ¨å“ªä¸€ä¸ªçº¿ç¨‹è¢«è§‚å¯Ÿã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨subscribeOn(Schedulers.io())æ¥æŒ‡å®šç½‘ç»œè¯·æ±‚å‘ç”Ÿåœ¨IOçº¿ç¨‹ï¼Œè€Œä½¿ç”¨observeOn(AndroidSchedulers.mainThread())æ¥ç¡®ä¿ç»“æœåœ¨Androidä¸»çº¿ç¨‹è¢«å¤„ç†ã€‚\n\nOkHttpçš„Dispatcherï¼šè™½ç„¶è¿™ä¸æ˜¯ç›´æ¥å…³äºè·¨çº¿ç¨‹çš„æ–¹æ³•ï¼Œä½†æ˜¯äº†è§£OkHttpçš„Dispatcherä¹Ÿå¾ˆé‡è¦ã€‚Retrofitåº•å±‚ä¾èµ–äºOkHttpå‘é€HTTPè¯·æ±‚ï¼Œè€ŒOkHttpé€šè¿‡Dispatcherç®¡ç†å¹¶å‘è¯·æ±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä¼šé™åˆ¶åŒæ—¶è¿è¡Œçš„è¯·æ±‚æ•°é‡å¹¶ç®¡ç†è¿™äº›è¯·æ±‚æ‰€åœ¨çº¿ç¨‹æ± ã€‚è¿™æ„å‘³ç€å³ä½¿ä½ ä¸æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹ï¼ŒOkHttpä¹Ÿä¼šä¸ºä½ æœ‰æ•ˆåœ°å¤„ç†å¹¶å‘è¯·æ±‚ã€‚\n\nè‡ªå®šä¹‰Executorï¼šåœ¨åˆ›å»ºRetrofitå®ä¾‹æ—¶ï¼Œä½ å¯ä»¥è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„Executorï¼Œè¿™å¯ä»¥ç”¨æ¥æ§åˆ¶å›è°ƒæ–¹æ³•ï¼ˆå¦‚æˆåŠŸæˆ–å¤±è´¥å›è°ƒï¼‰æ‰§è¡Œæ‰€åœ¨çš„çº¿ç¨‹ã€‚è¿™å¯¹äºå¸Œæœ›å¯¹å›è°ƒçº¿ç¨‹æœ‰æ›´å¤šæ§åˆ¶çš„åº”ç”¨æ¥è¯´éå¸¸æœ‰ç”¨ã€‚\n\n\næ€»ç»“æ¥è¯´ï¼ŒRetrofité€šè¿‡ä¸RxJavaç­‰åº“çš„ç»“åˆï¼Œä»¥åŠOkHttpçš„è°ƒåº¦èƒ½åŠ›ï¼Œå®ç°äº†çµæ´»çš„è·¨çº¿ç¨‹æ“ä½œã€‚è¿™ç§æ–¹å¼ä½¿å¾—å¼€å‘è€…å¯ä»¥æ ¹æ®åº”ç”¨çš„å…·ä½“éœ€æ±‚ï¼Œè½»æ¾åœ°åœ¨ä¸åŒçº¿ç¨‹é—´è°ƒåº¦ç½‘ç»œè¯·æ±‚å’Œå“åº”å¤„ç†ã€‚\n\nåŒ…æ‹¬è®¾ç½®BaseUrlã€ConverterFactoryã€CallAdapterFactoryã€OkHttpClientç­‰ã€‚\n\nRetrofitâ½¹ç»œè¯·æ±‚å±‚â½¤çš„ä»€ä¹ˆï¼Ÿ\nRetrofit ç½‘ç»œè¯·æ±‚å±‚åŸºäºOkHttpã€‚\n\nRetrofitä¸­ä½¿â½¤äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ\nåŒ…å«ä½†ä¸é™äºBuilderæ¨¡å¼ã€Proxyæ¨¡å¼ã€Factoryæ¨¡å¼ç­‰ã€‚\n\nRetrofitåœ¨OkHttpä¸Šåšäº†å“ªäº›å°è£…ï¼ŸåŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†çš„åŒºåˆ«ï¼Œæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ\nRetrofit å°è£…äº†OkHttpï¼Œä½¿å…¶æ›´æ˜“äºé…ç½®å’Œä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†REST APIæ–¹é¢ã€‚\nåŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œé™æ€ä»£ç†éœ€è¦é¢„å…ˆå®šä¹‰ä»£ç†ç±»ã€‚Retrofitä½¿ç”¨çš„æ˜¯å‰è€…ï¼Œå› ä¸ºå®ƒæ›´çµæ´»ã€‚\n\nä½ ä»è¿™ä¸ªRetrofitä¸­å­¦åˆ°ä»€ä¹ˆæœ‰ä»·å€¼çš„æˆ–è€…è¯´å¯å€Ÿé‰´çš„è®¾è®¡æ€æƒ³ï¼Ÿ\næ¨¡å—åŒ–è®¾è®¡ã€é«˜å†…èšä½è€¦åˆã€ä¾èµ–å€’ç½®åŸåˆ™ç­‰ã€‚\n\nAndroidå¼€å‘Repositoryå±‚å¦‚ä½•æ‹¿åˆ°Retrofitè¿”å›çš„æ•°æ®ï¼Ÿ\nå¯ä»¥é€šè¿‡å®šä¹‰Repositoryå±‚çš„æœåŠ¡æ¥å£ï¼Œç„¶åæ³¨å…¥Retrofitç”Ÿæˆçš„APIæœåŠ¡æ¥è·å–æ•°æ®ã€‚\n\nRetrofitä¹Ÿç”¨aptå»åšæ˜¯å¦å¯è¡Œï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨aptè€Œç”¨åŠ¨æ€ä»£ç†ï¼Ÿ\nRetrofit æ—©æœŸç‰ˆæœ¬ç¡®å®ä½¿ç”¨äº† APT (Annotation Processing Tool)ï¼Œä½†ç°åœ¨æ›´å¤šæ˜¯åˆ©ç”¨Javaçš„åŠ¨æ€ä»£ç†åŠŸèƒ½ã€‚\n\næ€ä¹ˆæ›´å¥½çš„å¤„ç†Retrofitå·¥å…·ç±»ä¸­å°†æ‹¦æˆªåˆ°401çŠ¶æ€ç ï¼Ÿ\nå¯ä»¥é€šè¿‡è‡ªå®šä¹‰Interceptoræ‹¦æˆªå“åº”ï¼Œæ£€æŸ¥çŠ¶æ€ç æ˜¯å¦ä¸º401ï¼Œç„¶åé‡‡å–ç›¸åº”çš„æªæ–½ï¼Œå¦‚åˆ·æ–°tokenç­‰ã€‚\n\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"EQè°ƒèŠ‚å‚æ•°çš„æ„ä¹‰","url":"/2025/04/27/%E7%BB%8F%E9%AA%8C/EQ%E8%B0%83%E8%8A%82%E5%8F%82%E6%95%B0%E7%9A%84%E6%84%8F%E4%B9%89/","content":"EQè°ƒèŠ‚å‚æ•°çš„æ„ä¹‰åœ¨éŸ³é¢‘å¤„ç†ä¸­ï¼ŒDSPï¼ˆæ•°å­—ä¿¡å·å¤„ç†ï¼‰è°ƒèŠ‚æ˜¯ç”¨äºæ”¹å–„æˆ–ä¿®æ”¹å£°éŸ³ç‰¹æ€§çš„å…³é”®æŠ€æœ¯ã€‚å…¶ä¸­æåˆ°çš„Gainã€Qå’ŒFreqæ˜¯å‡è¡¡å™¨ï¼ˆEQï¼‰è®¾ç½®ä¸­çš„å…³é”®å‚æ•°ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„å«ä¹‰å’Œä½œç”¨ï¼š\n\nGainï¼ˆå¢ç›Šï¼‰ï¼š\n\nå«ä¹‰ï¼šå¢ç›ŠæŒ‡çš„æ˜¯å¯¹ç‰¹å®šé¢‘ç‡èŒƒå›´å†…çš„éŸ³é‡è¿›è¡Œå¢åŠ æˆ–å‡å°‘çš„è°ƒæ•´é‡ï¼Œé€šå¸¸ä»¥åˆ†è´ï¼ˆdBï¼‰ä¸ºå•ä½ã€‚\nä½œç”¨ï¼šé€šè¿‡è°ƒæ•´å¢ç›Šï¼Œå¯ä»¥å¢å¼ºæˆ–å‡å¼±æŸä¸ªç‰¹å®šé¢‘æ®µçš„å£°éŸ³å¼ºåº¦ï¼Œä»è€Œæ”¹å˜éŸ³é¢‘çš„æ•´ä½“å¹³è¡¡ã€‚ä¾‹å¦‚ï¼Œå¢åŠ ä½é¢‘çš„å¢ç›Šå¯ä»¥ä½¿éŸ³ä¹å¬èµ·æ¥æ›´åŠ ä¸°æ»¡ã€‚\n\n\nQå€¼ï¼ˆå“è´¨å› æ•°ï¼‰ï¼š\n\nå«ä¹‰ï¼šQå€¼å†³å®šäº†å‡è¡¡å™¨åœ¨è°ƒæ•´æŸä¸€é¢‘ç‚¹æ—¶å½±å“çš„é¢‘ç‡èŒƒå›´å®½åº¦ã€‚Qå€¼è¶Šé«˜ï¼Œå½±å“çš„é¢‘ç‡èŒƒå›´è¶Šçª„ï¼›åä¹‹ï¼ŒQå€¼è¶Šä½ï¼Œåˆ™å½±å“çš„é¢‘ç‡èŒƒå›´è¶Šå®½ã€‚\nä½œç”¨ï¼šå®ƒå…è®¸ç”¨æˆ·ç²¾ç¡®åœ°æ§åˆ¶éœ€è¦è°ƒæ•´çš„å…·ä½“é¢‘ç‡èŒƒå›´ã€‚å¯¹äºéœ€è¦ç²¾ç»†è°ƒæ•´çš„åœºåˆï¼Œæ¯”å¦‚æ¶ˆé™¤åé¦ˆå™ªéŸ³ï¼Œä½¿ç”¨é«˜Qå€¼æ¥ç²¾ç¡®å®šä½é—®é¢˜é¢‘ç‡éå¸¸æœ‰ç”¨ï¼›è€Œåœ¨å¸Œæœ›å¹³æ»‘åœ°è°ƒæ•´è¾ƒå¤§èŒƒå›´çš„éŸ³é¢‘ç‰¹æ€§æ—¶ï¼Œåˆ™ä¼šé€‰æ‹©è¾ƒä½çš„Qå€¼ã€‚\n\n\nFreqï¼ˆé¢‘ç‡ï¼‰ï¼š\n\nå«ä¹‰ï¼šFreqæ˜¯æŒ‡ä½ æƒ³è¦è°ƒæ•´çš„ä¸­å¿ƒé¢‘ç‡ç‚¹ï¼Œå³ä½ å¸Œæœ›å¢å¼ºæˆ–å‰Šå‡çš„é¢‘ç‡ä½ç½®ï¼Œé€šå¸¸ä»¥èµ«å…¹ï¼ˆHzï¼‰ä¸ºå•ä½è¡¨ç¤ºã€‚\nä½œç”¨ï¼šé€šè¿‡é€‰æ‹©ä¸åŒçš„ä¸­å¿ƒé¢‘ç‡ï¼Œä½ å¯ä»¥é’ˆå¯¹éŸ³é¢‘ä¿¡å·ä¸­çš„ç‰¹å®šéƒ¨åˆ†è¿›è¡Œè°ƒæ•´ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å‘ç°æŸæ®µéŸ³ä¹ä¸­çš„é«˜é¢‘è¿‡äºå°–é”ï¼Œå¯ä»¥é€šè¿‡é™ä½è¯¥é¢‘æ®µçš„å¢ç›Šæ¥è¿›è¡Œä¿®æ­£ã€‚\n\n\n\nç»¼ä¸Šæ‰€è¿°ï¼Œè¿™ä¸‰è€…å…±åŒå·¥ä½œï¼Œå¯ä»¥å¸®åŠ©å®ç°å¯¹éŸ³é¢‘ä¿¡å·çš„ç»†è‡´è°ƒæ§ï¼Œæ— è®ºæ˜¯ä¸ºäº†æ”¹è¿›å½•éŸ³è´¨é‡ã€è§£å†³å£°å­¦é—®é¢˜è¿˜æ˜¯åˆ›æ„æ€§åœ°å¡‘é€ å£°éŸ³ç‰¹æ€§ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"ViewModelåœ¨Activityå’ŒFragmentä¹‹é—´å…±äº«","url":"/2023/11/21/%E7%BB%8F%E9%AA%8C/ViewModel%E5%9C%A8Activity%E5%92%8CFragment%E4%B9%8B%E9%97%B4%E5%85%B1%E4%BA%AB/","content":"ViewModelåœ¨Activityå’ŒFragmentä¹‹é—´å…±äº«åœ¨ Android çš„ Jetpack ViewModel æ¶æ„ç»„ä»¶ä¸­ï¼š\n\nåœ¨ Activity ä¸­ä½¿ç”¨ by viewModels() åˆ›å»ºçš„ ViewModelï¼Œé»˜è®¤ä½œç”¨åŸŸæ˜¯è¯¥ Activityã€‚\nåœ¨ Fragment ä¸­ä½¿ç”¨ by activityViewModels() åˆ›å»ºçš„ ViewModelï¼Œå…¶ä½œç”¨åŸŸä¹Ÿæ˜¯ å®¿ä¸» Activityã€‚\n\nå› æ­¤ï¼Œåªè¦ ViewModel çš„ç±»å‹ç›¸åŒï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„ Factory å’Œ keyï¼ˆå³æ²¡æœ‰è‡ªå®šä¹‰ keyï¼‰ï¼Œé‚£ä¹ˆæ— è®ºä½ æ˜¯åœ¨ Activity ä¸­é€šè¿‡ viewModels() è¿˜æ˜¯åœ¨ Fragment ä¸­é€šè¿‡ activityViewModels() è·å–ï¼Œå®ƒä»¬éƒ½ä¼šå…±äº«åŒä¸€ä¸ª ViewModel å®ä¾‹ã€‚\nåŸç†ç®€è¿°ViewModel æ˜¯é€šè¿‡ ViewModelStoreOwner æ¥ç®¡ç†ç”Ÿå‘½å‘¨æœŸå’Œå­˜å‚¨çš„ã€‚  \n\nActivity æ˜¯ä¸€ä¸ª ViewModelStoreOwnerã€‚  \nviewModels() åœ¨ Activity ä¸­ä¼šä» Activity è‡ªå·±çš„ ViewModelStore ä¸­è·å–æˆ–åˆ›å»º ViewModelã€‚  \nactivityViewModels() åœ¨ Fragment ä¸­ä¼šå§”æ‰˜åˆ°å…¶å®¿ä¸» Activity çš„ ViewModelStore ä¸­å»è·å–æˆ–åˆ›å»º ViewModelã€‚\n\næ‰€ä»¥ï¼Œä¸¤è€…è®¿é—®çš„æ˜¯åŒä¸€ä¸ª ViewModelStoreï¼Œå¯¹äºåŒä¸€ä¸ª ViewModel ç±»å‹ï¼Œä¼šè¿”å›åŒä¸€ä¸ªå®ä¾‹ã€‚\nç¤ºä¾‹ä»£ç // Activityclass MainActivity : AppCompatActivity() &#123;    private val viewModel: MyViewModel by viewModels()&#125;// Fragmentclass MyFragment : Fragment() &#123;    private val viewModel: MyViewModel by activityViewModels()&#125;\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒMainActivity.viewModel å’Œ MyFragment.viewModel æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚\næ³¨æ„äº‹é¡¹\nå¦‚æœä½ åœ¨ viewModels() æˆ– activityViewModels() ä¸­ä¼ å…¥äº†ä¸åŒçš„ factory æˆ–è‡ªå®šä¹‰çš„ key å‚æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šåˆ›å»ºä¸åŒçš„å®ä¾‹ã€‚\nç¡®ä¿ ViewModel çš„æ„é€ æ–¹å¼ä¸€è‡´ï¼ˆæ¯”å¦‚éƒ½ä½¿ç”¨é»˜è®¤æ„é€ æˆ–ç›¸åŒçš„ ViewModelProvider.Factoryï¼‰ã€‚\n\næ€»ç»“âœ… æ˜¯åŒä¸€ä¸ª ViewModel å®ä¾‹ï¼Œä¸ä¼šé‡å¤åˆ›å»ºï¼Œå‰ææ˜¯ï¼š\n\nViewModel ç±»å‹ç›¸åŒï¼›\nä½¿ç”¨é»˜è®¤æˆ–ç›¸åŒçš„ factoryï¼›\næ²¡æœ‰æŒ‡å®šä¸åŒçš„ keyã€‚\n\nè¿™æ˜¯ ViewModel å®ç° Activity ä¸ Fragment ä¹‹é—´å…±äº«æ•°æ® çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"core-ktxåŠappcompatæ˜¯ä»€ä¹ˆ","url":"/2022/02/08/%E7%BB%8F%E9%AA%8C/core-ktx%E5%8F%8Aappcompat%E6%98%AF%E4%BB%80%E4%B9%88/","content":"core-ktxåŠappcompatæ˜¯ä»€ä¹ˆcore-ktxæ˜¯Androidå®˜æ–¹å‘å¸ƒçš„ä¸€ä¸ªKotlinæ‰©å±•åº“,ä¸»è¦æä¾›äº†å¯¹AndroidåŸç”ŸAPIçš„Kotlinè¯­è¨€æ‰©å±•å’Œä¼˜åŒ–ã€‚\ncore-ktxçš„ä¸»è¦ä½œç”¨åŒ…æ‹¬:\n\nä¸ºAndroidåŸç”ŸAPIæä¾›äº†æƒ¯ç”¨çš„Kotlinè¯­æ³•æ‰©å±•,ä½¿ä»£ç æ›´ç®€æ´ã€‚æ¯”å¦‚View.show()éšè—äº†findViewByIdã€‚\n\næä¾›äº†ä¸€äº›Kotlinç‰¹æœ‰çš„è¯­è¨€åŠŸèƒ½æ¥ä¼˜åŒ–Android API,å¦‚ç©ºå®‰å…¨ã€é«˜é˜¶å‡½æ•°ç­‰ã€‚\n\nåŠ å…¥äº†ä¸€äº›Kotlinåç¨‹ç›¸å…³çš„æ‰©å±•,å¯ä»¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨åç¨‹ã€‚\n\næä¾›äº†éƒ¨åˆ†æ ‡å‡†åº“å‡½æ•°çš„æ‰©å±•,å¦‚é›†åˆç›¸å…³çš„æ‰©å±•å‡½æ•°ã€‚\n\nç®€åŒ–äº†èµ„æºè®¿é—®,é¿å…é‡å¤ä»£ç ã€‚\n\næ”¯æŒäº†ä¸€äº›Kotlinç‰ˆæœ¬æ›´æ–°å¸¦æ¥çš„æ–°ç‰¹æ€§ã€‚\n\nå‘ä¸‹å…¼å®¹æ—§ç‰ˆæœ¬Android APIã€‚\n\n\næ€»ä¹‹,ä½¿ç”¨core-ktxå¯ä»¥å†™å‡ºæ›´ä¼˜é›…ç®€æ´çš„Androidä»£ç ,æé«˜å¼€å‘æ•ˆç‡ã€‚å®ƒé™ä½äº†ä»Javaè½¬æ¢åˆ°Kotlinçš„å­¦ä¹ æˆæœ¬,æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å¼•å…¥çš„åº“ã€‚ä¸»æµçš„Androidé¡¹ç›®åŸºæœ¬ä¸Šéƒ½ä¼šä¾èµ–è¯¥æ‰©å±•åº“ã€‚\n appcompatæ˜¯AndroidXä¸­çš„ä¸€ä¸ªé‡è¦æ”¯æŒåº“,å®ƒä¸»è¦æä¾›äº†å‘åå…¼å®¹æ—§ç‰ˆAndroidç³»ç»Ÿçš„åŠŸèƒ½ã€‚\nappcompatåº“çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬:\n\nä½¿å¾—åº”ç”¨å¯ä»¥è¿è¡Œåœ¨æ—§ç‰ˆAndroidç³»ç»Ÿä¸Š,æ¯”å¦‚æ”¯æŒMaterial Designä¸»é¢˜æ ·å¼ã€‚\n\næä¾›äº†Toolbarã€DrawerLayoutç­‰å‰æ²¿æ§ä»¶çš„å…¼å®¹å®ç°ã€‚\n\nåŒ…å«æ”¯æŒä¸åŒAndroidç‰ˆæœ¬çš„å…¼å®¹ç»„ä»¶,å¦‚Notificationã€JobSchedulerç­‰ã€‚\n\næä¾›é™æ€å·¥å…·ç±»å®ç°ç‰ˆæœ¬å…¼å®¹,å¦‚NotificationManagerCompatç­‰ã€‚\n\næ”¯æŒVDiffã€åŠ¨ç”»ç­‰UIæ¡†æ¶åœ¨ä½ç‰ˆæœ¬çš„è¿è¡Œã€‚\n\nå®ç°äº†å„Androidç‰ˆæœ¬è®¾è®¡è¯­è¨€çš„å¹³æ»‘è¿‡æ¸¡ã€‚\n\né€šè¿‡ä¸»é¢˜æ ·å¼ä½¿ç•Œé¢åœ¨ä¸åŒç³»ç»Ÿä¸Šä¿æŒä¸€è‡´çš„UIæ•ˆæœã€‚\n\nè§£å†³äº†ç³»ç»Ÿå¸¸è§Bugå¹¶å¢åŠ APIç¼ºå¤±çš„å®ç°ã€‚\n\næä¾›äº†AppCompatActivityã€AppCompatDialogç­‰åŸºç±»ã€‚\n\nå‘ä¸‹å…¼å®¹åˆ°Android 4.0ä»¥ä¸Šç‰ˆæœ¬ã€‚\n\n\næ€»ä¹‹,appcompatæ‰©å±•åº“å¯¹äºå®ç°Androidåº”ç”¨çš„ç‰ˆæœ¬å…¼å®¹éå¸¸é‡è¦ã€‚ä½¿ç”¨å®ƒå¯ä»¥å¤§å¹…å‡å°‘å…¼å®¹æ—§ç³»ç»Ÿçš„å¼€å‘å·¥ä½œ,æ˜¯å¼€å‘æ ‡å‡†åŒ–çš„Androidåº”ç”¨å¿…ä¸å¯å°‘çš„åº“ã€‚\næƒ³è¦ä½¿ç”¨registerForActivityResult å¾—ä½¿ç”¨AppCompat 1.3+fragment 1.2+activity 1.3+\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"ipå®šä½","url":"/2022/02/08/%E7%BB%8F%E9%AA%8C/ip%E5%AE%9A%E4%BD%8D/","content":"1ã€è‡ªæœ‰æ­å»ºIP å®šä½æ¡†æ¶ GeoIP2 for Javaï¼šhttps://blog.csdn.net/GodSuzzZ/article/details/108095385å®˜ç½‘ï¼šhttps://www.maxmind.com/en/geoip2-services-and-databasespyï¼šhttps://pypi.org/project/geoip2/#description\n2ã€å…è´¹è½¬æ¥å¯»æ‰¾å…è´¹è·å–ipä¿¡æ¯ç«™ç‚¹ç»è¿‡æˆ‘ä»¬è‡ªå·±æœåŠ¡è½¬ä¸€ä¸‹https://ipapi.co/218.104.82.74/json\n3ã€ä»˜è´¹æ¥å£https://timezoneapi.io/api/ip/?token=aeLjNqtdVzUgQeiYumTC\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"mavenæŒ‡ä»¤","url":"/2020/02/08/%E7%BB%8F%E9%AA%8C/maven%E6%8C%87%E4%BB%A4/","content":"mavenæŒ‡ä»¤mvn -v &#x2F;&#x2F;æŸ¥çœ‹ç‰ˆæœ¬mvn archetype:create &#x2F;&#x2F;åˆ›å»º Maven é¡¹ç›®mvn compile &#x2F;&#x2F;ç¼–è¯‘æºä»£ç mvn test-compile &#x2F;&#x2F;ç¼–è¯‘æµ‹è¯•ä»£ç mvn test &#x2F;&#x2F;è¿è¡Œåº”ç”¨ç¨‹åºä¸­çš„å•å…ƒæµ‹è¯•mvn site &#x2F;&#x2F;ç”Ÿæˆé¡¹ç›®ç›¸å…³ä¿¡æ¯çš„ç½‘ç«™mvn package &#x2F;&#x2F;ä¾æ®é¡¹ç›®ç”Ÿæˆ jar æ–‡ä»¶mvn install &#x2F;&#x2F;åœ¨æœ¬åœ° Repository ä¸­å®‰è£… jarmvn -Dmaven.test.skip&#x3D;true &#x2F;&#x2F;å¿½ç•¥æµ‹è¯•æ–‡æ¡£ç¼–è¯‘mvn clean &#x2F;&#x2F;æ¸…é™¤ç›®æ ‡ç›®å½•ä¸­çš„ç”Ÿæˆç»“æœmvn clean compile &#x2F;&#x2F;å°†.javaç±»ç¼–è¯‘ä¸º.classæ–‡ä»¶mvn clean package &#x2F;&#x2F;è¿›è¡Œæ‰“åŒ…mvn clean test &#x2F;&#x2F;æ‰§è¡Œå•å…ƒæµ‹è¯•mvn clean deploy &#x2F;&#x2F;éƒ¨ç½²åˆ°ç‰ˆæœ¬ä»“åº“mvn clean install &#x2F;&#x2F;ä½¿å…¶ä»–é¡¹ç›®ä½¿ç”¨è¿™ä¸ªjar,ä¼šå®‰è£…åˆ°mavenæœ¬åœ°ä»“åº“ä¸­mvn archetype:generate &#x2F;&#x2F;åˆ›å»ºé¡¹ç›®æ¶æ„mvn dependency:list &#x2F;&#x2F;æŸ¥çœ‹å·²è§£æä¾èµ–mvn dependency:tree com.xx.xxx &#x2F;&#x2F;çœ‹åˆ°ä¾èµ–æ ‘mvn dependency:analyze &#x2F;&#x2F;æŸ¥çœ‹ä¾èµ–çš„å·¥å…·mvn help:system &#x2F;&#x2F;ä»ä¸­å¤®ä»“åº“ä¸‹è½½æ–‡ä»¶è‡³æœ¬åœ°ä»“åº“mvn help:active-profiles &#x2F;&#x2F;æŸ¥çœ‹å½“å‰æ¿€æ´»çš„profilesmvn help:all-profiles &#x2F;&#x2F;æŸ¥çœ‹æ‰€æœ‰profilesmvn help:effective -pom &#x2F;&#x2F;æŸ¥çœ‹å®Œæ•´çš„pomä¿¡æ¯\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"scrcpyä¸é‡å®šå‘åˆ°ç”µè„‘å£°å¡","url":"/2024/07/31/%E7%BB%8F%E9%AA%8C/scrcpy%E4%B8%8D%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E7%94%B5%E8%84%91%E5%A3%B0%E5%8D%A1/","content":"scrcpyä¸é‡å®šå‘åˆ°ç”µè„‘å£°å¡scrcpy --render-driver=software --no-audio\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"sqlite3æŸ¥çœ‹æ•°æ®åº“","url":"/2018/12/05/%E7%BB%8F%E9%AA%8C/sqlite3%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93/","content":"sqlite3æŸ¥çœ‹æ•°æ®åº“.db æ–‡ä»¶é€šå¸¸æ˜¯ SQLite æ•°æ®åº“æ–‡ä»¶ã€‚Room æ˜¯ Android å®˜æ–¹æ¨èçš„æœ¬åœ°æ•°æ®åº“åº“ï¼Œå®ƒåº•å±‚ä½¿ç”¨çš„å°±æ˜¯ SQLiteã€‚å› æ­¤ï¼ŒRoom ç”Ÿæˆçš„ .db æ–‡ä»¶æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ SQLite æ•°æ®åº“æ–‡ä»¶ã€‚\nä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åœ¨ç”µè„‘ä¸ŠæŸ¥çœ‹ .db æ–‡ä»¶çš„å†…å®¹ï¼š\n\nâœ… æ–¹æ³•ä¸€ï¼šä½¿ç”¨ sqlite3 å‘½ä»¤è¡Œå·¥å…·ï¼ˆæ¨èï¼‰æ­¥éª¤å¦‚ä¸‹ï¼š\nå®‰è£… sqlite3 å·¥å…·ï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰ï¼š\n\nmacOSï¼ˆé€šå¸¸å·²é¢„è£…ï¼‰ï¼šsqlite3 --version\nWindowsï¼š\nä¸‹è½½åœ°å€ï¼šhttps://www.sqlite.org/download.html\nä¸‹è½½ sqlite-tools-win32-*.zipï¼Œè§£å‹åå°† sqlite3.exe åŠ å…¥ç³»ç»Ÿ PATHã€‚\n\n\nLinuxï¼ˆUbuntu&#x2F;Debianï¼‰ï¼šsudo apt install sqlite3\n\n\næ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰å¹¶è¿›å…¥ .db æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œä¾‹å¦‚ï¼š\ncd /path/to/your/database/\n\nä½¿ç”¨ sqlite3 æ‰“å¼€æ•°æ®åº“ï¼š\nsqlite3 your_database.db\n\nå¸¸ç”¨å‘½ä»¤ï¼ˆåœ¨ sqlite3 äº¤äº’ç•Œé¢ä¸­è¾“å…¥ï¼‰ï¼š\n.tables                 -- åˆ—å‡ºæ‰€æœ‰è¡¨.schema table_name      -- æŸ¥çœ‹æŸå¼ è¡¨çš„ç»“æ„SELECT * FROM table_name; -- æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ®.mode column            -- è®¾ç½®è¾“å‡ºä¸ºåˆ—æ¨¡å¼ï¼ˆæ›´æ˜“è¯»ï¼‰.headers on             -- æ˜¾ç¤ºåˆ—å.quit                   -- é€€å‡º\n\n\nğŸ’¡ ç¤ºä¾‹ï¼š\nsqlite3 app.db.mode column.headers on.tablesSELECT * FROM User;.quit\n\n\nâœ… æ–¹æ³•äºŒï¼šä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ï¼ˆæ›´ç›´è§‚ï¼‰å¦‚æœä½ ä¸ä¹ æƒ¯å‘½ä»¤è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å›¾å½¢åŒ– SQLite æµè§ˆå™¨ï¼š\n\nDB Browser for SQLiteï¼ˆå…è´¹å¼€æºï¼Œè·¨å¹³å°ï¼‰å®˜ç½‘ï¼šhttps://sqlitebrowser.org/\nä½¿ç”¨æ­¥éª¤ï¼š\n\nä¸‹è½½å¹¶å®‰è£…ã€‚\næ‰“å¼€è½¯ä»¶ â†’ â€œOpen Databaseâ€ â†’ é€‰æ‹©ä½ çš„ .db æ–‡ä»¶ã€‚\nåœ¨ â€œBrowse Dataâ€ æ ‡ç­¾é¡µæŸ¥çœ‹è¡¨å†…å®¹ã€‚\nåœ¨ â€œDatabase Structureâ€ æŸ¥çœ‹è¡¨ç»“æ„ã€‚\n\n\nå…¶ä»–å·¥å…·ï¼šDBeaverã€SQLiteStudioã€Android Studio è‡ªå¸¦çš„ Database Inspectorï¼ˆéœ€è¿æ¥è®¾å¤‡è°ƒè¯•ï¼‰ç­‰ã€‚\n\n\n\nâš ï¸ æ³¨æ„äº‹é¡¹\nå¦‚æœ .db æ–‡ä»¶æ˜¯ä» Android è®¾å¤‡ä¸­æå–çš„ï¼ˆæ¯”å¦‚é€šè¿‡ adb pullï¼‰ï¼Œç¡®ä¿åº”ç”¨æœªè¿è¡Œæ—¶å†æ‹·è´ï¼Œå¦åˆ™å¯èƒ½æŸåæˆ–é”ä½ã€‚\nRoom å¯èƒ½ä¼šå¯¹å­—æ®µåè¿›è¡Œæ··æ·†ï¼ˆå¦‚æœå¯ç”¨äº† ProGuard&#x2F;R8 å¹¶é…ç½®äº†é‡å‘½åï¼‰ï¼Œä½†è¡¨ç»“æ„æœ¬èº«ä»æ˜¯å¯è¯»çš„ã€‚\næŸäº› Room æ•°æ®åº“å¯èƒ½åŠ å¯†ï¼ˆå¦‚ä½¿ç”¨ SQLCipherï¼‰ï¼Œæ­¤æ—¶æ™®é€š sqlite3 æ— æ³•æ‰“å¼€ï¼Œéœ€è¦å¯¹åº”è§£å¯†å·¥å…·ã€‚\n\n\nå¦‚æœä½ æä¾›å…·ä½“çš„ .db æ–‡ä»¶æ¥æºï¼ˆæ¯”å¦‚æ˜¯å¦åŠ å¯†ã€ä»å“ªå¯¼å‡ºçš„ï¼‰ï¼Œæˆ‘å¯ä»¥ç»™å‡ºæ›´é’ˆå¯¹æ€§çš„å»ºè®®ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"stringsä¸­çš„æ–‡æœ¬æ›¿æ¢","url":"/2017/02/08/%E7%BB%8F%E9%AA%8C/strings%E4%B8%AD%E7%9A%84%E6%96%87%E6%9C%AC%E6%9B%BF%E6%8D%A2/","content":"stringsä¸­çš„æ–‡æœ¬æ›¿æ¢\nå®é™…å¼€å‘çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬æœ‰æ—¶å€™ä¼šé‡åˆ°ï¼Œä¸€ä¸ªTextViewé‡Œé¢ä¼šé‡åˆ°ä¼šæœ‰ä¸€ä¸ªä¸€å¤§ä¸²å›ºå®šçš„æ–‡å­—ï¼Œè€Œé‡Œé¢çš„æ•°å­—æˆ–è€…ä¸ªåˆ«å­—éœ€è¦æ ¹æ®åå°çš„æ¥å£è€Œå±•ç¤ºçš„ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨string.xmlæ–‡ä»¶é‡Œ ä½¿ç”¨ %sã€%1$sã€%dã€%1$dï¼Œè€Œåœ¨é¡µé¢å±•ç¤ºçš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦ç”¨å®é™…å±•ç¤ºçš„æ–‡å­—æˆ–è€…æ•°æ®æ›¿æ¢æ‰è¿™äº›å ä½ç¬¦å°±å¯ä»¥äº†ã€‚\n\n\n%1$sè¡¨ç¤ºæŠŠç¬¬ä¸€ä¸ªä½ç½®çš„å ä½ç¬¦æ›¿æ¢æˆstringç±»å‹\n\n%1$dè¡¨ç¤ºæŠŠç¬¬ä¸€ä¸ªä½ç½®çš„å ä½ç¬¦æ›¿æ¢æˆintç±»å‹\n\n\næ•°å­—è¡¨ç¤ºæ›¿æ¢å­—ç¬¦ä¸²ä¸­ç¬¬å‡ ä¸ªè¢«æ›¿æ¢çš„ä½ç½®ï¼Œè‹¥ä¸€ä¸ªå­—ç¬¦ä¸²è¦æ›¿æ¢ä¸¤ä¸ªintç±»å‹ï¼Œåœ¨æ›¿æ¢ä½ç½®åˆ†åˆ«å†™%1$då’Œ%2$d.\n%s ã€%dä¸ºç¼©å†™æ–¹å¼ï¼Œåªæ›¿æ¢ä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥è¿™ä¹ˆå†™ã€‚\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"å…³äºBroadcastReceiver","url":"/2017/08/09/%E7%BB%8F%E9%AA%8C/%E5%85%B3%E4%BA%8EBroadcastReceiver/","content":"ä¸ºä»€ä¹ˆAndroidè¦ä½¿ç”¨å„ç§BroadcastReceiverï¼Ÿå‰è¨€ä½œä¸ºAndroidå››å¤§ç»„ä»¶ä¹‹ä¸€çš„BroadcastReceiverï¼ˆå¹¿æ’­æ¥æ”¶è€…ï¼‰ï¼ŒåŒActivityï¼ˆæ´»åŠ¨ï¼‰ä¸€æ ·ï¼Œç»å¸¸è¢«å¤§å®¶ç”¨åˆ°ï¼Œç½‘ä¸Šä¹Ÿæ˜¯ä¸€å †å¯¹å®ƒçš„è®²è§£ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆAndroidè¦ç”¨å¹¿æ’­æ¥æ”¶è€…è¿™ç§æœºåˆ¶å‘¢ï¼Ÿ\nä½œç”¨\nè·¨è¿›ç¨‹é€šä¿¡ï¼šä¸€ä¸ª App å¯ä»¥ç›‘å¬å¦ä¸€ä¸ª App å‘å‡ºçš„å¹¿æ’­ï¼ˆéœ€æƒé™ï¼‰ã€‚\nå“åº”ç³»ç»Ÿäº‹ä»¶ï¼šå¦‚å¼€æœºå®Œæˆã€ç½‘ç»œå˜åŒ–ã€ç”µé‡ä½ã€å±å¹•å¼€å…³ç­‰ã€‚\næ¨¡å—è§£è€¦ï¼šç»„ä»¶ä¹‹é—´æ— éœ€ç›´æ¥å¼•ç”¨ï¼Œé€šè¿‡å¹¿æ’­ä¼ é€’æ¶ˆæ¯ã€‚\n\nå¸¸è§ç³»ç»Ÿå¹¿æ’­ç¤ºä¾‹\n\n\nå¹¿æ’­ Action\nè¯´æ˜\n\n\n\nIntent.ACTION_BOOT_COMPLETED\nå¼€æœºå®Œæˆ\n\n\nConnectivityManager.CONNECTIVITY_ACTION\nç½‘ç»œçŠ¶æ€å˜åŒ–\n\n\nIntent.ACTION_SCREEN_ON/OFF\nå±å¹•äº®&#x2F;ç­\n\n\nIntent.ACTION_BATTERY_LOW\nç”µé‡ä½\n\n\nå¹¿æ’­åˆ†ä¸ºï¼šæ™®é€šå¹¿æ’­å’Œæœ‰åºå¹¿æ’­\n\nNormal broadcastsï¼ˆæ™®é€šå¹¿æ’­ï¼‰ï¼šNormal broadcastsæ˜¯å®Œå…¨å¼‚æ­¥çš„å¯ä»¥åŒä¸€æ—¶é—´è¢«æ‰€æœ‰çš„æ¥æ”¶è€…æ¥æ”¶åˆ°ã€‚æ¶ˆæ¯çš„ä¼ é€’æ•ˆç‡æ¯”è¾ƒé«˜ã€‚ä½†ç¼ºç‚¹æ˜¯æ¥æ”¶è€…ä¸èƒ½å°†æ¥æ”¶çš„æ¶ˆæ¯çš„å¤„ç†ä¿¡æ¯ä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ä¹Ÿä¸èƒ½åœæ­¢æ¶ˆæ¯çš„ä¼ æ’­ã€‚å¯ä»¥åˆ©ç”¨Context.sendBroadcastå‘é€ã€‚\n\nOrdered broadcastsï¼ˆæœ‰åºå¹¿æ’­ï¼‰ï¼šOrdered broadcastsçš„æ¥æ”¶è€…æŒ‰ç…§ä¸€å®šçš„ä¼˜å…ˆçº§è¿›è¡Œæ¶ˆæ¯çš„æ¥æ”¶ã€‚ä¸€æ¬¡ä¼ é€åˆ°ä¸€ä¸ªæ¥æ”¶å™¨ã€‚ éšç€æ¯ä¸ªæ¥æ”¶å™¨ä¾æ¬¡æ‰§è¡Œï¼Œå®ƒå¯ä»¥å°†ç»“æœä¼ æ’­åˆ°ä¸‹ä¸€ä¸ªæ¥æ”¶å™¨ï¼Œæˆ–è€…å®ƒå¯ä»¥å®Œå…¨ä¸­æ­¢å¹¿æ’­ï¼Œä½¿å¾—å®ƒä¸ä¼šè¢«ä¼ é€’åˆ°å…¶ä»–æ¥æ”¶å™¨ã€‚ å‘½ä»¤æ¥æ”¶å™¨è¿è¡Œå¯ä»¥ç”¨åŒ¹é…çš„æ„å›¾è¿‡æ»¤å™¨çš„android:priorityå±æ€§æ§åˆ¶; å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„æ¥æ”¶å™¨å°†ä»¥ä»»æ„é¡ºåºè¿è¡Œã€‚å¯ä»¥åˆ©ç”¨Context.sendOrderedBroadcastå‘é€ã€‚\n\n\nå®˜ç½‘ä¸Šä»‹ç»å¹¿æ’­æ˜¯ç”¨çš„ç›‘å¬ç³»ç»Ÿç½‘ç»œçŠ¶å†µçš„ä¾‹å­ï¼Œå…¶å®å…³é”®å­—åœ¨äºâ€œç›‘å¬â€ã€‚\n(1) åˆ›å»ºå¹¿æ’­æ¥æ”¶è€…\nBroadcastReceiveræ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ›å»ºè‡ªå·±çš„å¹¿æ’­æ¥æ”¶è€…å°±è¦ç»§æ‰¿å®ƒï¼Œç»§æ‰¿åä¼šæœ‰æç¤ºé‡å†™onReceiveæ–¹æ³•ã€‚\npublic class NetworkBroadcastReceiver extends BroadcastReceiver &#123;    @Override    public void onReceive(Context context, Intent intent) &#123;       if (intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION)) &#123;            ConnectivityManager manager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);            NetworkInfo activeNetwork = manager.getActiveNetworkInfo();            if (activeNetwork != null &amp;&amp; activeNetwork.isAvailable()) &#123;                Toast.makeText(context, &quot;æœ‰ç½‘ç»œè¿æ¥&quot;, Toast.LENGTH_SHORT).show();            &#125; else &#123;              \tToast.makeText(context, &quot;æ— ç½‘ç»œè¿æ¥&quot;, Toast.LENGTH_SHORT).show();            &#125;        &#125;    &#125;&#125;\nå¹¿æ’­æ¥æ”¶è€…çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»æ¥æ”¶å¹¿æ’­å¼€å§‹ï¼Œåˆ°onRecevieræ–¹æ³•æ‰§è¡Œå®Œæˆç»“æŸï¼Œæ—¶é—´å¾ˆçŸ­ï¼Œä¸€èˆ¬ä¸å…è®¸å¤„ç†å¤§æ‰¹é‡è€—æ—¶æ“ä½œã€‚è¿™é‡Œé¡ºä¾¿ç»™å‡ºæ‰“å°NetworkInfoçš„ä¿¡æ¯ä»¥ä¾›å‚è€ƒï¼š\nNetworkInfo: type: WIFI[,type_ext: WIFI],state: CONNECTED/CONNECTED,reason: (unspecified),extra: &quot;TP-LINK_EFE8&quot;,roaming: false,failover: false,isAvailable: true,isConnectedToProvisioningNetwork: false,isIpv4Connected: true,isIpv6Connected: false[type: MOBILE[LTE],state: CONNECTED/CONNECTED,reason: connected,extra: cmnet,roaming: false,failover: false,isAvailable: true,isConnectedToProvisioningNetwork: false]\n\n(2) é™æ€æ³¨å†Œå¹¿æ’­\né™æ€æ³¨å†Œå¹¿æ’­ï¼Œéœ€è¦åœ¨AndroidManifest.xmlä¸­ï¼Œæ·»åŠ  æ ‡ç­¾ï¼Œå°†å¹¿æ’­æ¥æ”¶è€…æ³¨å†Œåˆ°åº”ç”¨ä¸­ã€‚è¦æ·»åŠ è¿‡æ»¤å™¨IntentFilterï¼Œç”±äºç³»ç»Ÿç½‘ç»œå˜åŒ–æ—¶ä¼šå‘é€ConnectivityManager.CONNECTIVITY_ACTION (â€œandroid.net.conn.CONNECTIVITY_CHANGEâ€)çš„å¹¿æ’­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç›‘å¬è¿™æ¡å¹¿æ’­ã€‚\n&lt;receiver android:name=&quot;.NetworkBroadcastReceiver&quot;&gt;     &lt;intent-filter android:priority=&quot;1000&quot;&gt;          &lt;action android:name=&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;/&gt;     &lt;/intent-filter&gt;&lt;/receiver&gt;\nè¿™é‡Œpriorityä»£è¡¨çš„æ˜¯æ‰§è¡Œé¡ºåºçš„ä¼˜å…ˆçº§ï¼Œå–å€¼[-1000,1000]ï¼Œåé¢çš„æœ‰åºå¹¿æ’­ä¼šè®²åˆ°ã€‚\n(3) åŠ¨æ€æ³¨å†Œå¹¿æ’­\ni.æ„å›¾è¿‡æ»¤å™¨ IntentFilter ç”¨äºç»™BroadcastReceiverç»‘å®šç›‘å¬å¹¿æ’­ç±»å‹ii.è‡ªå®šä¹‰çš„BroadcastReceiverï¼Œä¾‹å¦‚ä¸Šæ–‡çš„NetworkChangeBroadcastReceiveriii.æ³¨å†Œæ–¹æ³• Context.registerReceiver(Receiver, IntentFilter)iv.åæ³¨å†Œæ–¹æ³• unregisterReceiver(Receiver)\nIntentFilter mFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);NetworkChangeBroadcastReceiver mReceiver = new NetworkChangeBroadcastReceiver();registerReceiver(mReceiver, mFilter);@Overridepublic void onDestroy() &#123;   super.onDestroy();   unregisterReceiver(mReceiver);&#125;\nè¿™æ®µä»£ç æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œå¯ä»¥åœ¨onCreateçš„æ—¶å€™æ³¨å†Œï¼Œåœ¨onDestroyçš„æ—¶å€™åæ³¨å†Œï¼Œä¹Ÿå¯ä»¥åœ¨onResumeå’ŒonPauseä¸­æ‰§è¡Œè¿™å†™æ–¹æ³•ã€‚ä¸è¿‡Google APIæ¨èçš„åšæ³•ï¼Œåœ¨activityçš„onResume()ä¸­æ³¨å†Œï¼Œåœ¨onPause()åæ³¨å†Œã€‚æ•ˆæœæ˜¯å½“ç•Œé¢pauseæ—¶ï¼Œå°±ä¸æ¥æ”¶å¹¿æ’­ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„ç³»ç»Ÿå¼€é”€ã€‚è¿˜æœ‰å°±æ˜¯ä¸€å®šè¦ä¸»åŠ¨åæ³¨å†Œä½ çš„å¹¿æ’­ï¼Œå¦åˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚\nåŠ¨æ€æ³¨å†Œå’Œé™æ€æ³¨å†Œçš„å·®åˆ«ï¼šåŠ¨æ€æ³¨å†Œåï¼Œå¹¿æ’­æ¥æ”¶è€…ä¼šä¾èµ–Activityçš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œé™æ€æ³¨å†Œçš„å¹¿æ’­ä¸ä¼šï¼Œåªè¦æ˜¯ç³»ç»Ÿæœ‰å‘å‡ºçš„å¹¿æ’­ï¼Œå®ƒéƒ½ä¼šæ¥æ”¶ï¼Œä¸ç¨‹åºæ˜¯å¦å¯åŠ¨æ— å…³ã€‚\n(4) å‘é€å¹¿æ’­\nå…·ä½“ä½¿ç”¨çš„æ–¹æ³•æ˜¯sendBroadcast(Intent intent)ï¼Œé€šè¿‡éšå¼è°ƒç”¨å°±å¯ä»¥ï¼Œæ³¨æ„actionæ˜¯ä½ è‡ªå®šä¹‰çš„ï¼Œæ„æ€å°±æ˜¯ä¸å¯ä»¥å‘é€ç³»ç»Ÿå¹¿æ’­ï¼Œæˆ‘è¯•äº†ï¼Œç›´æ¥å°±å´©äº†ã€‚\nIntent intent = new Intent();intent.setAction(&quot;com.fleming.chen.mybroadcast&quot;);sendBroadcast(intent);\né’ˆå¯¹(3)(4)ä¸¤ç‚¹ï¼Œå¦‚æœä½ è¦ç”¨åˆ°çš„å¹¿æ’­ä»…ä»…æ˜¯åº”ç”¨é‡Œçš„ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨LocalBroadcastManagerè¿™ä¸ªç±»ï¼Œå®ƒä¸ä¸Šè¿°æè¿°ä¸­çš„åŒºåˆ«åœ¨äºï¼š\nLocalBroadcastManager.getInstance(context).registerReceiver(mReceiver, mFilter);LocalBroadcastManager.getInstance(context).unregisterReceiver(mReceiver);LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\né€šè¿‡sendBroadcastå‘é€çš„å¹¿æ’­ï¼Œä¸ä¼šè¢«é€šè¿‡LocalBroadcastManagerç±»æ³¨å†Œçš„å¹¿æ’­æ¥æ”¶è€…æ¥æ”¶ï¼Œåä¹‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸¤è€…æ˜¯ä¸å¯ä»¥â€äº’é€šå‹è°Šâ€œçš„ï¼Œæ¨èä½¿ç”¨LocalBroadcastManageræ¥ç®¡ç†å¹¿æ’­ã€‚\n(5) å‘é€æœ‰åºå¹¿æ’­\nä¸Šé¢è®²äº†é‚£ä¹ˆå¤šéƒ½æ˜¯æ™®é€šå¹¿æ’­ï¼Œé‚£ä»€ä¹ˆåˆæ˜¯æœ‰åºå¹¿æ’­å‘¢ï¼Ÿ\næœ‰åºå¹¿æ’­å…³é”®åœ¨äºè¿™ç±»å¹¿æ’­æ˜¯æœ‰åºçš„ï¼Œä¸Šæ–‡ä¸­æåˆ°priorityï¼Œè¿™æ˜¯IntentFilterçš„å±æ€§ï¼Œç”¨æ¥è®©ä¸åŒçš„å¹¿æ’­æ‹¥æœ‰ä¸åŒçš„æ‰§è¡Œé¡ºåºï¼Œå³ä¼˜å…ˆçº§ä¸åŒã€‚\nå®šä¹‰ä¸‰ç§ä¸åŒä¼˜å…ˆçº§çš„å¹¿æ’­æ¥æ”¶è€…ï¼š\npublic class MyBroadcastReceiver extends BroadcastReceiver &#123;    @Override    public void onReceive(Context context, Intent intent) &#123;        if (intent.getAction().equals(&quot;com.fleming.chen.myreceiver&quot;)) &#123;            String message = getResultData();            Toast.makeText(context, message, Toast.LENGTH_SHORT).show();            setResultData(&quot;è¿™æ˜¯ä¿®æ”¹åçš„æ•°æ®&quot;);//ç¬¬ä¸€ä¸ªæ¥æ”¶åå¤„ç†ä¸€ä¸‹ï¼Œå†äº¤ç»™ä¸‹ä¸€ä¸ª        &#125;    &#125;&#125;public class MyBroadcastReceiver2 extends BroadcastReceiver &#123;    @Override    public void onReceive(Context context, Intent intent) &#123;        if (intent.getAction().equals(&quot;com.fleming.chen.myreceiver&quot;)) &#123;            String message = getResultData();//å¾—åˆ°ä¸Šä¸€ä¸ªçš„å¤„ç†ç»“æœ            Toast.makeText(context, message, Toast.LENGTH_SHORT).show();            abortBroadcast();//ä¸»åŠ¨åœæ­¢å¹¿æ’­ï¼Œä¸å†ç»§ç»­ä¼ ä¸‹å»        &#125;    &#125;&#125;public class MyBroadcastReceiver3 extends BroadcastReceiver &#123;    @Override    public void onReceive(Context context, Intent intent) &#123;        if (intent.getAction().equals(&quot;com.fleming.chen.myreceiver&quot;)) &#123;          \t//æ­¤æ—¶è™½ç„¶è¯¥å¹¿æ’­æ¥æ”¶è€…ä¹Ÿç›‘å¬äº†ï¼Œä¸è¿‡ä¹Ÿæ²¡æœ‰å†…å®¹            Toast.makeText(context, getResultData(), Toast.LENGTH_SHORT).show();        &#125;    &#125;&#125;\n&lt;receiver android:name=&quot;.MyBroadcastReceiver&quot; &gt;      &lt;intent-filter android:priority=&quot;1000&quot;&gt;          &lt;action android:name=&quot;com.fleming.chen.myreceiver&quot;/&gt;      &lt;/intent-filter&gt;&lt;/receiver&gt;&lt;receiver android:name=&quot;.MyBroadcastReceiver2&quot;&gt;      &lt;intent-filter android:priority=&quot;0&quot;&gt;          &lt;action android:name=&quot;com.fleming.chen.myreceiver&quot;/&gt;      &lt;/intent-filter&gt;&lt;/receiver&gt;&lt;receiver android:name=&quot;.MyBroadcastReceiver3&quot;&gt;      &lt;intent-filter android:priority=&quot;-1000&quot;&gt;          &lt;action android:name=&quot;com.fleming.chen.myreceiver&quot;/&gt;      &lt;/intent-filter&gt;&lt;/receiver&gt;\nIntent intent = new Intent();intent.setAction(&quot;com.fleming.chen.myreceiver&quot;);sendOrderedBroadcast(intent, null, null, null, 0, &quot;è¿™æ˜¯åˆå§‹çš„æ•°æ®&quot;, null);\nå¯¹äºå¹¿æ’­çš„å†…å®¹ï¼Œåœ¨Android 7.0ä¸Šåšäº†ä¿®æ”¹ï¼Œå³Project Svelteï¼šåå°ä¼˜åŒ–\nAndroid 7.0 ç§»é™¤äº†ä¸‰é¡¹éšå¼å¹¿æ’­ï¼Œä»¥å¸®åŠ©ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œç”µé‡æ¶ˆè€—ã€‚æ­¤é¡¹å˜æ›´å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºéšå¼å¹¿æ’­ä¼šåœ¨åå°é¢‘ç¹å¯åŠ¨å·²æ³¨å†Œä¾¦å¬è¿™äº›å¹¿æ’­çš„åº”ç”¨ã€‚åˆ é™¤è¿™äº›å¹¿æ’­å¯ä»¥æ˜¾è‘—æå‡è®¾å¤‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚\nç§»åŠ¨è®¾å¤‡ä¼šç»å†é¢‘ç¹çš„è¿æ¥å˜æ›´ï¼Œä¾‹å¦‚åœ¨ WLAN å’Œç§»åŠ¨æ•°æ®ä¹‹é—´åˆ‡æ¢æ—¶ã€‚ç›®å‰ï¼Œå¯ä»¥é€šè¿‡åœ¨åº”ç”¨æ¸…å•ä¸­æ³¨å†Œä¸€ä¸ªæ¥æ”¶å™¨æ¥ä¾¦å¬éšå¼ CONNECTIVITY_ACTION å¹¿æ’­ï¼Œè®©åº”ç”¨èƒ½å¤Ÿç›‘æ§è¿™äº›å˜æ›´ã€‚ç”±äºå¾ˆå¤šåº”ç”¨ä¼šæ³¨å†Œæ¥æ”¶æ­¤å¹¿æ’­ï¼Œå› æ­¤å•æ¬¡ç½‘ç»œåˆ‡æ¢å³ä¼šå¯¼è‡´æ‰€æœ‰åº”ç”¨è¢«å”¤é†’å¹¶åŒæ—¶å¤„ç†æ­¤å¹¿æ’­ã€‚\nåŒç†ï¼Œåœ¨ä¹‹å‰ç‰ˆæœ¬çš„ Android ä¸­ï¼Œåº”ç”¨å¯ä»¥æ³¨å†Œæ¥æ”¶æ¥è‡ªå…¶ä»–åº”ç”¨ï¼ˆä¾‹å¦‚ç›¸æœºï¼‰çš„éšå¼ ACTION_NEW_PICTURE å’Œ ACTION_NEW_VIDEO å¹¿æ’­ã€‚å½“ç”¨æˆ·ä½¿ç”¨ç›¸æœºåº”ç”¨æ‹æ‘„ç…§ç‰‡æ—¶ï¼Œè¿™äº›åº”ç”¨å³ä¼šè¢«å”¤é†’ä»¥å¤„ç†å¹¿æ’­ã€‚\nä¸ºç¼“è§£è¿™äº›é—®é¢˜ï¼ŒAndroid 7.0 åº”ç”¨äº†ä»¥ä¸‹ä¼˜åŒ–æªæ–½ï¼š\né¢å‘ Android 7.0 å¼€å‘çš„åº”ç”¨ä¸ä¼šæ”¶åˆ° CONNECTIVITY_ACTION å¹¿æ’­ï¼Œå³ä½¿å®ƒä»¬å·²æœ‰æ¸…å•æ¡ç›®æ¥è¯·æ±‚æ¥å—è¿™äº›äº‹ä»¶çš„é€šçŸ¥ã€‚åœ¨å‰å°è¿è¡Œçš„åº”ç”¨å¦‚æœä½¿ç”¨ BroadcastReceiver è¯·æ±‚æ¥æ”¶é€šçŸ¥ï¼Œåˆ™ä»å¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¸­ä¾¦å¬ CONNECTIVITY_CHANGEã€‚åº”ç”¨æ— æ³•å‘é€æˆ–æ¥æ”¶ ACTION_NEW_PICTURE æˆ– ACTION_NEW_VIDEO å¹¿æ’­ã€‚æ­¤é¡¹ä¼˜åŒ–ä¼šå½±å“æ‰€æœ‰åº”ç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯é¢å‘ Android 7.0 çš„åº”ç”¨ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ä½¿ç”¨ä»»ä½• intentï¼Œæ‚¨ä»éœ€è¦å°½å¿«ç§»é™¤å®ƒä»¬çš„ä¾èµ–å…³ç³»ï¼Œä»¥æ­£ç¡®é€‚é… Android 7.0 è®¾å¤‡ã€‚Android æ¡†æ¶æä¾›å¤šä¸ªè§£å†³æ–¹æ¡ˆæ¥ç¼“è§£å¯¹è¿™äº›éšå¼å¹¿æ’­çš„éœ€æ±‚ã€‚ä¾‹å¦‚ï¼ŒJobScheduler API æä¾›äº†ä¸€ä¸ªç¨³å¥å¯é çš„æœºåˆ¶æ¥å®‰æ’æ»¡è¶³æŒ‡å®šæ¡ä»¶ï¼ˆä¾‹å¦‚è¿å…¥æ— é™æµé‡ç½‘ç»œï¼‰æ—¶æ‰€æ‰§è¡Œçš„ç½‘ç»œæ“ä½œã€‚æ‚¨ç”šè‡³å¯ä»¥ä½¿ç”¨ JobScheduler æ¥é€‚åº”å†…å®¹æä¾›ç¨‹åºå˜åŒ–ã€‚\næ‰€ä»¥è¯´ï¼Œåœ¨Androidçš„ä¸–ç•Œï¼Œåˆ°å¤„éƒ½å……æ»¡ç€å¹¿æ’­ï¼Œå°±æ˜¯ä¸ºäº†ç”¨æ¥ç›‘å¬æ‰‹æœºçš„å„ç§çŠ¶æ€ï¼Œç»™ç”¨æˆ·æé†’ï¼Œè¿™æ˜¯ä¸€ç§å¾ˆå¥½çš„ç”¨æˆ·ä½“éªŒï¼Œä¸è¿‡ä»»ä½•äº‹æƒ…éƒ½æ˜¯å¦‚æ­¤ï¼Œå¹¿æ’­ä¹Ÿä¸å¯ä»¥å¤šç”¨å“¦ã€‚å¦å¤–é™„ä¸Šé¡¹ç›®åœ°å€ï¼šhttps://github.com/flemingme/NetworkChange ä¾›å‚è€ƒã€‚\n","categories":["ç»éªŒ"],"tags":["Android","ç»éªŒ","BroadcastReceiver","ç³»ç»Ÿå¹¿æ’­"]},{"title":"å…³äºEventBus","url":"/2020/02/08/%E7%BB%8F%E9%AA%8C/%E5%85%B3%E4%BA%8EEventBus/","content":"å…³äºEventBusEventBus.getDefault().register(this)EventBus.getDefault().unregister(this)\n\n@Subscribe è®¢é˜…è€…æ–¹æ³•ThreadMode å†³å®šäº†è®¢é˜…è€…çš„è¡Œä¸ºå¤„ç†åœ¨ä¸»çº¿ç¨‹è¿˜æ˜¯å­çº¿ç¨‹ï¼Œä¹Ÿæ˜¯å°±è€—æ—¶æ“ä½œå°½é‡å¼€è¾Ÿå­çº¿ç¨‹ï¼Œé¿å…ANRç­‰ç­‰ï¼Œä¸€èˆ¬é»˜è®¤å°±è¡Œ\n\n\n\nå‘å¸ƒè€…\nåœ¨ä¸»çº¿ç¨‹å‘é€äº‹ä»¶\nåœ¨å­çº¿ç¨‹å‘é€äº‹ä»¶\n\n\n\nmain\nä¸»çº¿ç¨‹\nä¸»çº¿ç¨‹\n\n\nposting\nä¸»çº¿ç¨‹\nå­çº¿ç¨‹\n\n\nasync\næ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹\næ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹\n\n\nbackground\næ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹\nå­çº¿ç¨‹\n\n\n@Subscribe(threadMode = ThreadMode.MAIN) public void MessageEventBus(EventBusMessage eventBusMessage)&#123;    //åœ¨TextViewæ˜¾ç¤ºæ¥æ”¶çš„æ¶ˆæ¯,ä»è¿™ä¸ªç±»é‡Œæ‹¿å±æ€§.    tv_title.setText(eventBusMessage.Message);    Log.d(&quot;eventBusThread&quot;,&quot;ThreadMode.MAIN &quot;+Thread.currentThread().getName());&#125;//ThreadMode.POSTINGè¡¨ç¤ºè¯¥æ–¹æ³•å’Œæ¶ˆæ¯å‘é€æ–¹åœ¨åŒä¸€ä¸ªçº¿ç¨‹.@Subscribe(threadMode = ThreadMode.POSTING)public void MessageEventBus1(EventBusMessage eventBusMessage)&#123;    Log.d(&quot;eventBusThread&quot;,&quot;ThreadMode.POSTING &quot;+Thread.currentThread().getName());&#125;  /*ThreadMode.ASYNCä¹Ÿè¡¨ç¤ºåœ¨åå°æ‰§è¡Œ(ä¹Ÿå°±æ˜¯å­çº¿ç¨‹æ‰§è¡Œ),å¯ä»¥å¼‚æ­¥å¹¶å‘å¤„ç†(é€‚ç”¨äºå¤šä¸ªçº¿ç¨‹ä»»åŠ¡å¤„ç†,å†…éƒ¨æœ‰çº¿ç¨‹æ± ç®¡ç†,æ¯”å¦‚è¯·æ±‚ç½‘ç»œæ—¶,ç”¨è¿™ä¸ªæ–¹æ³•,ä»–ä¼šè‡ªåŠ¨åˆ›å»ºçº¿ç¨‹å»è¯·æ±‚)æ— è®ºå‘å¸ƒè€…æ˜¯åœ¨å­çº¿ç¨‹è¿˜æ˜¯ä¸»çº¿ç¨‹,è¯¥æ–¹æ³•éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹,åœ¨å­çº¿ç¨‹æ‰§è¡Œ.*/@Subscribe(threadMode = ThreadMode.ASYNC)public void MessageEventBus2(EventBusMessage eventBusMessage)&#123;    Log.d(&quot;eventBusThread&quot;,&quot;ThreadMode.ASYNC &quot;+Thread.currentThread().getName());&#125;  //ThreadMode.BACKGROUNDè¡¨ç¤ºè¯¥æ–¹æ³•åœ¨åå°è¿è¡Œ(ä¹Ÿå°±æ˜¯å­çº¿ç¨‹),ä¸èƒ½å¤Ÿå¹¶å‘å¤„ç†//å¦‚æœå‘å¸ƒè€…åœ¨å­çº¿ç¨‹,é‚£ä¹ˆè¯¥æ–¹æ³•å°±åœ¨å­çº¿ç¨‹æ‰§è¡Œ//å¦‚æœå‘å¸ƒè€…åœ¨ä¸»çº¿ç¨‹,é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šåˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹,åœ¨å­çº¿ç¨‹è¿è¡Œ.@Subscribe(threadMode = ThreadMode.BACKGROUND)public void MessageEventBus3(EventBusMessage eventBusMessage)&#123;    Log.d(&quot;eventBusThread&quot;,&quot;ThreadMode.BACKGROUND &quot;+Thread.currentThread().getName());&#125;\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"å…³äºGradleç‰ˆæœ¬é…ç½®","url":"/2024/02/13/%E7%BB%8F%E9%AA%8C/%E5%85%B3%E4%BA%8EGradle%E7%89%88%E6%9C%AC%E9%85%8D%E7%BD%AE/","content":"å…³äºGradleç‰ˆæœ¬é…ç½®âœ… é¡¹ç›®é‡Œâ€œçœŸæ­£è¢« Gradle é€‰ä¸­å‚ä¸æ„å»ºâ€çš„æ‰€æœ‰ä¾èµ–ğŸ‘‰ éƒ½ä¼šè¢«ä¸‹è½½åˆ° .gradle&#x2F;caches ä¸‹\nâœ… è¿™äº›ä¾èµ–çš„â€œå…·ä½“ç‰ˆæœ¬â€ğŸ‘‰ æœ€ç»ˆæ¥è‡ªï¼šç¬¬ä¸‰æ–¹åº“è‡ªèº«çš„ç‰ˆæœ¬å£°æ˜ + Gradle çš„ä¾èµ–è§£æç»“æœ\nè€é¡¹ç›®\nAGP -&gt; æœ€é«˜7.4.2, gradle-7.5-bin\nJVM -&gt; 11åŠä»¥ä¸‹\n\næ–°é¡¹ç›®\nAGP -&gt; 8.0.0åŠä»¥ä¸Š, æœ€ä½gradle-8.0-binæ¨èï¼š2024  AGP:8.3.2  gradle:8.4-binä»¥ä¸Š  kotlin:1.9.20\nJVM -&gt; 17åŠä»¥ä¸Š\néœ€è¦é…ç½®namespace\n\nå…³äºKotlin\n\n\nAGP\næ¨è Kotlin\n\n\n\n7.4.x\n1.7.20\n\n\n8.0.x\n1.8.10\n\n\n8.1.x\n1.8.20\n\n\n8.2.x\n1.9.0\n\n\n8.3.x\n1.9.20\n\n\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"åˆ†åŒºé•œåƒåˆ·å†™è§„åˆ™","url":"/2020/12/01/%E7%BB%8F%E9%AA%8C/%E5%88%86%E5%8C%BA%E9%95%9C%E5%83%8F%E5%88%B7%E5%86%99%E8%A7%84%E5%88%99/","content":"åˆ†åŒºé•œåƒåˆ·å†™è§„åˆ™åœ¨ Android å¼€å‘æˆ–ç³»ç»Ÿå®šåˆ¶ä¸­ï¼Œä¿®æ”¹äº†å“ªäº›ä»£ç &#x2F;æ¨¡å—ï¼Œå°±éœ€è¦åˆ·å†™å¯¹åº”çš„é•œåƒåˆ†åŒºã€‚è¿™æ˜¯å› ä¸º Android ç³»ç»Ÿè¢«åˆ’åˆ†ä¸ºå¤šä¸ªé€»è¾‘&#x2F;ç‰©ç†åˆ†åŒºï¼ˆå¦‚ bootã€systemã€vendorã€super ç­‰ï¼‰ï¼Œæ¯ä¸ªåˆ†åŒºæ‰¿è½½ä¸åŒå±‚çº§çš„ç»„ä»¶ã€‚\nä¸‹é¢ä» ä»£ç æ”¹åŠ¨ç±»å‹ â†’ å¯¹åº”éœ€è¦åˆ·å†™çš„é•œåƒ è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼š\n\nğŸ§© ä¸€ã€Android åˆ†åŒºç»“æ„ç®€è¦å›é¡¾ï¼ˆAndroid 10+ åŠ¨æ€åˆ†åŒºï¼‰\n\n\nåˆ†åŒº\nå†…å®¹\næ˜¯å¦å¯å•ç‹¬åˆ·å†™ï¼ˆä¼ ç»Ÿï¼‰\nåœ¨åŠ¨æ€åˆ†åŒºä¸­\n\n\n\nboot\nå†…æ ¸ï¼ˆkernelï¼‰ + ramdiskï¼ˆinitã€fstab ç­‰ï¼‰\nâœ… æ˜¯\nâœ… ä»ç‹¬ç«‹\n\n\nsystem\nAOSP æ ¸å¿ƒæ¡†æ¶ã€ç³»ç»Ÿ Appï¼ˆSettingsã€SystemUIï¼‰ã€Java&#x2F;Kotlin ä»£ç \nâœ…ï¼ˆæ—§ï¼‰âŒï¼ˆæ–°ï¼Œåˆå¹¶è¿› superï¼‰\nåˆå¹¶åˆ° super\n\n\nvendor\nèŠ¯ç‰‡å‚å•†é—­æºé©±åŠ¨ã€HAL å®ç°ã€ä¸“æœ‰åº“ï¼ˆå¦‚ camera HALã€audio HALï¼‰\nâœ…ï¼ˆæ—§ï¼‰âŒï¼ˆæ–°ï¼‰\nåˆå¹¶åˆ° super\n\n\nproduct\nOEM å®šåˆ¶ Appã€é…ç½®ï¼ˆå¦‚ Google Pixel çš„é¢å¤–æœåŠ¡ï¼‰\nâŒï¼ˆæ—§æ— ï¼‰\nåˆå¹¶åˆ° super\n\n\nodm\nODM å‚å•†å®šåˆ¶ï¼ˆå¦‚æ¨¡ç»„é€‚é…ï¼‰\nâŒï¼ˆæ—§æ— ï¼‰\nåˆå¹¶åˆ° super\n\n\nvbmeta\nAVBï¼ˆVerified Bootï¼‰ç­¾åå…ƒæ•°æ®\nâœ…\nâœ… ç‹¬ç«‹\n\n\nuserdata\nç”¨æˆ·æ•°æ®\nâ€”â€”\nâ€”â€”\n\n\n\nğŸ”” å…³é”®ç‚¹ï¼š  \n\n**Android 10+ å¯ç”¨åŠ¨æ€åˆ†åŒºåï¼Œsystemã€vendorã€productã€odm ç­‰é€»è¾‘åˆ†åŒºä¸å†å¯¹åº”ç‹¬ç«‹ç‰©ç†åˆ†åŒºï¼Œè€Œæ˜¯æ‰“åŒ…è¿› super.img**ã€‚  \nå› æ­¤ï¼Œæ˜¯å¦åˆ· super.img è¿˜æ˜¯å•ç‹¬åˆ· system.imgï¼Œå–å†³äºè®¾å¤‡æ˜¯å¦å¯ç”¨åŠ¨æ€åˆ†åŒºã€‚\n\n\n\nğŸ› ï¸ äºŒã€æŒ‰ä»£ç ä¿®æ”¹ç±»å‹å†³å®šåˆ·å“ªä¸ªé•œåƒ1. ä¿®æ”¹äº† Linux å†…æ ¸ï¼ˆKernelï¼‰æˆ–è®¾å¤‡æ ‘ï¼ˆDevice Tree &#x2F; DTSï¼‰\nä½ç½®ï¼škernel/, device/&lt;vendor&gt;/&lt;device&gt;/kernel/, .dts æ–‡ä»¶\nå½±å“ï¼šå¯åŠ¨æµç¨‹ã€é©±åŠ¨ã€ç”µæºç®¡ç†ã€å†…å­˜å¸ƒå±€ç­‰\nâœ… å¿…é¡»åˆ·ï¼šboot.img\nğŸ’¡ è¯´æ˜ï¼šboot.img åŒ…å«å‹ç¼©åçš„å†…æ ¸ï¼ˆzImage&#x2F;Image.gzï¼‰å’Œåˆå§‹ ramdiskã€‚å³ä½¿åªæ”¹ä¸€è¡Œ DTSï¼Œä¹Ÿéœ€é‡æ–°æ‰“åŒ… boot.img å¹¶åˆ·å…¥ã€‚\n\n\n2. ä¿®æ”¹äº† AOSP æ¡†æ¶å±‚ Java&#x2F;Kotlin ä»£ç \nä½ç½®ï¼šframeworks/base/, packages/SystemUI/, packages/apps/Settings/ ç­‰\nå½±å“ï¼šç³»ç»Ÿ UIã€API è¡Œä¸ºã€æƒé™æ§åˆ¶ã€å¹¿æ’­æœºåˆ¶ç­‰\nâœ… å¿…é¡»åˆ·ï¼š\néåŠ¨æ€åˆ†åŒºè®¾å¤‡ï¼šsystem.img\nåŠ¨æ€åˆ†åŒºè®¾å¤‡ï¼ˆAndroid 10+ï¼‰ï¼šsuper.img\n\n\nğŸ’¡ æ³¨æ„ï¼šä»…æ›¿æ¢ APK æœ‰æ—¶å¯é€šè¿‡ adb install -r -d è°ƒè¯•ï¼Œä½†æ¶‰åŠ framework API å˜æ›´æ—¶å¿…é¡»åˆ· system&#x2F;superã€‚\n\n\n3. ä¿®æ”¹äº† HALï¼ˆç¡¬ä»¶æŠ½è±¡å±‚ï¼‰æˆ– vendor ä¸“æœ‰åº“\nä½ç½®ï¼šhardware/interfaces/ï¼ˆHIDL&#x2F;AIDL HALï¼‰, vendor/&lt;chipset&gt;/, device/&lt;vendor&gt;/&lt;device&gt;/sepolicy/\nå½±å“ï¼šæ‘„åƒå¤´ã€ä¼ æ„Ÿå™¨ã€è“ç‰™ã€Wi-Fiã€éŸ³é¢‘ç­‰ç¡¬ä»¶åŠŸèƒ½\nâœ… å¿…é¡»åˆ·ï¼š\néåŠ¨æ€åˆ†åŒºï¼švendor.img\nåŠ¨æ€åˆ†åŒºï¼šsuper.img\n\n\nâš ï¸ ç‰¹åˆ«æ³¨æ„ï¼šå¦‚æœ HAL æ¥å£ç‰ˆæœ¬å˜æ›´ï¼ˆå¦‚ä» ICamera@3.4 å‡çº§åˆ° 3.5ï¼‰ï¼Œsystem å’Œ vendor å¿…é¡»åŒæ­¥æ›´æ–°ï¼Œå¦åˆ™ä¼šå›  binder æ¥å£ä¸åŒ¹é…å¯¼è‡´ HAL åŠ è½½å¤±è´¥ï¼ˆå¸¸è§ crash: dlopen failed æˆ– hidl diedï¼‰ã€‚\n\n\n4. ä¿®æ”¹äº† init è„šæœ¬ã€fstabã€ueventd è§„åˆ™ç­‰\nä½ç½®ï¼šsystem/core/rootdir/, device/&lt;vendor&gt;/&lt;device&gt;/rootdir/, fstab.&lt;device&gt;\nå½±å“ï¼šåˆ†åŒºæŒ‚è½½ã€æœåŠ¡å¯åŠ¨é¡ºåºã€è®¾å¤‡èŠ‚ç‚¹æƒé™\nâœ… å¿…é¡»åˆ·ï¼šboot.imgï¼ˆå› ä¸ºè¿™äº›æ–‡ä»¶è¢«æ‰“åŒ…è¿› ramdiskï¼‰\nğŸ’¡ ä¾‹å¦‚ï¼šæ”¹äº† init.rc æˆ– fstab.qcomï¼Œå°±è¦é‡æ‰“åŒ… boot.imgã€‚\n\n\n5. ä¿®æ”¹äº† SELinux ç­–ç•¥ï¼ˆsepolicyï¼‰\nä½ç½®ï¼šsystem/sepolicy/, device/&lt;vendor&gt;/&lt;device&gt;/sepolicy/\nå½±å“ï¼šè¿›ç¨‹æƒé™ã€æ–‡ä»¶è®¿é—®æ§åˆ¶\nâœ… é€šå¸¸éœ€åˆ·ï¼š\nå¦‚æœç­–ç•¥ç¼–è¯‘è¿› ramdiskï¼ˆæ—§æ–¹å¼ï¼‰â†’ åˆ· boot.img\nå¦‚æœç­–ç•¥æ”¾åœ¨ system&#x2F;vendorï¼ˆæ–°æ–¹å¼ï¼‰â†’ åˆ· system&#x2F;vendor æˆ– super.img\n\n\nğŸ” åˆ¤æ–­æ–¹æ³•ï¼šæŸ¥çœ‹ BoardConfig.mk ä¸­ BOARD_SEPOLICY_SPLIT æ˜¯å¦å¯ç”¨ã€‚\n\n\n6. ä¿®æ”¹äº† Recovery ç›¸å…³å†…å®¹\nä½ç½®ï¼šbootable/recovery/, device/&lt;vendor&gt;/&lt;device&gt;/recovery/\nâœ… åˆ·ï¼šrecovery.imgï¼ˆå¦‚æœè®¾å¤‡æ”¯æŒç‹¬ç«‹ recovery åˆ†åŒºï¼‰\næˆ–ï¼šæŸäº›è®¾å¤‡å°† recovery åˆå¹¶è¿› boot.imgï¼ˆAVB 2.0 è®¾å¤‡ï¼‰ï¼Œæ­¤æ—¶éœ€åˆ· boot.img\n\n\n7. ä¿®æ”¹äº† AVBï¼ˆVerified Bootï¼‰é…ç½®æˆ–å¯†é’¥\nä½ç½®ï¼šexternal/avb/, device/&lt;vendor&gt;/&lt;device&gt;/avb/\nâœ… éœ€åˆ·ï¼švbmeta.imgï¼ˆå¯èƒ½è¿˜éœ€ --disable-verity å‚æ•°ï¼‰\nç¤ºä¾‹ï¼šfastboot flash vbmeta vbmeta.img --disable-verity --disable-verification\n\n\nğŸ“‹ ä¸‰ã€å¿«é€Ÿå¯¹ç…§è¡¨ï¼ˆæŒ‰ä¿®æ”¹å†…å®¹ â†’ åˆ·ä»€ä¹ˆï¼‰\n\n\nä¿®æ”¹å†…å®¹\néœ€åˆ·é•œåƒï¼ˆéåŠ¨æ€åˆ†åŒºï¼‰\néœ€åˆ·é•œåƒï¼ˆåŠ¨æ€åˆ†åŒºï¼ŒAndroid 10+ï¼‰\n\n\n\nKernel &#x2F; DTS &#x2F; init.rc\nboot.img\nboot.img\n\n\nSystemUI &#x2F; Settings &#x2F; Framework Java\nsystem.img\nsuper.img\n\n\nCamera HAL &#x2F; Audio HAL &#x2F; Vendor lib\nvendor.img\nsuper.img\n\n\nProduct-specific apps (e.g., Google Dialer)\nproduct.img\nsuper.img\n\n\nODM é…ç½®ï¼ˆå¦‚ sensor æ ¡å‡†ï¼‰\nodm.img\nsuper.img\n\n\nSELinux policyï¼ˆåœ¨ system ä¸­ï¼‰\nsystem.img\nsuper.img\n\n\nSELinux policyï¼ˆåœ¨ boot ramdisk ä¸­ï¼‰\nboot.img\nboot.img\n\n\nRecovery UI\nrecovery.imgï¼ˆå¦‚æœ‰ï¼‰\nrecovery.img æˆ– boot.img\n\n\nVerified Boot å¯†é’¥\nvbmeta.img\nvbmeta.img\n\n\n\nğŸ” å››ã€å¼€å‘å»ºè®®\nä¸ç¡®å®šæ”¹äº†å“ªé‡Œï¼Ÿ â†’ å®å¯å¤šåˆ·ï¼Œæ¯”å¦‚åŒæ—¶åˆ· boot + superã€‚\né¢‘ç¹è°ƒè¯• systemï¼Ÿ â†’ ä½¿ç”¨ adb remount + adb syncï¼ˆéœ€ userdebug ç¼–è¯‘ï¼‰é¿å…åå¤åˆ·æœºã€‚\nåˆ· super.img ä¼šè¦†ç›–æ‰€æœ‰å­åˆ†åŒºï¼Œæ‰€ä»¥æ¯”å•ç‹¬åˆ· system æ›´â€œå½»åº•â€ï¼Œä½†ä¹Ÿæ›´è€—æ—¶ã€‚\nåˆ·æœºåå¡ Logoï¼Ÿ â†’ æ£€æŸ¥æ˜¯å¦æ¼åˆ· bootï¼ˆå†…æ ¸ä¸åŒ¹é…ï¼‰æˆ–æœªæ¸…æ•°æ®ï¼ˆfastboot -wï¼‰ã€‚\n\n\nâœ… æ€»ç»“å£è¯€\n\næ”¹å†…æ ¸ â†’ åˆ· boot  \næ”¹ Java â†’ åˆ· system &#x2F; super  \næ”¹ HAL â†’ åˆ· vendor &#x2F; super  \næ”¹å¯åŠ¨è„šæœ¬ â†’ åˆ· boot  \nå¤§ç‰ˆæœ¬åˆ‡æ¢ â†’ åˆ· super + -w æ¸…æ•°æ®\n\n\nå¦‚æœä½ æä¾›å…·ä½“ä¿®æ”¹çš„ä»£ç è·¯å¾„ï¼ˆå¦‚ frameworks/base/core/java/... æˆ– kernel/msm-5.4/...ï¼‰ï¼Œæˆ‘å¯ä»¥æ›´ç²¾å‡†åœ°å‘Šè¯‰ä½ è¯¥åˆ·å“ªä¸ªé•œåƒã€‚\n","categories":["ç»éªŒ"],"tags":["ç³»ç»Ÿ"]},{"title":"å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨SQLiteæ•°æ®åº“","url":"/2017/08/13/%E7%BB%8F%E9%AA%8C/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8SQLite%E6%95%B0%E6%8D%AE%E5%BA%93/","content":"å‰è¨€ä»€ä¹ˆæ˜¯SQLiteï¼ŸSQLiteæ˜¯ä¸€æ¬¾è½»å‹æ•°æ®åº“ï¼Œå®ƒéµå®ˆACIDï¼Œèƒ½å¤ŸåµŒå…¥åˆ°ä½¿ç”¨å®ƒçš„åº”ç”¨ç¨‹åºä¸­ã€‚ä½œä¸ºä¸€ä¸ªè‡ªåŒ…å«çš„ã€åŸºäºæ–‡ä»¶çš„æ•°æ®åº“ï¼ŒSQLiteæä¾›äº†éå¸¸å‡ºè‰²çš„å·¥å…·é›†èƒ½å¤Ÿå¤„ç†æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œä¸æ‰˜ç®¡åœ¨æœåŠ¡å™¨ä¸ŠåŸºäºè¿›ç¨‹çš„å…³ç³»å‹æ•°æ®åº“ç›¸æ¯”å®ƒçš„çº¦æŸæ›´å°‘ï¼Œä¹Ÿæ›´æ˜“ç”¨ã€‚\nå½“åº”ç”¨ç¨‹åºä½¿ç”¨SQLiteæ—¶ï¼ŒSQLiteå¹¶éä½œä¸ºä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹é€šè¿‡æŸç§é€šä¿¡åè®®ï¼ˆä¾‹å¦‚socketï¼‰ä¸åº”ç”¨ç¨‹åºé€šä¿¡ï¼Œè€Œæ˜¯ä½œä¸ºåº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡è°ƒç”¨SQLiteçš„æ¥å£ç›´æ¥è®¿é—®æ•°æ®æ–‡ä»¶ã€‚\nä¸ºä»€ä¹ˆè¦ç”¨ SQLiteï¼Ÿ\nä¸éœ€è¦ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡å™¨è¿›ç¨‹æˆ–æ“ä½œçš„ç³»ç»Ÿï¼ˆæ— æœåŠ¡å™¨çš„ï¼‰ã€‚\nSQLite ä¸éœ€è¦é…ç½®ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦å®‰è£…æˆ–ç®¡ç†ã€‚\nä¸€ä¸ªå®Œæ•´çš„ SQLite æ•°æ®åº“æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªå•ä¸€çš„è·¨å¹³å°çš„ç£ç›˜æ–‡ä»¶ã€‚\nSQLite æ˜¯éå¸¸å°çš„ï¼Œæ˜¯è½»é‡çº§çš„ï¼Œå®Œå…¨é…ç½®æ—¶å°äº 400KiBï¼Œçœç•¥å¯é€‰åŠŸèƒ½é…ç½®æ—¶å°äº250KiBã€‚\nSQLite æ˜¯è‡ªç»™è‡ªè¶³çš„ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦ä»»ä½•å¤–éƒ¨çš„ä¾èµ–ã€‚\nSQLite äº‹åŠ¡æ˜¯å®Œå…¨å…¼å®¹ ACID çš„ï¼Œå…è®¸ä»å¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å®‰å…¨è®¿é—®ã€‚\nSQLite æ”¯æŒ SQL92ï¼ˆSQL2ï¼‰æ ‡å‡†çš„å¤§å¤šæ•°æŸ¥è¯¢è¯­è¨€çš„åŠŸèƒ½ã€‚\nSQLite ä½¿ç”¨ ANSI-C ç¼–å†™çš„ï¼Œå¹¶æä¾›äº†ç®€å•å’Œæ˜“äºä½¿ç”¨çš„ APIã€‚\nSQLite å¯åœ¨ UNIXï¼ˆLinux, Mac OS-X, Android, iOSï¼‰å’Œ Windowsï¼ˆWin32, WinCE, WinRTï¼‰ä¸­è¿è¡Œã€‚\nSQLiteæ”¯æŒçš„æ•°æ®ç±»å‹\nSQLiteæ”¯æŒçš„æ•°æ®ç±»å‹åŒ…æ‹¬ï¼šNULLã€INTEGERã€REALã€TEXTã€BLOBã€‚\n\nSQLiteçš„ä¼˜ç‚¹\nåŸºäºæ–‡ä»¶æ•´ä¸ªæ•°æ®åº“å®Œå…¨ç”±ç£ç›˜ä¸Šçš„ä¸€ä¸ª.dbæ–‡ä»¶æ„æˆï¼Œè¿™ä½¿å¾—å®ƒçš„å¯ç§»æ¤æ€§éå¸¸å¥½ã€‚\næ ‡å‡†åŒ–å°½ç®¡å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªâ€œç®€åŒ–ç‰ˆâ€çš„æ•°æ®åº“å®ç°ï¼Œä½†æ˜¯SQLiteç¡®å®æ”¯æŒSQLã€‚å®ƒçœç•¥äº†ä¸€äº›åŠŸèƒ½ï¼ˆRIGHT OUTER JOINå’ŒFOR EACH STATEMENTï¼‰ï¼Œä½†åŒæ—¶ä¹Ÿå¢åŠ äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚\néå¸¸é€‚åˆå¼€å‘ç”šè‡³æ˜¯æµ‹è¯•åœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºçš„å¼€å‘é˜¶æ®µï¼Œå¤§éƒ¨åˆ†å¼€å‘äººå‘˜å¯èƒ½éƒ½éå¸¸éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ”¯æŒå¹¶å‘æ‰©å±•çš„è§£å†³æ–¹æ¡ˆã€‚SQLite åŒ…å«ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ‰€èƒ½æä¾›çš„ç‰¹æ€§è¶…ä¹å¼€å‘æ‰€éœ€ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€æ´â€”â€”åªéœ€è¦ä¸€ä¸ªæ–‡ä»¶å’Œä¸€ä¸ªCé“¾æ¥åº“ã€‚\n\nSQLiteçš„ç¼ºç‚¹\næ²¡æœ‰ç”¨æˆ·ç®¡ç†é«˜çº§æ•°æ®åº“éƒ½æ”¯æŒç”¨æˆ·ç³»ç»Ÿï¼Œä¾‹å¦‚ç®¡ç†è¿æ¥å¯¹æ•°æ®åº“å’Œè¡¨çš„è®¿é—®æƒé™ã€‚é‰´äºSQLiteçš„ç›®çš„å’Œæ€§è´¨ï¼ˆæ²¡æœ‰å¤šå®¢æˆ·ç«¯å¹¶å‘çš„é«˜å±‚è®¾è®¡ï¼‰ï¼Œå®ƒå¹¶ä¸åŒ…å«è¿™äº›åŠŸèƒ½ã€‚\nç¼ºå°‘é€šè¿‡ä¼˜åŒ–è·å¾—é¢å¤–æ€§èƒ½çš„ç©ºé—´è¿˜æ˜¯ç”±äºè®¾è®¡æ–¹é¢çš„åŸå› ï¼Œæ— æ³•é€šè¿‡ä¼˜åŒ–SQLiteè·å¾—å¤§é‡çš„é¢å¤–æ€§èƒ½ã€‚è¿™ä¸ªç±»åº“éå¸¸å®¹æ˜“è°ƒæ•´ã€ä¹Ÿéå¸¸å®¹æ˜“ä½¿ç”¨ã€‚å®ƒå¹¶ä¸å¤æ‚ï¼Œæ‰€ä»¥ä»æŠ€æœ¯ä¸Šæ— æ³•è®©å®ƒå˜å¾—æ›´å¿«ï¼Œå› ä¸ºå®ƒå·²ç»å¾ˆå¿«äº†ã€‚\n\nä½•æ—¶åº”è¯¥ä½¿ç”¨SQLite\nåµŒå…¥å¼åº”ç”¨ç¨‹åºæ‰€æœ‰éœ€è¦å¯ç§»æ¤æ€§ã€ä¸éœ€è¦æ‰©å±•çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚å•ç”¨æˆ·çš„æœ¬åœ°åº”ç”¨ã€ç§»åŠ¨åº”ç”¨æˆ–è€…æ¸¸æˆã€‚\næ›¿ä»£ç£ç›˜è®¿é—®åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œéœ€è¦ç›´æ¥è¯»å†™ç£ç›˜æ–‡ä»¶çš„åº”ç”¨ç¨‹åºå¯ä»¥åˆ‡æ¢åˆ°SQLiteä»è€Œå—ç›ŠäºSQLiteæä¾›çš„é¢å¤–åŠŸèƒ½ä»¥åŠä½¿ç”¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆSQLï¼‰æ‰€å¸¦æ¥çš„ç®€ä¾¿æ€§ã€‚\næµ‹è¯•å¯¹å¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºè€Œè¨€æ²¡å¿…è¦ä½¿ç”¨é¢å¤–çš„è¿›ç¨‹æµ‹è¯•ä¸šåŠ¡é€»è¾‘ï¼ˆä¾‹å¦‚åº”ç”¨ç¨‹åºçš„ä¸»è¦ç›®æ ‡ï¼šåŠŸèƒ½ï¼‰ã€‚\n\nä½•æ—¶ä¸åº”è¯¥ä½¿ç”¨SQLite\nå¤šç”¨æˆ·åº”ç”¨ç¨‹åºå¦‚æœæœ‰å¤šä¸ªå®¢æˆ·ç«¯éœ€è¦è®¿é—®å¹¶ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“ï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨åŠŸèƒ½å®Œæ•´çš„å…³ç³»å‹æ•°æ®åº“ï¼ˆä¾‹å¦‚MySQLï¼‰ï¼Œè€Œä¸æ˜¯é€‰æ‹©SQLiteã€‚\néœ€è¦é«˜å†™å…¥é‡çš„åº”ç”¨ç¨‹åºå†™æ“ä½œæ˜¯SQLiteçš„ä¸€ä¸ªå±€é™ã€‚è¯¥DBMSåœ¨åŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå†™æ“ä½œï¼Œå› è€Œä¹Ÿé™åˆ¶äº†å…¶ååé‡ã€‚\n\nè¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨SQLiteæ•°æ®åº“å‘¢ï¼Ÿ\næ­¥éª¤\nåˆ›å»ºä¸€ä¸ªç»§æ‰¿ SQLiteOpenHelper çš„ç±»ã€‚\né‡å†™ onCreate() å’Œ onUpgrade() æ–¹æ³•ã€‚\nåœ¨ onCreate() ä¸­æ‰§è¡Œå»ºè¡¨è¯­å¥ã€‚\né€šè¿‡ getWritableDatabase() æˆ– getReadableDatabase() è·å–æ•°æ®åº“å®ä¾‹ã€‚\nä½¿ç”¨ insert()ã€query()ã€update()ã€delete() æ“ä½œæ•°æ®ã€‚\n\n\n\nåˆ›å»ºç±»ç»§æ‰¿SQLiteOpenHelperï¼Œå¹¶é‡å†™onCreateå’ŒonUpgradeæ–¹æ³•ã€‚\npublic final class DBContract &#123;    private DBContract() &#123;&#125;    public static class UserEntity implements BaseColumns &#123;        public static final String TABLE_NAME = &quot;user&quot;;        public static final String COLUMN_NAME_UESR_ID = &quot;_id&quot;;        public static final String COLUMN_NAME_USER_NAME = &quot;name&quot;;        public static final String COLUMN_NAME_USER_AGE = &quot;age&quot;;    &#125;&#125;\nè¿™é‡Œæˆ‘ä¸€èˆ¬ä¼šå†™ä¸€ä¸ªå¥‘çº¦ç±»ï¼Œé€šè¿‡ORMçš„æ€æƒ³ï¼Œå°†æ•°æ®è¡¨æŠ½è±¡æˆå¯¹è±¡ï¼Œç”¨æ¥è®°å½•æ•°æ®è¡¨çš„ç›¸å…³ä¿¡æ¯ï¼Œæ–¹ä¾¿ç¼–è¾‘å’Œè°ƒç”¨ã€‚\n\nç¼–å†™sqlï¼Œåœ¨onCreateä¸­é€šè¿‡db.execSQL(sql)æ‰§è¡Œsqlã€‚\n@Overridepublic void onCreate(SQLiteDatabase db) &#123;        String sql = &quot;CREATE TABLE &quot; + DBContract.UserEntity.TABLE_NAME + &quot;( &quot;                + DBContract.UserEntity.COLUMN_NAME_UESR_ID + &quot; INTEGER PRIMARY KEY NOT NULL, &quot;                + DBContract.UserEntity.COLUMN_NAME_USER_NAME + &quot; TEXT, &quot;                + DBContract.UserEntity.COLUMN_NAME_USER_AGE +&quot; INTEGER );&quot;;        db.execSQL(sql);&#125;\n\næ³¨æ„sqlçš„ç¼–å†™è§„èŒƒåŠç©ºæ ¼ï¼Œå»ºè®®å…³é”®å­—å¤§å†™ã€‚\n\nåœ¨æ„é€ æ–¹æ³•ä¸­ä¼ å…¥æ•°æ®åº“çš„åå­—å’Œç‰ˆæœ¬å·ç­‰å‚æ•°ã€‚\nprivate static final int DB_VERSION = 1;public DBHelper(Context c, String dbName) &#123;    super(c, dbName, null, DB_VERSION);&#125;\n\nåœ¨onUpgradeæ–¹æ³•ä¸­å¯ä»¥å‡çº§æ•°æ®åº“ã€‚\n@Overridepublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) &#123;        if (newVersion &gt; oldVersion) &#123;            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + DBContract.UserEntity.TABLE_NAME);            onCreate(db);        &#125;&#125;\nè¿™é‡Œåˆ¤æ–­å¦‚æœæœ‰æ–°ç‰ˆæœ¬ï¼Œå°±æ‰§è¡Œsqlåˆ é™¤æ•°æ®è¡¨å†åˆ›å»ºæ–°çš„ï¼Œä¹Ÿå¯ä»¥åšå…¶ä»–æ“ä½œã€‚\n\nå®ä¾‹åŒ–è¯¥ç±»è·å–dbå¯¹è±¡ã€‚\nmHelper = new DBHelper(context, dbName);//è·å–å¯å†™çš„æ•°æ®åº“å¯¹è±¡ï¼Œç”¨äºå¢åˆ æ”¹SQLiteDatabase db = mHelper.getWritableDatabase();//è·å–åªè¯»çš„æ•°æ®åº“å¯¹è±¡ï¼Œç”¨äºæŸ¥è¯¢SQLiteDatabase db = mHelper.getReadableDatabase();\n\nCRUDæ“ä½œã€‚(1) Create(åˆ›å»º)\npublic boolean insert(User user) &#123;    final SQLiteDatabase db = mHelper.getWritableDatabase();    ContentValues values = new ContentValues();    if (user.getId() != 0) values.put(DBContract.UserEntity.COLUMN_NAME_UESR_ID, user.getId());    if (!TextUtils.isEmpty(user.getName())) values.put(DBContract.UserEntity.COLUMN_NAME_USER_NAME, user.getName());    if (user.getAge() != 0) values.put(DBContract.UserEntity.COLUMN_NAME_USER_AGE, user.getAge());    long _id = db.insert(DBContract.UserEntity.TABLE_NAME, null, values);    db.close();    return _id &gt; 0;&#125;\nè¿™é‡Œä¸»è¦æ˜¯åˆ©ç”¨ContentValuesç±»ï¼Œé€šè¿‡SQLiteDatabaseçš„insertæ–¹æ³•ï¼Œå°†å€¼æ’å…¥è¿›å»ã€‚å½“ç„¶ç†Ÿæ‚‰sqlçš„è¿˜å¯ä»¥åˆ©ç”¨sqlæ¥æ‰§è¡Œã€‚\nString sql = &quot;insert into &quot; + TAB_PERSON + &quot; values (?,&#x27;test&#x27;,&#x27;1&#x27;);&quot;;try &#123;    getWritableDatabase().beginTransaction();    SQLiteStatement sqLiteStatement = getReadableDatabase().compileStatement(sql);    int count = 0;    while (count &lt; 100) &#123;        count++;        sqLiteStatement.clearBindings();        sqLiteStatement.bindLong(1, count);        sqLiteStatement.executeInsert();    &#125;    getWritableDatabase().setTransactionSuccessful();&#125; catch (Exception e) &#123;    e.printStackTrace();&#125; finally &#123;    getWritableDatabase().endTransaction();&#125;\næ³¨æ„ï¼šæœ‰ä¸¤ç‚¹å¯ä»¥ä¼˜åŒ–dbçš„æ‰§è¡Œæ•ˆç‡çš„ï¼Œä¸€æ˜¯æ‰‹åŠ¨æ‰§è¡Œäº‹åŠ¡æ“ä½œï¼ŒäºŒæ˜¯åˆ©ç”¨SQLiteStatementé¢„å¤„ç†ï¼Œæˆ³è¿™é‡Œhttp://www.jianshu.com/p/c942d5d9cf2e\n\n\n(2) Retrieve(è¯»å–)\n@Overridepublic User selectById(int userId) &#123;    final SQLiteDatabase db = mHelper.getReadableDatabase();    final String selection = DBContract.UserEntity.COLUMN_NAME_UESR_ID + &quot;=?&quot;;    final String[] selectionArgs = new String[]&#123;String.valueOf(userId)&#125;;    Cursor cursor = db.query(DBContract.UserEntity.TABLE_NAME, null, selection, selectionArgs, null, null, null);    cursor.moveToFirst();    User user = null;    while (cursor.moveToNext()) &#123;        int _id = cursor.getInt(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_UESR_ID));        String name = cursor.getString(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_USER_NAME));        int age = cursor.getInt(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_USER_AGE));            user = new User(_id, name, age);        &#125;        cursor.close();        db.close();        return user;&#125;@Overridepublic List&lt;User&gt; selectAll() &#123;    final SQLiteDatabase db = mHelper.getReadableDatabase();    List&lt;User&gt; list = new ArrayList&lt;&gt;();    Cursor cursor = db.query(DBContract.UserEntity.TABLE_NAME, null, null, null, null, null, DBContract.UserEntity.COLUMN_NAME_UESR_ID);    cursor.moveToFirst();    while (!cursor.isAfterLast()) &#123;        int _id = cursor.getInt(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_UESR_ID));        String name = cursor.getString(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_USER_NAME));        int age = cursor.getInt(cursor.getColumnIndex(DBContract.UserEntity.COLUMN_NAME_USER_AGE));        list.add(new User(_id, name, age));        cursor.moveToNext();    &#125;    cursor.close();    db.close();    return list;&#125;\n\n(3) Update(ä¿®æ”¹)\n@Overridepublic boolean update(int userId, User user) &#123;    final SQLiteDatabase db = mHelper.getWritableDatabase();    final String selection = DBContract.UserEntity.COLUMN_NAME_UESR_ID + &quot;=?&quot;;    final String[] selectionArgs = new String[]&#123;String.valueOf(userId)&#125;;    ContentValues values = new ContentValues();    if (!TextUtils.isEmpty(user.getName())) values.put(DBContract.UserEntity.COLUMN_NAME_USER_NAME, user.getName());    if (user.getAge() != 0) values.put(DBContract.UserEntity.COLUMN_NAME_USER_AGE, user.getAge());    Cursor query = mHelper.getReadableDatabase().query(DBContract.UserEntity.TABLE_NAME, null, selection, selectionArgs, null, null, null);    int _id = 0;    if (query.getCount() &gt; 0) &#123;        _id = db.update(DBContract.UserEntity.TABLE_NAME, values, selection, selectionArgs);    &#125;    query.close();    db.close();    return _id &gt; 0;&#125;\n\n(4) Delete(åˆ é™¤)\n@Overridepublic boolean delete(int userId) &#123;    final SQLiteDatabase db = mHelper.getWritableDatabase();    final String selection = DBContract.UserEntity.COLUMN_NAME_UESR_ID + &quot;=?&quot;;    final String[] selectionArgs = new String[]&#123;String.valueOf(userId)&#125;;    Cursor query = mHelper.getReadableDatabase().query(DBContract.UserEntity.TABLE_NAME, null, selection, selectionArgs, null, null, null);    int _id = 0;    if (query.getCount() &gt; 0) &#123;        _id = db.delete(DBContract.UserEntity.TABLE_NAME, selection, selectionArgs);    &#125;    query.close();    db.close();    return _id &gt; 0;&#125;\n\næ€»ç»“SQLiteåœ¨æ•°æ®å­˜å‚¨æ–¹é¢æœ‰ç€å…¶ç‹¬ç‰¹çš„æ–¹å¼ï¼Œè½»ä¾¿ã€é«˜æ•ˆç­‰ç­‰éƒ½æ˜¯å®ƒçš„ç‰¹ç‚¹ï¼Œåœ¨å¼€å‘ä¸­å…¶apiä¹Ÿå¾ˆå‹å¥½ï¼Œæ˜¯æ•°æ®æŒä¹…åŒ–çš„å¥½å¸®æ‰‹ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹æ‚¨å¹³æ—¶çš„å¼€å‘æœ‰æ‰€å¸®åŠ©ã€‚\n","categories":["ç»éªŒ"],"tags":["Android","ç»éªŒ","SQLite","æ•°æ®åº“"]},{"title":"å¯åŠ¨æ¨¡å¼ - intent","url":"/2017/09/18/%E7%BB%8F%E9%AA%8C/%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%20-%20intent/","content":"å¯åŠ¨æ¨¡å¼ - intentå¥½çš„ï¼Œæˆ‘ä»¬æ¥è¯¦ç»†å¯¹æ¯” singleTop ä¸å…¶ä»–ä¸‰ç§æ ‡å‡†å¯åŠ¨æ¨¡å¼ï¼ˆstandard, singleTask, singleInstanceï¼‰åœ¨ Intent è·å–æ–¹å¼ ä»¥åŠ æ ¸å¿ƒè¡Œä¸º ä¸Šçš„åŒºåˆ«ã€‚\næ ¸å¿ƒåŒºåˆ«åœ¨äºï¼šç³»ç»Ÿä½•æ—¶ä¼šåˆ›å»ºæ–°å®ä¾‹ï¼Œä½•æ—¶ä¼šå¤ç”¨æ—§å®ä¾‹ï¼Œä»¥åŠå¤ç”¨æ—¶å¦‚ä½•ä¼ é€’æ–°çš„ Intentã€‚\n\n1. standard (æ ‡å‡†æ¨¡å¼)\nè¡Œä¸ºï¼šè¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚æ¯æ¬¡å¯åŠ¨è¯¥ Activityï¼Œç³»ç»Ÿéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå¹¶å°†å…¶å‹å…¥å¯åŠ¨å®ƒçš„ Activity æ‰€åœ¨çš„ä»»åŠ¡æ ˆï¼ˆTaskï¼‰ä¸­ã€‚å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒä»»åŠ¡æ ˆä¸­å­˜åœ¨ã€‚\nIntent è·å–ï¼š\nåªåœ¨ onCreate() ä¸­è·å–ã€‚å› ä¸ºæ¯æ¬¡éƒ½æ˜¯æ–°å®ä¾‹ï¼Œæ‰€ä»¥æ–°çš„ Intent æ€»æ˜¯é€šè¿‡ onCreate(Bundle savedInstanceState) -&gt; getIntent() æ¥è·å–ã€‚\nonNewIntent() æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºæ²¡æœ‰å¤ç”¨æ—§å®ä¾‹çš„æƒ…å†µã€‚\n\n\né€‚ç”¨åœºæ™¯ï¼šå¤§å¤šæ•°å¸¸è§„ Activityï¼Œä¾‹å¦‚è¯¦æƒ…é¡µã€è®¾ç½®é¡µç­‰ï¼Œæ¯æ¬¡æ‰“å¼€éƒ½å¸Œæœ›æ˜¯ç‹¬ç«‹çš„æ–°é¡µé¢ã€‚\n\n\n2. singleTop (æ ˆé¡¶å¤ç”¨æ¨¡å¼)\nè¡Œä¸ºï¼šå¦‚æœè¯¥ Activity çš„å®ä¾‹å·²ç»ä½äºç›®æ ‡ä»»åŠ¡æ ˆçš„æ ˆé¡¶ï¼Œåˆ™ä¸ä¼šåˆ›å»ºæ–°å®ä¾‹ï¼Œè€Œæ˜¯å¤ç”¨æ ˆé¡¶çš„è¿™ä¸ªå®ä¾‹ã€‚å¦‚æœè¯¥å®ä¾‹å­˜åœ¨ä½†ä¸åœ¨æ ˆé¡¶ï¼Œæˆ–è€…æ ¹æœ¬ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºæ–°å®ä¾‹ã€‚\nIntent è·å–ï¼š\né¦–æ¬¡å¯åŠ¨&#x2F;ä¸åœ¨æ ˆé¡¶æ—¶ï¼šé€šè¿‡ onCreate() -&gt; getIntent() è·å–ã€‚\næ ˆé¡¶å¤ç”¨æ—¶ï¼šé€šè¿‡ onNewIntent(Intent newIntent) è·å–ï¼Œå¹¶å¿…é¡»åœ¨ onNewIntent ä¸­è°ƒç”¨ setIntent(newIntent) æ¥æ›´æ–°å½“å‰ Intentã€‚\n\n\né€‚ç”¨åœºæ™¯ï¼šé€šçŸ¥æ ç‚¹å‡»ã€PendingIntentã€æˆ–è€…é˜²æ­¢ç”¨æˆ·å¿«é€Ÿè¿ç»­ç‚¹å‡»å¯¼è‡´åˆ›å»ºå¤šä¸ªç›¸åŒ Activity çš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ¶ˆæ¯åˆ—è¡¨é¡µï¼Œç‚¹å‡»é€šçŸ¥å¸Œæœ›ç›´æ¥è·³è½¬åˆ°è¯¥é¡µå¹¶åˆ·æ–°æ•°æ®ï¼Œè€Œä¸æ˜¯åœ¨æ ˆé¡¶å†å ä¸€ä¸ªç›¸åŒçš„é¡µé¢ã€‚\n\n\n3. singleTask (æ ˆå†…å¤ç”¨æ¨¡å¼)\nè¡Œä¸ºï¼šè¿™æ˜¯ä¸€ç§å…¨å±€å•ä¾‹æ¨¡å¼ï¼ˆåœ¨ç‰¹å®šä»»åŠ¡æ ˆå†…ï¼‰ã€‚ç³»ç»Ÿä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªä»»åŠ¡æ ˆï¼ˆç”± taskAffinity å†³å®šï¼Œé»˜è®¤æ˜¯åº”ç”¨åŒ…åï¼‰ï¼Œè¯¥æ ˆä¸­æ˜¯å¦å·²ç»å­˜åœ¨è¯¥ Activity çš„å®ä¾‹ã€‚\nå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸ä¼šåˆ›å»ºæ–°å®ä¾‹ã€‚ç³»ç»Ÿä¼šå°†è¯¥å®ä¾‹ä¹‹ä¸Šçš„æ‰€æœ‰å…¶ä»– Activity å…¨éƒ¨å‡ºæ ˆï¼ˆé”€æ¯ï¼‰ï¼Œä½¿è¯¥ Activity æˆä¸ºæ ˆé¡¶ï¼Œç„¶åå¤ç”¨è¿™ä¸ªå®ä¾‹ã€‚\nå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°å®ä¾‹ï¼Œå¹¶æ ¹æ® taskAffinity å†³å®šæ”¾å…¥å“ªä¸ªä»»åŠ¡æ ˆï¼ˆå¯èƒ½æ˜¯ä¸€ä¸ªæ–°æ ˆï¼‰ã€‚\n\n\nIntent è·å–ï¼š\né¦–æ¬¡åˆ›å»ºæ—¶ï¼šé€šè¿‡ onCreate() -&gt; getIntent() è·å–ã€‚\nå¤ç”¨æ—¶ï¼šé€šè¿‡ onNewIntent(Intent newIntent) è·å–ï¼Œå¹¶å¿…é¡»åœ¨ onNewIntent ä¸­è°ƒç”¨ setIntent(newIntent)ã€‚\nå…³é”®å‰¯ä½œç”¨ï¼šå¤ç”¨æ—¶ï¼Œç›®æ ‡ Activity ä¹‹ä¸Šçš„æ‰€æœ‰ Activity éƒ½ä¼šè¢« finish() æ‰ã€‚\n\n\né€‚ç”¨åœºæ™¯ï¼šåº”ç”¨çš„**ä¸»å…¥å£ Activity**ï¼ˆå¦‚ Launcher Activityï¼‰ï¼Œç¡®ä¿ä»ä»»ä½•åœ°æ–¹å¯åŠ¨éƒ½èƒ½å›åˆ°ä¸»ç•Œé¢å¹¶æ¸…ç†æ‰ä¸»ç•Œé¢ä¹‹ä¸Šçš„å…¶ä»–é¡µé¢ã€‚ä¹Ÿç”¨äºéœ€è¦å…¨å±€å”¯ä¸€ä¸”èƒ½æ¸…ç†å›é€€æ ˆçš„åœºæ™¯ã€‚\n\n\n4. singleInstance (å…¨å±€å•ä¾‹æ¨¡å¼)\nè¡Œä¸ºï¼šè¿™æ˜¯æœ€ä¸¥æ ¼çš„å•ä¾‹æ¨¡å¼ã€‚è¯¥ Activity åªä¼šå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”è¿™ä¸ªå®ä¾‹ä¼šç‹¬å ä¸€ä¸ªå…¨æ–°çš„ä»»åŠ¡æ ˆã€‚ä»»ä½•åº”ç”¨å¯åŠ¨è¿™ä¸ª Activityï¼Œéƒ½ä¼šå¤ç”¨è¿™ä¸ªå”¯ä¸€çš„å®ä¾‹å’Œå®ƒæ‰€åœ¨çš„ä»»åŠ¡æ ˆã€‚\nåœ¨è¿™ä¸ªç‹¬å æ ˆä¸­ï¼Œåªèƒ½æœ‰è¿™ä¸€ä¸ª Activity å®ä¾‹ï¼Œå…¶ä»– Activity ä¸èƒ½è¿›å…¥è¿™ä¸ªæ ˆã€‚\nå¦‚æœè¿™ä¸ª Activity å¯åŠ¨äº†å…¶ä»– Activityï¼Œé‚£ä¸ª Activity ä¼šæ ¹æ®è‡ªå·±çš„å¯åŠ¨æ¨¡å¼å’Œ taskAffinity è¿›å…¥å…¶ä»–ä»»åŠ¡æ ˆã€‚\n\n\nIntent è·å–ï¼š\né¦–æ¬¡åˆ›å»ºæ—¶ï¼šé€šè¿‡ onCreate() -&gt; getIntent() è·å–ã€‚\nå¤ç”¨æ—¶ï¼šé€šè¿‡ onNewIntent(Intent newIntent) è·å–ï¼Œå¹¶å¿…é¡»åœ¨ onNewIntent ä¸­è°ƒç”¨ setIntent(newIntent)ã€‚\n\n\né€‚ç”¨åœºæ™¯ï¼šéå¸¸å°‘è§ã€‚ç”¨äºéœ€è¦è¢«å¤šä¸ªåº”ç”¨å…±äº«çš„ã€å®Œå…¨ç‹¬ç«‹çš„ Activityï¼Œæ¯”å¦‚ç³»ç»Ÿçº§çš„é—¹é’Ÿæé†’ç•Œé¢ã€å…¨å±€æ‚¬æµ®çª—æ§åˆ¶å™¨ç­‰ã€‚æ™®é€šåº”ç”¨åŸºæœ¬ç”¨ä¸åˆ°ã€‚\n\n\næ€»ç»“å¯¹æ¯”è¡¨\n\n\nå¯åŠ¨æ¨¡å¼\næ˜¯å¦åˆ›å»ºæ–°å®ä¾‹\nå®ä¾‹ä½ç½®&#x2F;ä»»åŠ¡æ ˆ\nIntent è·å–æ–¹å¼\nonNewIntent æ˜¯å¦è°ƒç”¨\nä¸»è¦é€‚ç”¨åœºæ™¯\n\n\n\nstandard\næ€»æ˜¯åˆ›å»ºæ–°å®ä¾‹\nå¯åŠ¨è€…æ‰€åœ¨æ ˆ\nonCreate() -&gt; getIntent()\nå¦\nå¸¸è§„é¡µé¢ï¼Œå¦‚è¯¦æƒ…é¡µ\n\n\nsingleTop\nä»…å½“ä¸åœ¨æ ˆé¡¶æ—¶åˆ›å»ºæ–°å®ä¾‹\nå¯åŠ¨è€…æ‰€åœ¨æ ˆ\nonCreate() æˆ– onNewIntent()\næ˜¯ (æ ˆé¡¶å¤ç”¨æ—¶)\né€šçŸ¥ç‚¹å‡»ã€é˜²æ­¢é‡å¤ç‚¹å‡»\n\n\nsingleTask\nä»…å½“æ ˆå†…ä¸å­˜åœ¨æ—¶åˆ›å»ºæ–°å®ä¾‹\næŒ‡å®šä»»åŠ¡æ ˆ (å¯èƒ½æ–°å»º)ï¼Œå…¨å±€å•ä¾‹\nonCreate() æˆ– onNewIntent()\næ˜¯ (æ ˆå†…å¤ç”¨æ—¶)\nä¸»ç•Œé¢ (Launcher)\n\n\nsingleInstance\nä»…å½“å…¨å±€ä¸å­˜åœ¨æ—¶åˆ›å»ºæ–°å®ä¾‹\nç‹¬å ä¸€ä¸ªå…¨æ–°ä»»åŠ¡æ ˆï¼Œå…¨å±€å”¯ä¸€\nonCreate() æˆ– onNewIntent()\næ˜¯ (å…¨å±€å¤ç”¨æ—¶)\nç³»ç»Ÿçº§å…±äº«é¡µé¢ (æå°‘ä½¿ç”¨)\n\n\n\nå…³é”®è®°å¿†ç‚¹\n**standard**ï¼šæœ€ç®€å•ï¼Œæ¯æ¬¡éƒ½æ–°ï¼Œåªç”¨ onCreateã€‚\nsingleTopï¼šæ ˆé¡¶å¤ç”¨ï¼Œç”¨ onNewIntentï¼Œä¸å½±å“æ ˆç»“æ„ã€‚\nsingleTaskï¼šæ ˆå†…å¤ç”¨ï¼Œç”¨ onNewIntentï¼Œä¼šæ¸…ç©ºç›®æ ‡ä¹‹ä¸Šçš„Activityã€‚\nsingleInstanceï¼šå…¨å±€å¤ç”¨ï¼Œç”¨ onNewIntentï¼Œç‹¬å ä¸€ä¸ªæ ˆã€‚\n\næ— è®ºå“ªç§æ¨¡å¼ï¼Œåªè¦æ¶‰åŠå¤ç”¨æ—§å®ä¾‹ï¼ˆsingleTop, singleTask, singleInstanceï¼‰ï¼Œè·å–æ–°æ•°æ®çš„å”¯ä¸€å¯é é€”å¾„å°±æ˜¯ onNewIntent(Intent intent)ï¼Œå¹¶ä¸”ä¸€å®šè¦è®°å¾—è°ƒç”¨ setIntent(intent)ï¼\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"å¦‚ä½•ä½¿ç”¨AsyncTask","url":"/2017/08/16/%E7%BB%8F%E9%AA%8C/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8AsyncTask/","content":"ä½ ä¼šä½¿ç”¨AsyncTaskå—ï¼Ÿå‰è¨€AsyncTask çš„æœ¬èº«å…¶å®æ˜¯å¯¹ Handler æœºåˆ¶çš„å°è£…ï¼Œç›®çš„æ˜¯è®©å¼‚æ­¥æ“ä½œçš„å®ç°å˜å¾—ç®€å•ï¼Œæ›´å¤šçš„å…³æ³¨ä¸šåŠ¡å®ç°ã€‚\nåŸºæœ¬æ­¥éª¤\nåˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª AsyncTask çš„ç±»ã€‚\nç¡®å®š AsyncTask&lt;Paramsï¼ˆå‚æ•°ï¼‰, Progressï¼ˆè¿›åº¦ï¼‰, Resultï¼ˆç»“æœï¼‰&gt; æ³›å‹çš„ä¸‰ä¸ªå‚æ•°ç±»å‹ã€‚\né‡å†™ä»¥ä¸‹æ–¹æ³•ï¼š\n\nprotected void onPreExecute()           // å¯é€‰protected abstract Result doInBackground(Params... params); // å¿…é¡»é‡å†™protected void onPostExecute(Result result) // å¯é€‰ï¼Œä½†ä¸€èˆ¬éƒ½ä¼šé‡å†™protected void onProgressUpdate(Progress... values) // å¯é€‰ï¼Œå¦‚æœä¸éœ€è¦è¿›åº¦å¯ä»¥å†™ Voidï¼ˆå¤§å†™çš„ Vï¼‰\n\næ³¨æ„ï¼š\nonPreExecute æ–¹æ³•ä¼šåœ¨executeæ–¹æ³•è°ƒç”¨å‰è°ƒç”¨ï¼Œè¿è¡Œåœ¨UIçº¿ç¨‹ï¼Œå¯ä»¥åšè¿›åº¦æ¡†çš„å±•ç¤ºç­‰ ï¼›\ndoInBackgroundæ–¹æ³•çš„å‚æ•°æ˜¯å¯é€‰å‚æ•°ï¼Œç±»å‹ç”±åˆ›å»ºç±»æ—¶å†³å®šï¼Œå¹¶ä¸”è¯¥æ–¹æ³•æ˜¯æ‰§è¡Œåœ¨å­çº¿ç¨‹ä¸­çš„ï¼Œå¯ä»¥åšä¸€äº›è€—æ—¶æ“ä½œï¼›\nonPostExecute æ–¹æ³•çš„å‚æ•°ä¹Ÿæ˜¯åˆ›å»ºç±»æ—¶å†³å®šï¼Œå¯ä»¥æ˜¯Stringã€Bitmapç±»å‹ç­‰ï¼Œè¿è¡Œåœ¨UIçº¿ç¨‹ä¸­ï¼Œæ ¹æ®è¿”å›çš„resultï¼Œè¿™é‡Œçš„resultçš„ç±»å‹å°±æ˜¯doInBackground çš„è¿”å›å€¼ç±»å‹ï¼Œå› æ­¤å¯ä»¥æ›´æ–°UI ï¼›\nonProgressUpdate æ–¹æ³•çš„å‚æ•°æ˜¯å¯é€‰å‚æ•°ï¼Œå¯ä»¥å±•ç¤ºä»»åŠ¡å¤„ç†çš„è¿›åº¦ï¼Œä¸è¿‡éœ€è¦é€šè¿‡åœ¨doInBackground ä¸­æ ¹æ®ä¸‹è½½å†…å®¹å æ€»ä¸‹è½½å†…å®¹çš„æ¯”ä¾‹ä¸»åŠ¨è°ƒç”¨publishProgress æ–¹æ³•ï¼Œæ‰ä¼šå›è°ƒonProgressUpdate æ–¹æ³•ã€‚\n\nè¿™é‡Œæˆ‘å–çš„æ˜¯çŸ¥ä¹æ—¥æŠ¥çš„è·å–æœ€è¿‘æ¶ˆæ¯çš„apiï¼Œæ„Ÿè°¢å¤§ç¥çš„å…±äº«ï¼Œå…ˆä¸Šapiæ–‡æ¡£é“¾æ¥ï¼šçŸ¥ä¹æ—¥æŠ¥\nå®ä¾‹åŒ–è¯¥å¼‚æ­¥ä»»åŠ¡ç±»ï¼Œå¹¶è°ƒç”¨AsyncTask execute(Paramsâ€¦ params) æ–¹æ³•å¯åŠ¨ä»»åŠ¡ã€‚åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œä½¿ç”¨äº†ä¸¤ç§å¸¸ç”¨çš„è¿”å›ç±»å‹çš„å¼‚æ­¥ä»»åŠ¡ç±»ï¼Œåˆ†åˆ«å®Œæˆä¸‹è½½apiè¿”å›çš„Stringç±»å‹çš„jsonæ•°æ®å¹¶è§£ææˆé›†åˆæ•°æ®å’ŒBitmapç±»å‹çš„å›¾ç‰‡çš„ä»»åŠ¡ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š\nç¬¬ä¸€ç§ç±»å‹private static final String URL = &quot;http://news-at.zhihu.com/api/4/news/latest&quot;;private class StoryAsyncTask extends AsyncTask&lt;String, Viod, List&lt;Story.StoriesBean&gt;&gt; &#123;    @Override    protected List&lt;Story.StoriesBean&gt; doInBackground(String... params) &#123;        return getJsonString(params[0]);//å‚æ•°ä¸ªæ•°ä¸º1ï¼Œä¸‹æ ‡åˆ™ä¸º0    &#125;    @Override    protected void onPostExecute(List&lt;Story.StoriesBean&gt; stories) &#123;        mAdapter.addListData(stories);//ç›´æ¥è¿”å›adapteræ‰€éœ€è¦çš„é›†åˆç±»å‹ï¼Œä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿä¿©å­—å„¿â€œæ–¹ä¾¿â€        mRefreshLayout.setRefreshing(false);    &#125;&#125;//æ‰§è¡Œnew StoryAsyncTask().execute(URL);\nç¬¬äºŒç§ç±»å‹private class ImgLoaderAsyncTask extends AsyncTask&lt;String, Void, Bitmap&gt; &#123;    private ImageView mImageView;    private String mUrl;    public ImgLoaderAsyncTask(ImageView imageView, String url) &#123;        mImageView = imageView;        mUrl = url;    &#125;    @Override    protected Bitmap doInBackground(String... params) &#123;        String url = params[0];        //ä»ç½‘ç»œä¸Šè·å–åˆ°çš„å›¾ç‰‡å­˜åˆ°ç¼“å­˜ä¸­        Bitmap bitmap = getBitmapFromUrl(url);        if (bitmap != null) &#123;            addBitmapToCache(url, bitmap);        &#125;        return bitmap;    &#125;    @Override    protected void onPostExecute(Bitmap bitmap) &#123;        super.onPostExecute(bitmap);        if (mImageView.getTag().equals(mUrl)) &#123; //è¯·æ³¨æ„ï¼Œè¿™é‡Œå¤šåŠ äº†tagçš„åˆ¤æ–­ï¼Œä¸ºäº†è®©å›¾ç‰‡ä¸é”™ä¹±            mImageView.setImageBitmap(bitmap);        &#125;    &#125;&#125;\n\nç›¸å…³å…³äºcacheçš„éƒ¨åˆ†ï¼Œè¯·ç‚¹å‡»å¦‚ä½•åˆ©ç”¨LruCacheè¿›è¡Œæ•°æ®ç¼“å­˜è¿›è¡ŒæŸ¥çœ‹ã€‚\n\n\nå¦å¤–é™„ä¸ŠAsyncTaskå¼‚æ­¥ä»»åŠ¡ä¹‹æºç è§£æ\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ","AsyncTask","Handler","Message"]},{"title":"å¦‚ä½•åˆ©ç”¨LruCacheè¿›è¡Œæ•°æ®ç¼“å­˜","url":"/2017/08/08/%E7%BB%8F%E9%AA%8C/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8LruCache%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98/","content":"å‰è¨€LruCacheæ˜¯ä»€ä¹ˆï¼Ÿæœ€åˆæˆ‘ä¹Ÿä¸çŸ¥é“å»ç¼“å­˜è¯·æ±‚åˆ°çš„æ•°æ®ï¼Œç›´æ¥éƒ½æ˜¯é€šè¿‡httpè¯·æ±‚ï¼Œæ ¹æ®å¾—åˆ°çš„è¿”å›æ•°æ®å±•ç¤ºåˆ°ç•Œé¢ä¸Šï¼Œç½‘ç»œä¸å¥½æ—¶è¦ç­‰å¾…å¥½ä¹…è¯·æ±‚æ‰èƒ½æˆåŠŸï¼Œæˆ–è€…å¹²è„†å°±å¤±è´¥äº†ï¼Œè¿™æ ·ç»™ç”¨æˆ·çš„ä½“éªŒæ˜¯å¾ˆä¸å¥½çš„ã€‚ä¹‹ååœ¨å­¦ä¹ ä¸­ï¼Œäº†è§£åˆ°äº†Android SDKä¸­æœ‰å¤„ç†ç¼“å­˜çš„LruCacheï¼Œè¿™ä¸ªLruCacheæ˜¯åœ¨android.utilåŒ…ä¸‹çš„ï¼Œæ˜¯API level 12å¼•å…¥çš„ï¼Œå¯¹äºAPI level 12ä¹‹å‰çš„ç³»ç»Ÿå¯ä»¥ä½¿ç”¨support library v4ä¸­çš„LruCacheã€‚\n\nLruCacheæ˜¯ä¸€ä¸ªæ³›å‹ç±»ã€‚\nLRUæ˜¯Least Recently Usedçš„ç¼©å†™ï¼Œå³â€œæœ€è¿‘æœ€å°‘ä½¿ç”¨â€ï¼Œè¯´æ˜LRUç¼“å­˜ç®—æ³•çš„æ·˜æ±°ç­–ç•¥æ˜¯æŠŠæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ç§»é™¤ï¼Œè®©å‡ºå†…å­˜ç»™æœ€æ–°è¯»å–çš„æ•°æ®ã€‚\nå®ƒé‡‡ç”¨çš„æ˜¯å†…å­˜ç¼“å­˜æ•°æ®ï¼Œå®ƒå†…éƒ¨é‡‡ç”¨ä¸€ä¸ªLinkedHashMapä»¥å¼ºå¼•ç”¨çš„æ–¹å¼å­˜å‚¨å¤–ç•Œçš„ç¼“å­˜å¯¹è±¡ã€‚\nå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nå…¶ä¸­æä¾›äº†putã€getã€removeæ–¹æ³•æ¥å®Œæˆç¼“å­˜çš„æ·»åŠ ã€è·å–å’Œç§»é™¤æ“ä½œã€‚\næ¯æ¬¡æ·»åŠ çš„ç¼“å­˜å¯¹è±¡ä¼šç½®é¡¶ï¼Œå½“ç¼“å­˜æ»¡æ—¶ï¼ŒLruCacheä¼šç§»é™¤è¾ƒæ—©ä½¿ç”¨çš„ç¼“å­˜å¯¹è±¡ï¼Œç„¶åå†æ·»åŠ æ–°çš„ç¼“å­˜å¯¹è±¡ã€‚\n\né€šå¸¸æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„ç¼“å­˜ç­–ç•¥ï¼Œç®€å•çš„æ¥è¯´æ˜¯å°†ä»ç½‘ç»œè¯·æ±‚å¾—åˆ°çš„æ•°æ®å…ˆç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œç­‰åˆ°ä¸‹æ¬¡å†è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆä»ç¼“å­˜ä¸­å»è·å–ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰ï¼Œå°±å°†ç¼“å­˜æ•°æ®å–å‡ºï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™å†ä»ç½‘ç»œä¸Šè¯·æ±‚ï¼Œè¿™æ˜¯ä¸€ç§åŸºæœ¬çš„ç¼“å­˜ç­–ç•¥ã€‚\nLruCacheï¼ˆLeast Recently Used Cacheï¼‰æ˜¯ Android æä¾›çš„å†…å­˜ç¼“å­˜å·¥å…·ç±»ï¼Œé€‚åˆç¼“å­˜ Bitmapã€å­—ç¬¦ä¸²ç­‰å¯¹è±¡ã€‚\nç‰¹ç‚¹\nåŸºäº LinkedHashMap å®ç°ã€‚\nè‡ªåŠ¨ç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ¡ç›®ã€‚\nçº¿ç¨‹å®‰å…¨ã€‚\n\nä½¿ç”¨æ­¥éª¤\nç»§æ‰¿ LruCache&lt;K, V&gt; æˆ–ç›´æ¥å®ä¾‹åŒ–ã€‚\né‡å†™ sizeOf() æ–¹æ³•ï¼ˆå¯é€‰ï¼Œé»˜è®¤è¿”å› 1ï¼‰ã€‚\nè®¾ç½®æœ€å¤§ç¼“å­˜å¤§å°ï¼ˆé€šå¸¸ä¸ºå¯ç”¨å†…å­˜çš„ 1&#x2F;8ï¼‰ã€‚\n\nå¦‚ä½•ä½¿ç”¨LruCacheï¼Ÿæˆ‘å°†ä»¥ImageLoader é¡¹ç›®ä¸ºä¾‹è¯´æ˜LruCacheçš„ä½¿ç”¨æ–¹æ³•ã€‚\nç”±äºsupport v4åŒ…ä¸­çš„LruCacheå¯ä»¥ç”¨äºAPI level 12ä¹‹å‰çš„ç³»ç»Ÿï¼Œå’Œandroid.utilåŒ…çš„LruCacheçš„åŒºåˆ«æ˜¯åœ¨trimToSizeä¸­è·å–å°†è¦åˆ é™¤å…ƒç´ çš„æ–¹æ³•ä¸ä¸€æ ·ï¼š\nandroid.util.LruCacheMap.Entry&lt;K, V&gt; toEvict = map.eldest();android.support.v4.util.LruCacheMap.Entry&lt;K, V&gt; toEvict = map.entrySet().iterator().next();\nLinkedHashMapçš„eldest()æ–¹æ³•å·²ç»è¢«æ ‡æ³¨ä¸º@hideï¼Œæ‰€ä»¥è€ƒè™‘åˆ°å…¼å®¹æ€§çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨android.support.v4.util.LruCacheã€‚\n(1) å®šä¹‰LruCacheå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¸”å®ä¾‹åŒ–ã€‚\n/*** åˆ©ç”¨Runtimeè¿è¡Œæ—¶æ¥è·å–æœ€å¤§çš„å†…å­˜å¤§å°*/public ImageLoader() &#123;    int maxMemory = (int) Runtime.getRuntime().maxMemory();    int cacheSize = maxMemory / 8;  //å®˜æ–¹æ¨è1/8ï¼Œå¯æ ¹æ®è¦ç¼“å­˜çš„å›¾ç‰‡å¤§å°è¿›è¡Œè°ƒæ•´    mCache = new LruCache&lt;String, Bitmap&gt;(cacheSize) &#123;        @Override        protected int sizeOf(String key, Bitmap value) &#123;            Log.d(TAG, &quot;sizeOf: &quot;+value.getByteCount());            return value.getByteCount();            //ä¹Ÿå¯ä»¥return value.getRowBytes() * value.getHeight();        &#125;    &#125;;&#125;\næ³¨æ„ï¼š ç”±æºç å¯çŸ¥åœ¨safeSizeOf æ–¹æ³•ä¸­æœ‰è°ƒç”¨sizeOf ï¼Œé»˜è®¤è¿”å›1ï¼Œè¿™æ˜¾ç„¶ä¸åˆç†ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šæ˜¯éœ€è¦é‡å†™çš„ï¼Œå°†valueçš„å¤§å°ä½œä¸ºæ¯ä¸ªitemçš„sizeã€‚\nprivate int safeSizeOf(K key, V value) &#123;    int result = sizeOf(key, value);    if (result &lt; 0) &#123;        throw new IllegalStateException(&quot;Negative size: &quot; + key + &quot;=&quot; + value);    &#125;    return result;&#125;/** * Returns the size of the entry for &#123;@code key&#125; and &#123;@code value&#125; in * user-defined units.  The default implementation returns 1 so that size * is the number of entries and max size is the maximum number of entries. * * &lt;p&gt;An entry&#x27;s size must not change while it is in the cache. */protected int sizeOf(K key, V value) &#123;    return 1;&#125;\n\n(2) æ·»åŠ ç¼“å­˜å¯¹è±¡\nåœ¨å¾—åˆ°LruCacheå¯¹è±¡çš„å®ä¾‹åï¼Œå¯ä»¥é€šè¿‡put(String key, Bitmap value) æ–¹æ³•ï¼Œå°†å¯¹è±¡æ·»åŠ è¿›å»ã€‚\n/** * å°†å›¾ç‰‡æ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œä»¥urlä¸ºkeyï¼Œä»¥bitmapä¸ºvalue; * @param url * @param bitmap */public void addBitmapToCache(String url, Bitmap bitmap) &#123;    if (getBitmapFromCache(url) == null) &#123;        mCache.put(url, bitmap);    &#125;&#125;\n\n(3) è·å–ç¼“å­˜å¯¹è±¡\né€šè¿‡get(String key) æ–¹æ³•ï¼Œå¾—åˆ°å¯¹äºçš„ç¼“å­˜å¯¹è±¡ã€‚\n/** * ä»ç¼“å­˜ä¸­è·å–å›¾ç‰‡ * @param url * @return */public Bitmap getBitmapFromCache(String url) &#123;    return !TextUtils.isEmpty(url) ? mCache.get(url) : null;&#125;\n\n(4) åˆ é™¤ç¼“å­˜å¯¹è±¡\n/** * ä»ç¼“å­˜ä¸­åˆ é™¤å›¾ç‰‡ * @param url */public void removeBitmapFromCache(String url) &#123;    if (!TextUtils.isEmpty(url)) &#123;        mCache.remove(url);    &#125;&#125;\nå…³äºandroid.util.LruCacheçš„æºç è§£æ\næ€»ç»“ä»ä½¿ç”¨ä¸Šæ¥çœ‹ï¼ŒLruCacheå¹¶ä¸å¤æ‚ï¼Œmapçš„æ“ä½œå¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¯ä»¥å¤šä½¿ç”¨è¿™äº›ç¼“å­˜ç­–ç•¥ï¼Œä¼šæå‡æˆ‘ä»¬APPçš„ç”¨æˆ·ä½“éªŒï¼Œé‡ç‚¹è¿˜æœ‰èŠ‚çœæµé‡å“¦ï¼\n","categories":["ç»éªŒ"],"tags":["Android","ç»éªŒ","LruCache","ç¼“å­˜"]},{"title":"æ–°ç‰ˆlogcatçš„è¿‡æ»¤å…³é”®å­—","url":"/2023/02/08/%E7%BB%8F%E9%AA%8C/%E6%96%B0%E7%89%88logcat%E7%9A%84%E8%BF%87%E6%BB%A4%E5%85%B3%E9%94%AE%E5%AD%97/","content":"æ–°ç‰ˆlogcatçš„è¿‡æ»¤å…³é”®å­—\npackageï¼šåŒ¹é…è®°å½•æ—¥å¿—çš„è½¯ä»¶åŒ…åï¼Œå…¶ä¸­ç‰¹æ®Šå€¼mineåŒ¹é…å½“å‰æ‰“å¼€é¡¹ç›®å¯¹åº”çš„åº”ç”¨logã€‚\nlevelï¼šä¸æŒ‡å®šæˆ–è€…æ›´é«˜çº§åˆ«çš„æ—¥å¿—åŒ¹é…ï¼Œæ¯”å¦‚debugæˆ–è€…errorï¼Œè¾“å…¥levelåasä¼šè‡ªåŠ¨æç¤ºå¯ä»¥é€‰æ‹©ã€‚\ntag: åŒ¹é…æ—¥å¿—çš„tagå­—æ®µ\nmessageï¼šåŒ¹é…æ—¥å¿—ä¸­æˆ‘ä»¬è‡ªå·±å¡«å†™çš„messageçš„éƒ¨åˆ†ã€‚\nageï¼šè®©çª—å£ä¸­åªä¿ç•™æœ€è¿‘ä¸€æ®µæ—¶é—´çš„logï¼Œå€¼ä¸ºæ•°å­—åŠ å•ä½ï¼Œsè¡¨ç¤ºç§’ï¼Œmè¡¨ç¤ºåˆ†é’Ÿï¼Œhè¡¨ç¤ºå°æ—¶ï¼Œdè¡¨ç¤ºå¤©\nis: è¿™ä¸ªé”®æœ‰ä¸¤ä¸ªå›ºå®šçš„valueå–å€¼ï¼ŒcrashåŒ¹é…åº”ç”¨å´©æºƒæ—¥å¿—ï¼ŒstacktraceåŒ¹é…ä»»æ„ç±»ä¼¼javaå †æ ˆè½¨è¿¹çš„æ—¥å¿—\nprocessï¼šåŒ¹é…è®°å½•æ—¥å¿—çš„è¿›ç¨‹å\n\næ­£åˆ™ç›¸å…³tag:GUI         è¡¨ç¤ºtagä¸­åŒ…å«â€œGUIâ€å­—ç¬¦çš„-tag:GUI        è¡¨ç¤ºtagä¸­ä¸åŒ…å«â€œGUIâ€å­—ç¬¦çš„\ntag=:GUI        è¡¨ç¤ºtagä¸­ç­‰äºâ€œGUIâ€å­—ç¬¦çš„ï¼ˆå®Œå…¨åŒ¹é…ï¼‰-tag=:GUI       è¡¨ç¤ºtagä¸­ä¸ç­‰äºâ€œGUIâ€å­—ç¬¦çš„\ntag~:^(http)(com/)$        è¡¨ç¤ºtagä¸­æ»¡è¶³æ­£åˆ™è§„åˆ™çš„ï¼ˆä»¥httpå¼€å¤´ä»¥com&#x2F;ç»“æŸçš„å­—ç¬¦ï¼‰-tag~:^(http)(com/)$        è¡¨ç¤ºtagä¸­ä¸æ»¡è¶³æ­£åˆ™è§„åˆ™çš„ï¼ˆä»¥httpå¼€å¤´ä»¥com&#x2F;ç»“æŸçš„å­—ç¬¦ï¼‰\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"è“ç‰™é¡¹ç›®å¯åŠ¨æƒé™å’Œè“ç‰™å®šä½å¼€å…³çš„é—®é¢˜","url":"/2023/02/08/%E7%BB%8F%E9%AA%8C/%E8%93%9D%E7%89%99%E9%A1%B9%E7%9B%AE%E5%90%AF%E5%8A%A8%E6%9D%83%E9%99%90%E5%92%8C%E8%93%9D%E7%89%99%E5%AE%9A%E4%BD%8D%E5%BC%80%E5%85%B3%E7%9A%84%E9%97%AE%E9%A2%98/","content":"è“ç‰™é¡¹ç›®å¯åŠ¨æƒé™å’Œè“ç‰™å®šä½å¼€å…³çš„é—®é¢˜è“ç‰™é¡¹ç›®å¯åŠ¨ï¼Œæƒ³è¦é¡ºåˆ©åœ°ä½¿ç”¨è“ç‰™æ‰«æå’Œè¿æ¥ï¼Œåˆ†ä¸¤ç§æƒ…å†µ\n\nAndroid 6ä»¥ä¸Šåˆ°Android 12ä»¥ä¸‹éœ€è¦åŠ¨æ€ç”³è¯·å®šä½æƒé™ACCESS_COARSE_LOCATIONå’ŒACCESS_FINE_LOCATIONï¼Œä¸¤ä¸ªéƒ½è¦ç”³è¯·\n\nAndroid 12ä»¥ä¸Šéœ€è¦åŠ¨æ€ç”³è¯·BLUETOOTH_SCANå’ŒBLUETOOTH_CONNECT\n\n\nå®Œæˆä¸Šè¿°æƒé™ç”³è¯·åï¼Œè¿˜éœ€è¦åœ¨6-12åˆ¤æ–­è“ç‰™å’Œå®šä½æ˜¯å¦æ‰“å¼€ï¼Œ12ä»¥ä¸Šä¸éœ€è¦æ‰“å¼€å®šä½ä¹Ÿå¯ä»¥\n\nç”³è¯·åŠ¨æ€æƒé™ï¼Œæ‹’ç»å°±æç¤ºè¿›è®¾ç½®ï¼ŒåŒæ„å°±èµ°ä¸‹ä¸€æ­¥\nåˆ¤æ–­è“ç‰™å’Œå®šä½å¼€å…³æ˜¯å¦æ‰“å¼€\n\n","categories":["ç»éªŒ"],"tags":["ç»éªŒ"]},{"title":"AAudioå’ŒOboeçš„å…³ç³»","url":"/2025/07/16/%E9%9F%B3%E9%A2%91/AAudio%E5%92%8COboe%E7%9A%84%E5%85%B3%E7%B3%BB/","content":"AAudioå’ŒOboeçš„å…³ç³»AAudio æ˜¯ç”± Google æä¾›çš„ä¸€ä¸ªåº•å±‚éŸ³é¢‘ APIï¼Œæ—¨åœ¨ä¸º Android åº”ç”¨æä¾›é«˜æ€§èƒ½å’Œä½å»¶è¿Ÿçš„éŸ³é¢‘è¾“å…¥è¾“å‡ºåŠŸèƒ½ã€‚å®ƒç›´æ¥ä¸ Android æ“ä½œç³»ç»Ÿçš„éŸ³é¢‘å±‚äº¤äº’ï¼Œæä¾›äº†æ¯”ä¹‹å‰çš„ APIï¼ˆå¦‚ OpenSL ESï¼‰æ›´ä¼˜ç§€çš„æ€§èƒ½ã€‚\nOboe åˆ™æ˜¯ä¸€ä¸ªæ„å»ºåœ¨ AAudio å’Œ OpenSL ES ä¹‹ä¸Šçš„ C++ å°è£…åº“ã€‚Oboe çš„è®¾è®¡ç›®çš„æ˜¯ç®€åŒ– Android ä¸Šçš„å®æ—¶éŸ³é¢‘åº”ç”¨å¼€å‘ï¼ŒåŒæ—¶ç¡®ä¿è¿™äº›åº”ç”¨èƒ½å¤Ÿå°½å¯èƒ½åœ°åˆ©ç”¨ AAudio å¸¦æ¥çš„æ€§èƒ½ä¼˜åŠ¿ã€‚å¦‚æœè®¾å¤‡ä¸æ”¯æŒ AAudio æˆ–è€…åœ¨æŸäº›æƒ…å†µä¸‹ AAudio ä¸é€‚ç”¨æ—¶ï¼ŒOboe å¯ä»¥è‡ªåŠ¨å›é€€åˆ°ä½¿ç”¨ OpenSL ESï¼Œä»è€Œä¿è¯äº†è‰¯å¥½çš„å…¼å®¹æ€§ã€‚\nOboe çš„ä¸»è¦ç‰¹ç‚¹\nç®€åŒ–APIï¼šOboe æä¾›äº†ä¸€ä¸ªæ›´åŠ ç®€æ´å’Œæ˜“äºä½¿ç”¨çš„ API æ¥å¤„ç†éŸ³é¢‘æµï¼Œéšè—äº†ç›´æ¥ä½¿ç”¨ AAudio æˆ– OpenSL ES çš„å¤æ‚æ€§ã€‚\nè·¨å¹³å°å…¼å®¹æ€§ï¼šå°½ç®¡ Oboe ä¸»è¦é’ˆå¯¹ Android å¼€å‘ï¼Œå®ƒçš„è®¾è®¡ä¹Ÿè€ƒè™‘åˆ°äº†è·¨å¹³å°çš„å¯ç§»æ¤æ€§ã€‚\næ€§èƒ½ä¼˜åŒ–ï¼šé€šè¿‡å°½é‡ä½¿ç”¨ AAudioï¼ŒOboe èƒ½å¤Ÿå®ç°æ›´ä½çš„å»¶è¿Ÿå’Œæ›´é«˜çš„æ•ˆç‡ã€‚\n\nä½¿ç”¨ Oboeå¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæ–°çš„ Android éŸ³é¢‘åº”ç”¨ï¼Œå¹¶ä¸”éœ€è¦ä½å»¶è¿Ÿå’Œé«˜ä¿çœŸåº¦ï¼Œæ¨èé¦–å…ˆå°è¯• Oboe è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ AAudioã€‚è¿™æ˜¯å› ä¸º Oboe æä¾›äº†æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç¼–å†™å’Œç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿæ™ºèƒ½åœ°é€‰æ‹©æœ€ä½³çš„åº•å±‚ APIï¼ˆå³ AAudio æˆ– OpenSL ESï¼‰æ¥æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚\nç¤ºä¾‹ä»£ç ç‰‡æ®µï¼ˆOboeï¼‰ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Oboe åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªéŸ³é¢‘æµï¼š\n#include &quot;oboe/Oboe.h&quot;class SimplePlayback : public oboe::AudioStreamCallback &#123;public:    std::unique_ptr&lt;oboe::AudioStream&gt; createStream() &#123;        oboe::AudioStreamBuilder builder;        return builder.setCallback(this)                      -&gt;setFormat(oboe::AudioFormat::Float)                      -&gt;setChannelCount(oboe::ChannelCount::Mono)                      -&gt;setSampleRate(48000)                      -&gt;openStream();    &#125;    oboe::DataCallbackResult onAudioReady(            oboe::AudioStream *audioStream,            void *audioData,            int32_t numFrames) override &#123;        float *outputBuffer = static_cast&lt;float *&gt;(audioData);        // å¡«å…… outputBuffer...        return oboe::DataCallbackResult::Continue;    &#125;&#125;;int main() &#123;    SimplePlayback playback;    auto stream = playback.createStream();    if (stream &amp;&amp; stream-&gt;requestStart() == oboe::Result::OK) &#123;        // æµå¼€å§‹æ’­æ”¾...    &#125;&#125;\n\nè¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒSimplePlayback ç±»å®ç°äº† oboe::AudioStreamCallback æ¥å£ï¼Œç”¨äºå®šä¹‰å½“éŸ³é¢‘æ•°æ®å‡†å¤‡å¥½æ—¶åº”æ‰§è¡Œçš„æ“ä½œã€‚createStream æ–¹æ³•è®¾ç½®äº†ä¸€äº›åŸºæœ¬å‚æ•°å¹¶æ‰“å¼€äº†éŸ³é¢‘æµã€‚onAudioReady å›è°ƒå‡½æ•°åˆ™è´Ÿè´£å¡«å……éŸ³é¢‘ç¼“å†²åŒºçš„æ•°æ®ã€‚\næ€»ä¹‹ï¼Œè™½ç„¶ AAudio æä¾›äº†å¼ºå¤§çš„åº•å±‚èƒ½åŠ›ï¼Œä½† Oboe ä½œä¸ºä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„å°è£…åº“ï¼Œå¯ä»¥è®©ä½ æ›´å®¹æ˜“åœ°åˆ©ç”¨è¿™äº›èƒ½åŠ›ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"AOIPå’ŒVOIP","url":"/2026/01/06/%E9%9F%B3%E9%A2%91/AOIP%E5%92%8CVOIP/","content":"AOIPå’ŒVOIPéƒ½æ˜¯ä¸ç½‘ç»œé€šä¿¡ç›¸å…³çš„æŠ€æœ¯ï¼Œä½†å®ƒä»¬çš„åº”ç”¨é¢†åŸŸå’ŒåŠŸèƒ½æœ‰æ‰€ä¸åŒã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„è¯¦ç»†å¯¹æ¯”ï¼š\n\n1. VOIPï¼ˆVoice over Internet Protocolï¼‰å®šä¹‰ï¼šVOIP æ˜¯ä¸€ç§é€šè¿‡äº’è”ç½‘åè®®ï¼ˆIPï¼‰ç½‘ç»œä¼ è¾“è¯­éŸ³é€šä¿¡çš„æŠ€æœ¯ã€‚å®ƒå°†è¯­éŸ³ä¿¡å·è½¬æ¢ä¸ºæ•°å­—æ•°æ®åŒ…ï¼Œå¹¶é€šè¿‡äº’è”ç½‘æˆ–å±€åŸŸç½‘è¿›è¡Œä¼ è¾“ï¼Œä»è€Œå®ç°è¯­éŸ³é€šè¯ã€‚\nåº”ç”¨åœºæ™¯ï¼š  \n\nç½‘ç»œç”µè¯ï¼ˆå¦‚Skypeã€Zoomã€Google Voiceï¼‰\nä¼ä¸šç”µè¯ç³»ç»Ÿï¼ˆIP PBXï¼‰\nåœ¨çº¿å®¢æœç³»ç»Ÿ\nè§†é¢‘ä¼šè®®ä¸­çš„è¯­éŸ³éƒ¨åˆ†\n\nå·¥ä½œåŸç†ï¼šVOIP å°†æ¨¡æ‹Ÿè¯­éŸ³ä¿¡å·æ•°å­—åŒ–å¹¶å‹ç¼©æˆæ•°æ®åŒ…ï¼Œç„¶åé€šè¿‡IPç½‘ç»œä¼ è¾“åˆ°æ¥æ”¶ç«¯ã€‚æ¥æ”¶ç«¯å†å°†è¿™äº›æ•°æ®åŒ…è§£ç å¹¶è¿˜åŸä¸ºè¯­éŸ³ä¿¡å·ã€‚\nä¼˜ç‚¹ï¼š  \n\næˆæœ¬ä½ï¼šä½¿ç”¨ç°æœ‰äº’è”ç½‘è¿æ¥ï¼ŒèŠ‚çœä¼ ç»Ÿç”µè¯çº¿è·¯è´¹ç”¨ã€‚\nçµæ´»æ€§é«˜ï¼šæ”¯æŒå¤šæ–¹é€šè¯ã€è§†é¢‘é€šè¯ã€æ¶ˆæ¯ä¼ é€’ç­‰å¤šåŠŸèƒ½é›†æˆã€‚\næ˜“äºæ‰©å±•ï¼šé€‚åˆè¿œç¨‹åŠå…¬å’Œåˆ†å¸ƒå¼å›¢é˜Ÿã€‚\n\nç¼ºç‚¹ï¼š  \n\nä¾èµ–ç½‘ç»œè´¨é‡ï¼šç½‘ç»œå»¶è¿Ÿã€æŠ–åŠ¨æˆ–å¸¦å®½ä¸è¶³ä¼šå½±å“é€šè¯è´¨é‡ã€‚\nå®‰å…¨æ€§é—®é¢˜ï¼šéœ€è¦é¢å¤–æªæ–½é˜²æ­¢çªƒå¬æˆ–æ•°æ®æ³„éœ²ã€‚\n\n\n2. AOIPï¼ˆAudio over Internet Protocolï¼‰å®šä¹‰ï¼šAOIP æ˜¯ä¸€ç§é€šè¿‡IPç½‘ç»œä¼ è¾“éŸ³é¢‘ä¿¡å·çš„æŠ€æœ¯ï¼Œé€šå¸¸ç”¨äºä¸“ä¸šéŸ³é¢‘é¢†åŸŸã€‚å®ƒå¯ä»¥ä¼ è¾“é«˜è´¨é‡çš„éŸ³é¢‘æµï¼Œé€‚ç”¨äºå¹¿æ’­ã€ç°åœºæ¼”å‡ºã€å½•éŸ³æ£šç­‰åœºæ™¯ã€‚\nåº”ç”¨åœºæ™¯ï¼š  \n\nå¹¿æ’­ç”µå°å’Œç”µè§†å°çš„éŸ³é¢‘ä¼ è¾“\næ¼”å”±ä¼šå’Œå‰§é™¢çš„å¤šé€šé“éŸ³é¢‘åˆ†å‘\nå½•éŸ³æ£šä¹‹é—´çš„éŸ³é¢‘åŒæ­¥\nå¤šç‚¹è¿œç¨‹å½•éŸ³åä½œ\n\nå·¥ä½œåŸç†ï¼šAOIP å°†éŸ³é¢‘ä¿¡å·ç¼–ç ä¸ºIPæ•°æ®åŒ…ï¼Œå¹¶é€šè¿‡ä»¥å¤ªç½‘æˆ–äº’è”ç½‘ä¼ è¾“ã€‚å®ƒå¯ä»¥æ”¯æŒå¤šé€šé“éŸ³é¢‘æµï¼Œå¹¶ä¸”èƒ½å¤Ÿå®ç°ç²¾ç¡®çš„æ—¶é—´åŒæ­¥ï¼Œç¡®ä¿éŸ³é¢‘åœ¨ä¸åŒè®¾å¤‡é—´æ— å»¶è¿Ÿæ’­æ”¾ã€‚\nä¼˜ç‚¹ï¼š  \n\né«˜ä¿çœŸéŸ³é¢‘ï¼šæ”¯æŒæ— æŸæˆ–é«˜åˆ†è¾¨ç‡éŸ³é¢‘ä¼ è¾“ã€‚\nå¤šé€šé“èƒ½åŠ›ï¼šå¯ä»¥åŒæ—¶ä¼ è¾“å¤šä¸ªéŸ³é¢‘é€šé“ã€‚\næ—¶é—´åŒæ­¥ï¼šé€‚åˆå¯¹æ—¶é—´ç²¾åº¦è¦æ±‚é«˜çš„åœºæ™¯ï¼ˆå¦‚ç›´æ’­å’Œç°åœºæ¼”å‡ºï¼‰ã€‚\n\nç¼ºç‚¹ï¼š  \n\nå¯¹ç¡¬ä»¶è¦æ±‚é«˜ï¼šéœ€è¦ä¸“ä¸šçš„éŸ³é¢‘æ¥å£è®¾å¤‡ã€‚\nå¸¦å®½éœ€æ±‚å¤§ï¼šé«˜è´¨é‡éŸ³é¢‘æµå¯èƒ½å ç”¨è¾ƒå¤šç½‘ç»œèµ„æºã€‚\nå®æ—¶æ€§è¦æ±‚é«˜ï¼šéœ€è¦ä¼˜åŒ–ç½‘ç»œé…ç½®ä»¥é¿å…å»¶è¿Ÿã€‚\n\n\nå…³é”®åŒºåˆ«æ€»ç»“\n\n\nç‰¹æ€§\nVOIP\nAOIP\n\n\n\nç”¨é€”\nè¯­éŸ³é€šä¿¡\nä¸“ä¸šéŸ³é¢‘ä¼ è¾“\n\n\néŸ³é¢‘è´¨é‡\nå‹ç¼©éŸ³é¢‘ï¼ˆä¸­ç­‰è‡³é«˜è´¨é‡ï¼‰\né«˜ä¿çœŸéŸ³é¢‘ï¼ˆæ— æŸæˆ–é«˜åˆ†è¾¨ç‡ï¼‰\n\n\nå®æ—¶æ€§\nè¦æ±‚è¾ƒé«˜\nè¦æ±‚æé«˜ï¼ˆéœ€æ—¶é—´åŒæ­¥ï¼‰\n\n\nç½‘ç»œéœ€æ±‚\næ ‡å‡†äº’è”ç½‘\nä¸“ä¸šç½‘ç»œï¼ˆä½å»¶è¿Ÿã€é«˜å¸¦å®½ï¼‰\n\n\nå…¸å‹åº”ç”¨\nç½‘ç»œç”µè¯ã€è§†é¢‘ä¼šè®®\nå¹¿æ’­ã€æ¼”å”±ä¼šã€å½•éŸ³æ£š\n\n\n\nå®é™…æ¡ˆä¾‹\nVOIPï¼šæŸå…¬å¸ä½¿ç”¨VOIPéƒ¨ç½²äº†åŸºäºäº‘çš„ç”µè¯ç³»ç»Ÿï¼Œå‘˜å·¥å¯ä»¥é€šè¿‡ç”µè„‘æˆ–æ‰‹æœºè¿›è¡Œå†…éƒ¨é€šè¯å’Œå®¢æˆ·æ²Ÿé€šï¼ŒèŠ‚çœäº†ä¼ ç»Ÿç”µè¯è´¹ç”¨ã€‚\nAOIPï¼šä¸€åœºå¤§å‹éŸ³ä¹ä¼šä½¿ç”¨AOIPæŠ€æœ¯ï¼Œå°†ä¸åŒèˆå°åŒºåŸŸçš„éŸ³é¢‘ä¿¡å·é€šè¿‡IPç½‘ç»œé›†ä¸­å¤„ç†ï¼Œç¡®ä¿ç°åœºå’Œç›´æ’­çš„éŸ³é¢‘è´¨é‡ä¸€è‡´ã€‚\n\nå¦‚æœä½ æœ‰å…·ä½“çš„åº”ç”¨åœºæ™¯æˆ–éœ€è¦è¿›ä¸€æ­¥äº†è§£æŸä¸ªæŠ€æœ¯ç»†èŠ‚ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"AudioFlingerçš„åŸºæœ¬æ¦‚å¿µ","url":"/2025/08/28/%E9%9F%B3%E9%A2%91/AudioFlinger%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/","content":"AudioFlingerçš„åŸºæœ¬æ¦‚å¿µAudioFlinger æ˜¯ Android æ“ä½œç³»ç»Ÿä¸­æœ€æ ¸å¿ƒçš„åº•å±‚éŸ³é¢‘æœåŠ¡ä¹‹ä¸€ï¼Œå®ƒä½äºåŸç”Ÿï¼ˆNativeï¼‰å±‚ï¼Œæ˜¯æ•´ä¸ª Android éŸ³é¢‘æ¶æ„çš„åŸºçŸ³ã€‚\n1. AudioFlinger æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼ŒAudioFlinger æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ audioserver ç³»ç»Ÿè¿›ç¨‹ä¸­çš„å®ˆæŠ¤è¿›ç¨‹ï¼ˆDaemonï¼‰ï¼Œå®ƒçš„ä¸»è¦èŒè´£æ˜¯ï¼š\n\néŸ³é¢‘æ··åˆ (Mixing): å½“å¤šä¸ªåº”ç”¨ç¨‹åºï¼ˆå¦‚éŸ³ä¹æ’­æ”¾å™¨ã€æ¸¸æˆã€å¯¼èˆªè¯­éŸ³ã€ç³»ç»Ÿæç¤ºéŸ³ï¼‰åŒæ—¶æ’­æ”¾å£°éŸ³æ—¶ï¼ŒAudioFlinger è´Ÿè´£å°†è¿™äº›ä¸åŒçš„éŸ³é¢‘æµæ··åˆæˆä¸€ä¸ªå•ä¸€çš„è¾“å‡ºæµã€‚\néŸ³é¢‘è·¯ç”± (Routing): å†³å®šæ··åˆåçš„éŸ³é¢‘æœ€ç»ˆé€šè¿‡å“ªä¸ªè®¾å¤‡è¾“å‡ºï¼Œä¾‹å¦‚å†…ç½®æ‰¬å£°å™¨ã€æœ‰çº¿è€³æœºã€è“ç‰™è€³æœºã€HDMI æ¥å£ç­‰ã€‚å®ƒä¼šæ ¹æ®ç¡¬ä»¶è¿æ¥çŠ¶æ€å’Œç³»ç»Ÿç­–ç•¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨åˆ‡æ¢ã€‚\nç¡¬ä»¶æŠ½è±¡å±‚ (HAL) ç®¡ç†: AudioFlinger ä½œä¸ºä¸Šå±‚è½¯ä»¶ä¸åº•å±‚éŸ³é¢‘ç¡¬ä»¶ä¹‹é—´çš„æ¡¥æ¢ã€‚å®ƒä¸ç›´æ¥æ“ä½œç¡¬ä»¶ï¼Œè€Œæ˜¯é€šè¿‡å®šä¹‰å¥½çš„ Audio HAL (Hardware Abstraction Layer) æ¥å£ä¸å‚å•†æä¾›çš„éŸ³é¢‘é©±åŠ¨è¿›è¡Œé€šä¿¡ï¼Œä»è€Œå®ç°å¯¹éŸ³é¢‘ç¡¬ä»¶çš„æ§åˆ¶ï¼ˆå¦‚æ’­æ”¾ã€å½•éŸ³ã€è®¾ç½®å‚æ•°ï¼‰ã€‚\néŸ³é¢‘æ—¶é’ŸåŒæ­¥: ç¡®ä¿ä¸åŒéŸ³é¢‘æµçš„æ’­æ”¾å’Œå½•åˆ¶åœ¨æ—¶é—´ä¸Šä¿æŒåŒæ­¥ã€‚\nèµ„æºç®¡ç†: ç®¡ç†éŸ³é¢‘ç¡¬ä»¶èµ„æºï¼ˆå¦‚é‡‡æ ·ç‡ã€ä½æ·±ã€å£°é“æ•°ï¼‰çš„åˆ†é…å’Œå†²çªã€‚\n\nä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªâ€œéŸ³é¢‘äº¤é€šæŒ‡æŒ¥ä¸­å¿ƒâ€æˆ–â€œä¸“ä¸šçš„éŸ³é¢‘æ··éŸ³å¸ˆâ€ï¼Œå®ƒæ¥æ”¶æ¥è‡ªå„ä¸ªåº”ç”¨çš„â€œéŸ³è½¨â€ï¼ŒæŠŠå®ƒä»¬å®Œç¾åœ°æ··åˆåœ¨ä¸€èµ·ï¼Œç„¶åæŒ‡æŒ¥è¿™ä¸ªæ··åˆå¥½çš„â€œæ€»éŸ³è½¨â€é€šè¿‡æ­£ç¡®çš„â€œå‡ºå£â€ï¼ˆæ‰¬å£°å™¨ã€è€³æœºç­‰ï¼‰æ’­æ”¾å‡ºæ¥ã€‚\n2. ä¸ºä»€ä¹ˆè¦è®¾è®¡ AudioFlingerï¼Ÿè®¾è®¡ AudioFlinger ä¸»è¦ä¸ºäº†è§£å†³ä»¥ä¸‹å‡ ä¸ªå…³é”®é—®é¢˜ï¼š\n\nå¤šåº”ç”¨å¹¶å‘æ’­æ”¾: åœ¨æ™ºèƒ½æ‰‹æœºä¸Šï¼Œå¤šä¸ªåº”ç”¨éœ€è¦åŒæ—¶å‘å£°ï¼ˆå¦‚åå°å¬éŸ³ä¹ï¼Œå‰å°ç©æ¸¸æˆï¼Œçªç„¶æ¥ä¸ªå¾®ä¿¡è¯­éŸ³ï¼‰ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–çš„æ··éŸ³å™¨ï¼Œè¿™äº›å£°éŸ³ä¼šäº’ç›¸å†²çªæˆ–è¦†ç›–ã€‚AudioFlinger æä¾›äº†å¯é çš„æ··éŸ³èƒ½åŠ›ã€‚\nç¡¬ä»¶æŠ½è±¡ä¸å…¼å®¹æ€§: ä¸åŒæ‰‹æœºå‚å•†ä½¿ç”¨çš„éŸ³é¢‘èŠ¯ç‰‡ï¼ˆCodecï¼‰å’Œé©±åŠ¨åƒå·®ä¸‡åˆ«ã€‚AudioFlinger é€šè¿‡ Audio HAL æ¥å£å°†ä¸Šå±‚é€»è¾‘ä¸åº•å±‚ç¡¬ä»¶éš”ç¦»å¼€æ¥ã€‚è¿™æ ·ï¼ŒAndroid æ¡†æ¶å¯ä»¥ä¿æŒç¨³å®šï¼Œè€Œå‚å•†åªéœ€å®ç°ç¬¦åˆæ ‡å‡†çš„ HAL æ¥å£å³å¯é€‚é…è‡ªå·±çš„ç¡¬ä»¶ï¼Œæå¤§åœ°æé«˜äº†ç³»ç»Ÿçš„å¯ç§»æ¤æ€§å’Œå…¼å®¹æ€§ã€‚\næ€§èƒ½ä¸æ•ˆç‡: éŸ³é¢‘å¤„ç†å¯¹å®æ—¶æ€§è¦æ±‚å¾ˆé«˜ã€‚å°†æ ¸å¿ƒçš„éŸ³é¢‘å¤„ç†é€»è¾‘ï¼ˆæ··éŸ³ã€ç¡¬ä»¶äº¤äº’ï¼‰æ”¾åœ¨é«˜æ•ˆçš„ C++ åŸç”Ÿå±‚ï¼ˆAudioFlingerï¼‰ï¼Œè€Œä¸æ˜¯ Java è™šæ‹Ÿæœºå±‚ï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å»¶è¿Ÿï¼Œä¿è¯éŸ³é¢‘æ’­æ”¾çš„æµç•…æ€§ã€‚\næƒé™ä¸å®‰å…¨: ä½œä¸ºç³»ç»ŸæœåŠ¡ï¼ŒAudioFlinger å¯ä»¥é›†ä¸­ç®¡ç†å¯¹éŸ³é¢‘ç¡¬ä»¶çš„è®¿é—®æƒé™ï¼Œé˜²æ­¢æ¶æ„åº”ç”¨æ»¥ç”¨éŸ³é¢‘èµ„æºã€‚\nç»Ÿä¸€ç­–ç•¥æ‰§è¡Œ: è™½ç„¶é«˜çº§ç­–ç•¥ï¼ˆå¦‚éŸ³é‡è°ƒèŠ‚ã€é™éŸ³æ¨¡å¼ï¼‰ç”±ä¸Šå±‚çš„ AudioService ç®¡ç†ï¼Œä½†æœ€ç»ˆçš„æ‰§è¡Œï¼ˆå¦‚è°ƒæ•´å“ªä¸ªéŸ³é¢‘æµçš„å¢ç›Šï¼‰éœ€è¦ AudioFlinger æ¥å®Œæˆã€‚\n\næ€»ç»“è®¾è®¡ç›®çš„ï¼šAudioFlinger çš„å­˜åœ¨æ˜¯ä¸ºäº†æä¾›ä¸€ä¸ªé«˜æ•ˆã€ç¨³å®šã€å¯æ‰©å±•ä¸”ç¡¬ä»¶æ— å…³çš„åº•å±‚éŸ³é¢‘å¤„ç†æ ¸å¿ƒï¼Œç¡®ä¿ Android è®¾å¤‡èƒ½å¤Ÿå¯é åœ°å¤„ç†å¤æ‚çš„å¤šä»»åŠ¡éŸ³é¢‘åœºæ™¯ã€‚\n3. æ€ä¹ˆæ ·ä½¿ç”¨ AudioFlingerï¼Ÿï¼ˆå¼€å‘è€…è§†è§’ï¼‰é‡è¦æç¤ºï¼šAudioFlinger æ˜¯ä¸€ä¸ªç³»ç»Ÿçº§çš„åº•å±‚æœåŠ¡ï¼Œæ™®é€š Android åº”ç”¨å¼€å‘è€…ï¼ˆApp Developerï¼‰ä¸åº”è¯¥ã€ä¹Ÿæ— æ³•ç›´æ¥ä½¿ç”¨å®ƒã€‚ç›´æ¥è°ƒç”¨ AudioFlinger éœ€è¦ç³»ç»Ÿçº§æƒé™ï¼Œæ™®é€šåº”ç”¨æ— æ³•è·å¾—ã€‚\né‚£ä¹ˆï¼Œå¼€å‘è€…åº”è¯¥å¦‚ä½•â€œä½¿ç”¨â€éŸ³é¢‘åŠŸèƒ½å‘¢ï¼Ÿç­”æ¡ˆæ˜¯é€šè¿‡ Android SDK æä¾›çš„ä¸Šå±‚ APIï¼Œè¿™äº› API æœ€ç»ˆä¼šé€šè¿‡å±‚å±‚è°ƒç”¨ï¼Œç”± AudioFlinger æ¥å®Œæˆå®é™…çš„ç¡¬ä»¶æ“ä½œï¼š\n\næ’­æ”¾éŸ³é¢‘:\nä½¿ç”¨ MediaPlayer ç±»æ’­æ”¾éŸ³ä¹æˆ–è§†é¢‘ã€‚\nä½¿ç”¨ AudioTrack ç±»è¿›è¡Œæ›´åº•å±‚çš„ã€éœ€è¦ç²¾ç¡®æ§åˆ¶çš„éŸ³é¢‘æ’­æ”¾ï¼ˆå¦‚æ¸¸æˆéŸ³æ•ˆã€å®æ—¶æµï¼‰ã€‚\næµç¨‹: App è°ƒç”¨ MediaPlayer&#x2F;AudioTrack -&gt; libaudioclient.so (Native Client) -&gt; AudioFlinger (é€šè¿‡ Binder IPC) -&gt; Audio HAL -&gt; éŸ³é¢‘ç¡¬ä»¶ã€‚\n\n\nå½•åˆ¶éŸ³é¢‘:\nä½¿ç”¨ MediaRecorder ç±»å½•åˆ¶éŸ³é¢‘æ–‡ä»¶ã€‚\nä½¿ç”¨ AudioRecord ç±»è¿›è¡Œå®æ—¶éŸ³é¢‘é‡‡é›†ã€‚\næµç¨‹: App è°ƒç”¨ MediaRecorder&#x2F;AudioRecord -&gt; libaudioclient.so -&gt; AudioFlinger -&gt; Audio HAL -&gt; éº¦å…‹é£ç¡¬ä»¶ã€‚\n\n\næ§åˆ¶éŸ³é¢‘:\nä½¿ç”¨ AudioManager ç±»æ¥æ§åˆ¶éŸ³é‡ã€æŸ¥è¯¢éŸ³é¢‘çŠ¶æ€ã€è¯·æ±‚éŸ³é¢‘ç„¦ç‚¹ç­‰ã€‚AudioManager ä¼šä¸ AudioService é€šä¿¡ï¼ŒAudioService å†ä¸ AudioFlinger åä½œã€‚\n\n\n\nå¯¹äºç³»ç»Ÿå¼€å‘è€…æˆ– OEM å‚å•†ï¼šä»–ä»¬éœ€è¦ï¼š\n\nç†è§£ AudioFlinger çš„å·¥ä½œåŸç†ã€‚\nä¸ºç‰¹å®šçš„ç¡¬ä»¶å¹³å°å®ç°ç¬¦åˆ AOSP è§„èŒƒçš„ Audio HAL æ¨¡å—ã€‚\nå¯èƒ½éœ€è¦ä¿®æ”¹æˆ–å®šåˆ¶ AudioFlinger çš„æºä»£ç ï¼ˆåœ¨ frameworks/av/services/audioflinger/ ç›®å½•ä¸‹ï¼‰ä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ï¼ˆå¦‚ç‰¹æ®Šçš„éŸ³é¢‘å¤„ç†ç®—æ³•ã€ä½å»¶è¿Ÿæ¨¡å¼ï¼‰ã€‚\n\næ€»è€Œè¨€ä¹‹ï¼ŒAudioFlinger æ˜¯ Android éŸ³é¢‘ä¸–ç•Œçš„â€œå¹•åè‹±é›„â€ï¼Œæ™®é€šå¼€å‘è€…é€šè¿‡æ ‡å‡† API é—´æ¥åœ°åˆ©ç”¨å®ƒçš„å¼ºå¤§åŠŸèƒ½ï¼Œè€Œæ— éœ€å…³å¿ƒå…¶å¤æ‚çš„å†…éƒ¨å®ç°ã€‚\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"AudioTrackå’ŒOboeçš„å…³ç³»","url":"/2025/07/16/%E9%9F%B3%E9%A2%91/AudioTrack%E5%92%8COboe%E7%9A%84%E5%85%B3%E7%B3%BB/","content":"AudioTrackå’ŒOboeçš„å…³ç³»AudioTrack ä¸ä¼šç›´æ¥è°ƒç”¨ Oboe çš„ APIã€‚AudioTrack å’Œ Oboe æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„éŸ³é¢‘å¤„ç†æ–¹æ¡ˆï¼Œå®ƒä»¬åœ¨ Android ç³»ç»Ÿä¸­å¤„äºä¸åŒçš„å±‚çº§å¹¶ä¸”æœåŠ¡äºä¸åŒçš„ç›®çš„ã€‚\nAudioTrack\nå±‚æ¬¡ï¼šAudioTrack æ˜¯ Android Java API çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†ä¸€ä¸ªé«˜å±‚æ¥å£æ¥æ’­æ”¾ PCM éŸ³é¢‘æ•°æ®ã€‚\nå®ç°ï¼šå®ƒé€šè¿‡ Java å±‚è°ƒç”¨åº•å±‚çš„ Android éŸ³é¢‘ç³»ç»ŸæœåŠ¡æ¥å®ŒæˆéŸ³é¢‘æ’­æ”¾ä»»åŠ¡ã€‚è¿™äº›æœåŠ¡æœ€ç»ˆå¯èƒ½ä¼šä½¿ç”¨ OpenSL ES æˆ– AAudio æ¥ä¸ç¡¬ä»¶é€šä¿¡ï¼Œä½†è¿™æ˜¯åœ¨ Android ç³»ç»Ÿå†…éƒ¨å®ç°ç»†èŠ‚çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸æ˜¯ AudioTrack ç›´æ¥è°ƒç”¨è¿™äº› APIã€‚\n\nOboe\nå±‚æ¬¡ï¼šOboe æ˜¯ä¸€ä¸ªåŸºäº C++ çš„åº“ï¼Œè®¾è®¡ç”¨äº NDKï¼ˆNative Development Kitï¼‰å±‚é¢ï¼Œæä¾›äº†å¯¹ AAudio å’Œ OpenSL ES çš„å°è£…ã€‚\nå®ç°ï¼šOboe ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªæ›´æ˜“äºä½¿ç”¨çš„æ¥å£æ¥è®¿é—®è¿™äº›åº•å±‚éŸ³é¢‘ APIï¼Œä»è€Œèƒ½å¤Ÿå®ç°ä½å»¶è¿Ÿå’Œé«˜æ€§èƒ½çš„éŸ³é¢‘åº”ç”¨ã€‚\n\nå…³ç³»è¯´æ˜å°½ç®¡ AudioTrack å’Œ Oboe æœ€ç»ˆéƒ½ä¾èµ–äºåº•å±‚çš„éŸ³é¢‘æœåŠ¡æˆ– APIï¼ˆå¦‚ AAudio æˆ– OpenSL ESï¼‰ï¼Œä½†å®ƒä»¬æ˜¯å®Œå…¨ç‹¬ç«‹çš„è·¯å¾„ï¼š\n\nAudioTrack è·¯å¾„ï¼šJava åº”ç”¨ä»£ç  -&gt; Android Frameworkï¼ˆJava å±‚ï¼‰-&gt; Android éŸ³é¢‘æœåŠ¡ -&gt; åº•å±‚éŸ³é¢‘ APIï¼ˆAAudio&#x2F;OpenSL ESï¼‰-&gt; ç¡¬ä»¶ã€‚\nOboe è·¯å¾„ï¼šC&#x2F;C++ åº”ç”¨ä»£ç  -&gt; Oboe åº“ -&gt; åº•å±‚éŸ³é¢‘ APIï¼ˆAAudio&#x2F;OpenSL ESï¼‰-&gt; ç¡¬ä»¶ã€‚\n\nè¿™æ„å‘³ç€å¦‚æœä½ çš„åº”ç”¨ä½¿ç”¨äº† AudioTrack è¿›è¡ŒéŸ³é¢‘æ’­æ”¾ï¼Œåˆ™å…¶å·¥ä½œæµç¨‹ä¸ä¼šæ¶‰åŠåˆ° Oboe åº“ã€‚åä¹‹äº¦ç„¶ï¼Œä½¿ç”¨ Oboe å¼€å‘çš„åº”ç”¨ç¨‹åºä¹Ÿä¸ä¼šç›´æ¥ä½¿ç”¨ AudioTrackã€‚\næ€»ç»“\nAudioTrack æ˜¯ä¸€ä¸ªé€‚åˆå¤§å¤šæ•°æ™®é€šéŸ³é¢‘æ’­æ”¾éœ€æ±‚çš„é«˜å±‚ Java APIï¼Œè€Œ Oboe åˆ™æ˜¯ä¸€ä¸ªé¢å‘éœ€è¦é«˜æ€§èƒ½å’Œä½å»¶è¿ŸéŸ³é¢‘å¤„ç†éœ€æ±‚çš„ C++ åº“ã€‚\nå°½ç®¡ä¸¤è€…å¯èƒ½æœ€ç»ˆéƒ½ä¼šåˆ©ç”¨ç›¸åŒçš„åº•å±‚æŠ€æœ¯ï¼ˆå¦‚ AAudioï¼‰ï¼Œä½†å®ƒä»¬ä¹‹é—´æ²¡æœ‰ç›´æ¥è°ƒç”¨å…³ç³»ï¼Œè€Œæ˜¯å„è‡ªç‹¬ç«‹åœ°å®ç°äº†å¯¹æ¥åˆ°è¿™äº›åº•å±‚æŠ€æœ¯çš„æ–¹å¼ã€‚\n\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"SDPæ–‡ä»¶æè¿°","url":"/2025/07/24/%E9%9F%B3%E9%A2%91/SDP%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0/","content":"SDPæ–‡ä»¶æè¿°SDP ä¸­å¸¸è§çš„ payload typeï¼ˆPTï¼‰å€¼\næœ‰äº›ç¼–ç æœ‰é™æ€ payload type å€¼ï¼Œæ¯”å¦‚ï¼š\n\n\n\nPayload Type\nç¼–ç æ ¼å¼\né‡‡æ ·ç‡\nè¯´æ˜\n\n\n\n0\nPCMU (G.711 Î¼-law)\n8000\né»˜è®¤æ”¯æŒ\n\n\n3\nGSM\n8000\nè¾ƒè€çš„ç§»åŠ¨è¯­éŸ³ç¼–ç \n\n\n8\nPCMA (G.711 A-law)\n8000\nå’Œ PT 0 ä¸€æ ·å¸¸ç”¨\n\n\n9\nG.722\n16000\nå®½å¸¦è¯­éŸ³ï¼Œé«˜è´¨é‡\n\n\n13\nCN (Comfort Noise)\n8000\nèƒŒæ™¯å™ªå£°å¡«å……\n\n\n14\nMPA (MPEG Audio)\n-\néŸ³ä¹ç¼–ç \n\n\n107\nOPUS\n-\néŸ³ä¹ç¼–ç \n\n\n96~127\nåŠ¨æ€ç¼–ç \n-\nç”¨äºåå•†çš„åŠ¨æ€ payload type\n\n\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"éŸ³é¢‘æµå¤„ç†è¿‡ç¨‹","url":"/2026/01/16/%E9%9F%B3%E9%A2%91/%E9%9F%B3%E9%A2%91%E6%B5%81%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B/","content":"éŸ³é¢‘æ•°æ®é€šè¿‡è§£ç åæ’­æ”¾çš„è¿‡ç¨‹æ¶‰åŠå¤šä¸ªæ­¥éª¤ï¼Œä»åŸå§‹ç¼–ç çš„éŸ³é¢‘æµåˆ°æœ€ç»ˆé€šè¿‡å£°å¡è¾“å‡ºå£°éŸ³ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸€è¿‡ç¨‹çš„åŸºæœ¬æ­¥éª¤ï¼š\n1. è·å–ç¼–ç éŸ³é¢‘æ•°æ®é¦–å…ˆï¼Œä½ éœ€è¦ä»æºï¼ˆä¾‹å¦‚ç½‘ç»œç»„æ’­æµã€æ–‡ä»¶ç­‰ï¼‰è·å–ç¼–ç çš„éŸ³é¢‘æ•°æ®ã€‚è¿™é€šå¸¸æ˜¯ä¸€ä¸ªå‹ç¼©æ ¼å¼çš„æ•°æ®æµï¼Œæ¯”å¦‚AACã€MP3ç­‰ã€‚\n2. è§£ç éŸ³é¢‘æ•°æ®ä½¿ç”¨é€‚å½“çš„è§£ç å™¨å°†ç¼–ç çš„éŸ³é¢‘æ•°æ®è½¬æ¢ä¸ºæœªå‹ç¼©çš„PCMï¼ˆè„‰å†²ç¼–ç è°ƒåˆ¶ï¼‰æ ¼å¼ã€‚Androidæä¾›äº†MediaCodec APIæ¥å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å¦‚FFmpegè¿›è¡Œæ›´å¤æ‚çš„è§£ç éœ€æ±‚ã€‚\n\nè¾“å…¥ï¼šç¼–ç çš„éŸ³é¢‘æ•°æ®æµã€‚\nå¤„ç†ï¼šæ ¹æ®éŸ³é¢‘ç¼–ç æ ¼å¼é€‰æ‹©åˆé€‚çš„è§£ç å™¨ï¼Œå¹¶å°†æ•°æ®æµä¼ é€’ç»™è§£ç å™¨è¿›è¡Œè§£ç ã€‚\nè¾“å‡ºï¼šè§£ç åçš„PCMéŸ³é¢‘æ•°æ®ã€‚\n\n3. éŸ³é¢‘æ•°æ®ç¼“å†²ä¸å¤„ç†ä¸€æ—¦è·å¾—äº†PCMæ•°æ®ï¼Œå®ƒéœ€è¦è¢«é€‚å½“åœ°ç¼“å†²å’Œå¤„ç†ï¼Œä»¥ä¾¿èƒ½å¤Ÿå¹³æ»‘åœ°ä¼ è¾“åˆ°éŸ³é¢‘ç¡¬ä»¶è¿›è¡Œæ’­æ”¾ã€‚è¿™åŒ…æ‹¬è°ƒæ•´é‡‡æ ·ç‡ã€å£°é“æ•°ä»¥åŠæ ·æœ¬ä½æ·±åº¦ç­‰å‚æ•°ä»¥åŒ¹é…ç›®æ ‡è®¾å¤‡çš„è¦æ±‚ã€‚\n4. ä½¿ç”¨AAudioæˆ–AudioTrackæ’­æ”¾éŸ³é¢‘æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨AAudioæˆ–AudioTrack APIå°†PCMæ•°æ®å‘é€åˆ°éŸ³é¢‘ç¡¬ä»¶è¿›è¡Œæ’­æ”¾ã€‚\n\nAAudio: å¯¹äºä½å»¶è¿Ÿè¦æ±‚çš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªAAudioStreamå¹¶è®¾ç½®ç›¸åº”çš„å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒä¸­å†™å…¥è§£ç åçš„PCMæ•°æ®ã€‚\nç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š\nAAudioStream_write(stream, pcmData, numFrames, timeoutNanos);\n\nAudioTrack: å¯¹äºå¤§å¤šæ•°æ™®é€šåº”ç”¨åœºæ™¯ï¼Œä½¿ç”¨AudioTrackæ›´ä¸ºç®€ä¾¿ã€‚ä½ åªéœ€åˆ›å»ºä¸€ä¸ªAudioTrackå®ä¾‹ï¼Œå¹¶é€šè¿‡å…¶write()æ–¹æ³•ä¼ å…¥PCMæ•°æ®å³å¯ã€‚\nç¤ºä¾‹ä»£ç ç‰‡æ®µï¼ˆJavaï¼‰ï¼š\nAudioTrack audioTrack = new AudioTrack(...);audioTrack.write(pcmData, offsetInBytes, sizeInBytes);\n\n5. è¾“å‡ºåˆ°å£°å¡æœ€åï¼Œç»è¿‡ä¸Šè¿°æ­¥éª¤å¤„ç†åçš„PCMæ•°æ®ä¼šè¢«é€åˆ°å£°å¡è¿›è¡Œæ•°å­—æ¨¡æ‹Ÿè½¬æ¢ï¼ˆDACï¼‰ï¼Œç„¶åé€šè¿‡æ‰¬å£°å™¨æˆ–è€³æœºè¾“å‡ºä¸ºå¯å¬çš„å£°éŸ³ã€‚\næ€»ç»“æ•´ä¸ªæµç¨‹å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼š\n\nè·å–ç¼–ç éŸ³é¢‘æ•°æ®ï¼šä»ç½‘ç»œæˆ–æœ¬åœ°å­˜å‚¨è·å–éŸ³é¢‘æ•°æ®ã€‚\nè§£ç éŸ³é¢‘æ•°æ®ï¼šä½¿ç”¨è§£ç å™¨å°†ç¼–ç æ ¼å¼è½¬æ¢ä¸ºPCMæ ¼å¼ã€‚\nç¼“å†²ä¸å¤„ç†PCMæ•°æ®ï¼šå‡†å¤‡PCMæ•°æ®ç”¨äºæ’­æ”¾ã€‚\næ’­æ”¾éŸ³é¢‘æ•°æ®ï¼šé€šè¿‡AAudioæˆ–AudioTrack APIå°†PCMæ•°æ®å‘é€åˆ°éŸ³é¢‘ç¡¬ä»¶ã€‚\nè¾“å‡ºå£°éŸ³ï¼šéŸ³é¢‘ç¡¬ä»¶æ‰§è¡ŒDACå¹¶å°†ç»“æœè¾“å‡ºä¸ºå£°éŸ³ã€‚\n\næ¯ä¸€æ­¥éƒ½éœ€è¦ä»”ç»†è€ƒè™‘æ€§èƒ½å’Œå…¼å®¹æ€§é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å½“ä½ åœ¨è®¾è®¡ä¸€ä¸ªéœ€è¦é«˜ä¿çœŸåº¦å’Œ&#x2F;æˆ–ä½å»¶è¿Ÿçš„å®æ—¶éŸ³é¢‘åº”ç”¨æ—¶ã€‚\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"FFmpegé»˜è®¤è§£ç ","url":"/2025/07/21/%E9%9F%B3%E9%A2%91/FFmpeg%E9%BB%98%E8%AE%A4%E8%A7%A3%E7%A0%81/","content":"FFmpegé»˜è®¤è§£ç FFmpeg é»˜è®¤æ”¯æŒå¤§é‡çš„è§£ç å™¨ï¼Œè¿™äº›è§£ç å™¨è¦†ç›–äº†å¹¿æ³›çš„å¤šåª’ä½“æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯éƒ¨åˆ† FFmpeg é»˜è®¤æ”¯æŒçš„éŸ³é¢‘å’Œè§†é¢‘è§£ç å™¨åˆ—è¡¨ã€‚è¯·æ³¨æ„ï¼Œå®é™…æ”¯æŒçš„è§£ç å™¨å¯èƒ½ä¼šæ ¹æ®ä½ ç¼–è¯‘ FFmpeg æ—¶çš„é€‰æ‹©ï¼ˆå¦‚æ˜¯å¦å¯ç”¨äº†æŸäº›å¤–éƒ¨åº“ï¼‰æœ‰æ‰€ä¸åŒã€‚\né»˜è®¤æ”¯æŒçš„éƒ¨åˆ†éŸ³é¢‘è§£ç å™¨\nAAC (aac) - é«˜çº§éŸ³é¢‘ç¼–ç ã€‚\nAC3 (ac3, eac3) - Dolby DigitaléŸ³é¢‘æ ¼å¼ã€‚\nFLAC (flac) - æ— æŸéŸ³é¢‘å‹ç¼©ç¼–ç ã€‚\nMP3 (mp3, mp3float) - MPEG-1ã€MPEG-2 Audio Layer IIIã€‚\nOpus (opus) - Opus æ˜¯ä¸€ä¸ªå¼€æºçš„ã€æœ‰æŸå£°éŸ³ç¼–ç æ ¼å¼ï¼Œè®¾è®¡ç”¨äºäº’è”ç½‘ä¸Šçš„å®æ—¶åº”ç”¨ã€‚\nPCM (pcm_s16le, pcm_u8, ç­‰) - è„‰å†²ç¼–ç è°ƒåˆ¶ï¼Œç›´æ¥è¡¨ç¤ºæ¨¡æ‹Ÿä¿¡å·çš„æ ·æœ¬å€¼ã€‚\nVorbis (vorbis) - å¸¸è§äºOggå®¹å™¨ä¸­çš„éŸ³é¢‘æ ¼å¼ã€‚\nWMA (wmav1, wmav2) - Windows Media Audioã€‚\nG.722 (g722) - ITU-T G.722æ ‡å‡†å®šä¹‰çš„å®½é¢‘è¯­éŸ³ç¼–ç ã€‚\nu-law, A-law PCM (pcm_mulaw, pcm_alaw) - ç”¨äºç”µè¯ç½‘ç»œçš„éŸ³é¢‘ç¼–ç æ ¼å¼ã€‚\n\né»˜è®¤æ”¯æŒçš„éƒ¨åˆ†è§†é¢‘è§£ç å™¨\nH.264&#x2F;AVC (h264) - å¹¿æ³›ä½¿ç”¨çš„è§†é¢‘ç¼–ç æ ‡å‡†ã€‚\nHEVC&#x2F;H.265 (hevc) - é«˜æ•ˆè§†é¢‘ç¼–ç ï¼Œæ˜¯H.264çš„åç»­ç‰ˆæœ¬ã€‚\nVP8 (vp8) - Googleå¼€å‘çš„ä¸€ç§è§†é¢‘å‹ç¼©æ ¼å¼ã€‚\nVP9 (vp9) - VP8çš„åç»­ç‰ˆæœ¬ï¼Œç”±Googleå¼€å‘ã€‚\nMPEG-4 Part 2 (mpeg4) - ä¸€ç§åŸºäºä»¥å‰MPEGæ ‡å‡†çš„è§†é¢‘å‹ç¼©æ ‡å‡†ã€‚\nMPEG-1&#x2F;2 Video (mpeg1video, mpeg2video) - æ—©æœŸçš„è§†é¢‘å‹ç¼©æ ‡å‡†ã€‚\nTheora (theora) - ç”±Xiph.OrgåŸºé‡‘ä¼šç»´æŠ¤çš„ä¸€ä¸ªå…è´¹ä¸”å¼€æ”¾çš„è§†é¢‘å‹ç¼©æŠ€æœ¯ã€‚\nProRes (prores, prores_aw, prores_ks) - è‹¹æœå…¬å¸å¼€å‘çš„ä¸“ä¸šè§†é¢‘ç¼–ç æ ¼å¼ã€‚\n\næŸ¥çœ‹å®Œæ•´æ”¯æŒçš„è§£ç å™¨åˆ—è¡¨è¦æŸ¥çœ‹ä½ çš„ FFmpeg ç‰ˆæœ¬æ”¯æŒçš„æ‰€æœ‰è§£ç å™¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nffmpeg -decoders\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]},{"title":"éŸ³é¢‘é¢†åŸŸåŸºæœ¬æ¦‚å¿µ","url":"/2025/08/20/%E9%9F%B3%E9%A2%91/%E9%9F%B3%E9%A2%91%E9%A2%86%E5%9F%9F%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/","content":"éŸ³é¢‘é¢†åŸŸåŸºæœ¬æ¦‚å¿µ\n\n\næ¦‚å¿µ\nä½œç”¨\nå¸¸è§å€¼\n\n\n\né‡‡æ ·ç‡\nå†³å®šé¢‘ç‡èŒƒå›´\n44.1kHz, 48kHz\n\n\nä½æ·±åº¦\nå†³å®šåŠ¨æ€èŒƒå›´\n16bit, 24bit\n\n\næ¯”ç‰¹ç‡\nå†³å®šæ•°æ®é‡ä¸éŸ³è´¨\n128kbps, 320kbps, æ— æŸ\n\n\nç¼–ç æ–¹å¼\nå‹ç¼©ç®—æ³•ï¼ˆæœ‰æŸ&#x2F;æ— æŸï¼‰\nMP3, AAC, FLAC\n\n\nå£°é“æ•°\nç©ºé—´æ„Ÿä¸æ²‰æµ¸æ„Ÿ\nå•å£°é“ã€ç«‹ä½“å£°ã€5.1\n\n\nå®¹å™¨æ ¼å¼\næ–‡ä»¶å°è£…æ–¹å¼\nMP4, MKV, WAV, FLAC\n\n\nç¼–è§£ç å™¨\nå®ç°å‹ç¼©ä¸æ’­æ”¾\nLAMEï¼ˆMP3ï¼‰ã€FDK AAC\n\n\nå…ƒæ•°æ®\næ–‡ä»¶ä¿¡æ¯ç®¡ç†\nID3ã€Vorbis Comment\n\n\nå»¶è¿Ÿä¸æŠ–åŠ¨\nå½±å“å®æ—¶æ€§ä¸éŸ³è´¨\nä½å»¶è¿Ÿ &lt; 10ms\n\n\nå“åº¦æ ‡å‡†åŒ–\nç»Ÿä¸€æ’­æ”¾éŸ³é‡\nLUFS, ReplayGain\n\n\n1. é‡‡æ ·ç‡ï¼ˆSample Rateï¼‰å®šä¹‰ï¼šé‡‡æ ·ç‡æ˜¯æŒ‡æ¯ç§’é’Ÿå¯¹å£°éŸ³ä¿¡å·è¿›è¡Œé‡‡æ ·çš„æ¬¡æ•°ï¼Œå•ä½æ˜¯èµ«å…¹ï¼ˆHzï¼‰æˆ–åƒèµ«å…¹ï¼ˆkHzï¼‰ã€‚å®ƒå†³å®šäº†éŸ³é¢‘èƒ½è¿˜åŸçš„é¢‘ç‡èŒƒå›´ã€‚\nåŸç†ï¼šæ ¹æ®å¥ˆå¥æ–¯ç‰¹å®šç†ï¼ˆNyquist Theoremï¼‰ï¼Œé‡‡æ ·ç‡å¿…é¡»è‡³å°‘æ˜¯å£°éŸ³æœ€é«˜é¢‘ç‡çš„ä¸¤å€ï¼Œæ‰èƒ½å‡†ç¡®è¿˜åŸåŸå§‹å£°éŸ³ã€‚\nå¸¸è§é‡‡æ ·ç‡ï¼š\n\n8 kHzï¼šç”µè¯éŸ³è´¨ï¼Œè¯­éŸ³æ¸…æ™°å³å¯ã€‚\n16 kHzï¼šç½‘ç»œè¯­éŸ³ã€å¯¹è®²æœºç­‰ã€‚\n22.05 kHzï¼šæ¥è¿‘FMå¹¿æ’­éŸ³è´¨ã€‚\n44.1 kHzï¼šCD éŸ³è´¨æ ‡å‡†ï¼ˆå¦‚éŸ³ä¹CDï¼‰ã€‚\n48 kHzï¼šæ•°å­—è§†é¢‘ã€DVDã€æµåª’ä½“å¸¸ç”¨ã€‚\n96 kHz æˆ–æ›´é«˜ï¼šé«˜è§£æåº¦éŸ³é¢‘ï¼ˆHi-Res Audioï¼‰ï¼Œç”¨äºä¸“ä¸šå½•éŸ³ã€‚\n\n\nä¸¾ä¾‹ï¼š44.1 kHz è¡¨ç¤ºæ¯ç§’é‡‡é›† 44,100 ä¸ªå£°éŸ³æ ·æœ¬ã€‚\n\n\n2. æ¯”ç‰¹ç‡ï¼ˆBit Rateï¼‰å®šä¹‰ï¼šæ¯”ç‰¹ç‡æ˜¯æŒ‡æ¯ç§’é’Ÿä¼ è¾“æˆ–å­˜å‚¨çš„éŸ³é¢‘æ•°æ®é‡ï¼Œå•ä½æ˜¯ kbpsï¼ˆåƒæ¯”ç‰¹æ¯ç§’ï¼‰ã€‚\nä½œç”¨ï¼šæ¯”ç‰¹ç‡è¶Šé«˜ï¼ŒéŸ³é¢‘è´¨é‡é€šå¸¸è¶Šå¥½ï¼Œä½†æ–‡ä»¶ä¹Ÿè¶Šå¤§ã€‚\nå½±å“å› ç´ ï¼š\n\né‡‡æ ·ç‡\nä½æ·±åº¦ï¼ˆBit Depthï¼‰\nå£°é“æ•°ï¼ˆå¦‚å•å£°é“ã€ç«‹ä½“å£°ï¼‰\nç¼–ç æ–¹å¼ï¼ˆæœ‰æŸ&#x2F;æ— æŸï¼‰\n\nå¸¸è§æ¯”ç‰¹ç‡ä¸¾ä¾‹ï¼š\n\n128 kbpsï¼šMP3 å¸¸è§éŸ³è´¨ï¼Œé€‚åˆæµåª’ä½“ã€‚\n192 kbpsï¼šæ¥è¿‘CDéŸ³è´¨ï¼Œå¹³è¡¡è´¨é‡ä¸å¤§å°ã€‚\n320 kbpsï¼šMP3 æœ€é«˜è´¨é‡ã€‚\n1411 kbpsï¼šCD éŸ³è´¨ï¼ˆæœªå‹ç¼©ï¼Œ44.1kHz, 16bit, ç«‹ä½“å£°ï¼‰ã€‚\næ— æŸæ ¼å¼ï¼ˆå¦‚ FLACï¼‰ï¼š500â€“1000+ kbpsï¼Œä¿ç•™å…¨éƒ¨åŸå§‹ä¿¡æ¯ã€‚\n\n\næ³¨æ„ï¼šæ¯”ç‰¹ç‡ â‰  é‡‡æ ·ç‡ã€‚æ¯”ç‰¹ç‡æ˜¯â€œæ•°æ®æµé‡â€ï¼Œé‡‡æ ·ç‡æ˜¯â€œé‡‡æ ·é¢‘ç‡â€ã€‚\n\n\n3. ç¼–ç ï¼ˆEncodingï¼‰ &#x2F; éŸ³é¢‘æ ¼å¼å®šä¹‰ï¼šç¼–ç æ˜¯æŒ‡å°†æ¨¡æ‹ŸéŸ³é¢‘ä¿¡å·è½¬æ¢ä¸ºæ•°å­—æ•°æ®ï¼Œå¹¶é€šè¿‡ç‰¹å®šç®—æ³•è¿›è¡Œå‹ç¼©å’Œå­˜å‚¨çš„è¿‡ç¨‹ã€‚ä¸åŒçš„ç¼–ç æ–¹å¼å¯¹åº”ä¸åŒçš„éŸ³é¢‘æ ¼å¼ã€‚\nåˆ†ç±»ï¼š\nï¼ˆ1ï¼‰æ— æŸç¼–ç ï¼ˆLosslessï¼‰\nå‹ç¼©æ—¶ä¸ä¸¢å¤±ä»»ä½•åŸå§‹ä¿¡æ¯ï¼Œå¯å®Œå…¨è¿˜åŸã€‚\næ–‡ä»¶è¾ƒå¤§ã€‚\nå¸¸è§æ ¼å¼ï¼š\nFLACï¼ˆFree Lossless Audio Codecï¼‰ï¼šå¼€æºã€å¹¿æ³›æ”¯æŒã€‚\nALACï¼ˆApple Losslessï¼‰ï¼šè‹¹æœç”Ÿæ€ã€‚\nWAVã€AIFFï¼šæœªå‹ç¼©æˆ–æ— æŸå‹ç¼©ï¼Œè´¨é‡é«˜ä½†ä½“ç§¯å¤§ã€‚\n\n\n\nï¼ˆ2ï¼‰æœ‰æŸç¼–ç ï¼ˆLossyï¼‰\né€šè¿‡å»é™¤äººè€³ä¸æ˜“å¯Ÿè§‰çš„å£°éŸ³ä¿¡æ¯æ¥å¤§å¹…å‡å°æ–‡ä»¶ã€‚\nä¸å¯é€†ï¼ŒæŸå¤±éƒ¨åˆ†éŸ³è´¨ã€‚\nå¸¸è§æ ¼å¼ï¼š\nMP3ï¼ˆMPEG-1 Audio Layer IIIï¼‰ï¼šæœ€æ™®åŠã€‚\nAACï¼ˆAdvanced Audio Codingï¼‰ï¼šæ¯” MP3 æ›´é«˜æ•ˆï¼Œå¸¸ç”¨äº Appleã€YouTubeã€æµåª’ä½“ã€‚\nOGG Vorbisï¼šå¼€æºæ ¼å¼ï¼Œå¸¸ç”¨äºæ¸¸æˆå’Œç½‘é¡µã€‚\nWMAï¼ˆWindows Media Audioï¼‰ï¼šå¾®è½¯æ¨å‡ºã€‚\n\n\n\n\nä¸‰è€…å…³ç³»æ€»ç»“\n\n\næ¦‚å¿µ\nå†³å®šä»€ä¹ˆï¼Ÿ\nå½±å“\n\n\n\né‡‡æ ·ç‡\néŸ³é¢‘é¢‘ç‡èŒƒå›´ï¼ˆæ¸…æ™°åº¦ï¼‰\né«˜é¢‘è¿˜åŸèƒ½åŠ›\n\n\næ¯”ç‰¹ç‡\næ•°æ®é‡ï¼ˆéŸ³è´¨ä¸æ–‡ä»¶å¤§å°ï¼‰\nç»†èŠ‚ä¸°å¯Œåº¦ã€å™ªå£°\n\n\nç¼–ç \nå‹ç¼©æ–¹å¼ä¸æ ¼å¼\nå…¼å®¹æ€§ã€æ•ˆç‡ã€æœ‰æŸ&#x2F;æ— æŸ\n\n\n\nâœ… é«˜é‡‡æ ·ç‡ + é«˜æ¯”ç‰¹ç‡ + æ— æŸç¼–ç  &#x3D; é«˜ä¿çœŸéŸ³è´¨ï¼ˆå¦‚ FLAC 96kHz&#x2F;24bitï¼‰âŒ ä½é‡‡æ ·ç‡ + ä½æ¯”ç‰¹ç‡ + æœ‰æŸç¼–ç  &#x3D; è¯­éŸ³çº§éŸ³è´¨ï¼ˆå¦‚ 8kbps AMR è¯­éŸ³ï¼‰\n\n\nä¸¾ä¸ªå®é™…ä¾‹å­ä½ å¬ä¸€é¦– MP3 æ­Œæ›²ï¼š\n\næ ¼å¼ï¼šMP3ï¼ˆç¼–ç ï¼‰\né‡‡æ ·ç‡ï¼š44.1 kHz\næ¯”ç‰¹ç‡ï¼š128 kbps\n\nè¿™æ„å‘³ç€ï¼šæ¯ç§’é‡‡é›† 44,100 æ¬¡å£°éŸ³ï¼Œæ¯ç§’ä¼ è¾“ 128,000 æ¯”ç‰¹çš„æ•°æ®ï¼Œä½¿ç”¨æœ‰æŸå‹ç¼©ç®—æ³•ã€‚\n4. ä½æ·±åº¦ï¼ˆBit Depthï¼‰å®šä¹‰ï¼šä½æ·±åº¦è¡¨ç¤ºæ¯æ¬¡é‡‡æ ·æ—¶ç”¨æ¥è®°å½•å£°éŸ³æŒ¯å¹…ç²¾åº¦çš„æ¯”ç‰¹æ•°ï¼Œå†³å®šäº†éŸ³é¢‘çš„åŠ¨æ€èŒƒå›´å’Œä¿¡å™ªæ¯”ã€‚\nå¸¸è§å€¼ï¼š\n\n8 bitï¼šåŠ¨æ€èŒƒå›´å°ï¼ŒéŸ³è´¨ç²—ç³™ï¼Œå¤šç”¨äºæ—©æœŸæ¸¸æˆæˆ–è¯­éŸ³æç¤ºã€‚\n16 bitï¼šCD æ ‡å‡†ï¼ŒåŠ¨æ€èŒƒå›´çº¦ 96 dBï¼Œé€‚åˆå¤§å¤šæ•°éŸ³ä¹æ’­æ”¾ã€‚\n24 bitï¼šä¸“ä¸šå½•éŸ³å¸¸ç”¨ï¼ŒåŠ¨æ€èŒƒå›´å¯è¾¾ 144 dBï¼Œä¿ç•™æ›´å¤šç»†èŠ‚ï¼Œä¾¿äºåæœŸå¤„ç†ã€‚\n32 bit floatï¼šé«˜ç«¯å½•éŸ³ä¸æ··éŸ³ä½¿ç”¨ï¼Œå…è®¸æå¤§åŠ¨æ€èŒƒå›´ï¼Œé˜²æ­¢å‰Šæ³¢å¤±çœŸã€‚\n\n\nâœ… ä¸¾ä¾‹ï¼š16 bit å¯è¡¨ç¤º 65,536 ä¸ªæŒ¯å¹…çº§åˆ«ï¼›24 bit å¯è¡¨ç¤ºè¶…è¿‡ 1600 ä¸‡ä¸ªçº§åˆ«ã€‚\n\n\n5. å£°é“æ•°ï¼ˆChannelsï¼‰å®šä¹‰ï¼šæŒ‡éŸ³é¢‘ä¸­ç‹¬ç«‹å½•éŸ³æˆ–æ’­æ”¾çš„å£°éŸ³é€šé“æ•°é‡ã€‚\nå¸¸è§ç±»å‹ï¼š\n\nå•å£°é“ï¼ˆMonoï¼‰ï¼š1 ä¸ªå£°é“ï¼Œå£°éŸ³æ¥è‡ªä¸€ä¸ªæ–¹å‘ã€‚\nç«‹ä½“å£°ï¼ˆStereoï¼‰ï¼š2 ä¸ªå£°é“ï¼ˆå·¦ã€å³ï¼‰ï¼Œè¥é€ ç©ºé—´æ„Ÿï¼Œæœ€å¸¸è§äºéŸ³ä¹ã€‚\nç¯ç»•å£°ï¼ˆSurround Soundï¼‰ï¼š\n5.1 å£°é“ï¼šå·¦ã€ä¸­ã€å³ã€å·¦åã€å³å + ä½éŸ³ç‚®ï¼ˆ.1ï¼‰\n7.1 å£°é“ï¼šåœ¨ 5.1 åŸºç¡€ä¸Šå¢åŠ ä¸¤ä¸ªä¾§å‘å£°é“\n\n\nç©ºé—´éŸ³é¢‘ &#x2F; 3D éŸ³é¢‘ï¼šå¦‚ Dolby Atmosï¼Œæ”¯æŒå£°éŸ³åœ¨ä¸‰ç»´ç©ºé—´å®šä½ã€‚\n\n\nğŸ’¡ å£°é“è¶Šå¤šï¼Œæ–‡ä»¶è¶Šå¤§ï¼Œæ²‰æµ¸æ„Ÿè¶Šå¼ºï¼Œå¸¸ç”¨äºç”µå½±ã€æ¸¸æˆã€‚\n\n\n6. åŠ¨æ€èŒƒå›´ï¼ˆDynamic Rangeï¼‰å®šä¹‰ï¼šéŸ³é¢‘ä¸­æœ€å¼±å£°éŸ³ä¸æœ€å¼ºå£°éŸ³ä¹‹é—´çš„å·®å€¼ï¼Œå•ä½ä¸ºåˆ†è´ï¼ˆdBï¼‰ã€‚åæ˜ å£°éŸ³çš„â€œç»†è…»ç¨‹åº¦â€å’Œâ€œå†²å‡»åŠ›â€ã€‚\n\né«˜åŠ¨æ€èŒƒå›´ï¼šèƒ½åŒæ—¶è¡¨ç°è½»æŸ”è€³è¯­å’Œéœ‡æ’¼çˆ†ç‚¸ã€‚\nä½åŠ¨æ€èŒƒå›´ï¼šå£°éŸ³è¶‹äºâ€œå¹³å¦â€ï¼Œå¸¸å› å‹ç¼©è¿‡åº¦å¯¼è‡´ã€‚\n\n\nğŸ§ åœ¨æµåª’ä½“ä¸­å¸¸ä½¿ç”¨åŠ¨æ€å‹ç¼©ï¼ˆDynamic Compressionï¼‰æ¥ç¼©å°åŠ¨æ€èŒƒå›´ï¼Œä½¿å£°éŸ³åœ¨å˜ˆæ‚ç¯å¢ƒä¸­æ›´æ¸…æ™°ã€‚\n\n\n7. éŸ³é¢‘å®¹å™¨ï¼ˆContainer &#x2F; Formatï¼‰å®šä¹‰ï¼šå®¹å™¨æ˜¯å°è£…éŸ³é¢‘ï¼ˆæœ‰æ—¶è¿˜åŒ…æ‹¬è§†é¢‘ã€å­—å¹•ç­‰ï¼‰æ•°æ®çš„æ–‡ä»¶æ ¼å¼ï¼Œå†³å®šäº†å“ªäº›ç¼–ç å¯ä»¥è¢«åŒ…å«ã€‚\nå¸¸è§å®¹å™¨ä¸æ”¯æŒçš„ç¼–ç ï¼š\n\n\n\nå®¹å™¨æ ¼å¼\nå¸¸è§ç”¨é€”\næ”¯æŒçš„éŸ³é¢‘ç¼–ç \n\n\n\n.mp4\nè§†é¢‘&#x2F;éŸ³ä¹\nAAC, MP3, ALAC\n\n\n.mkv\né«˜æ¸…è§†é¢‘\nAAC, DTS, AC3, FLAC\n\n\n.avi\nè€å¼è§†é¢‘\nMP3, PCM\n\n\n.wav\næœªå‹ç¼©éŸ³é¢‘\nPCMï¼ˆé€šå¸¸ï¼‰\n\n\n.flac\næ— æŸéŸ³ä¹\nFLACï¼ˆæœ¬èº«æ˜¯ç¼–ç +å®¹å™¨ï¼‰\n\n\n.m4a\nApple éŸ³ä¹\nAAC, ALAC\n\n\n.ogg\nå¼€æºåª’ä½“\nVorbis, Opus\n\n\n\nâš ï¸ æ³¨æ„ï¼š.mp3 æ˜¯ç¼–ç ä¹Ÿæ˜¯å®¹å™¨ï¼›è€Œ .mp4 æ˜¯å®¹å™¨ï¼Œå†…éƒ¨éŸ³é¢‘å¯ä»¥æ˜¯ AAC æˆ–å…¶ä»–ã€‚\n\n\n8. ç¼–ç å™¨ä¸è§£ç å™¨ï¼ˆCodecï¼‰å®šä¹‰ï¼šCodec &#x3D; Encoder + Decoderï¼Œå³â€œç¼–è§£ç å™¨â€ï¼Œæ˜¯å®ç°éŸ³é¢‘å‹ç¼©ä¸è¿˜åŸçš„è½¯&#x2F;ç¡¬ä»¶ç®—æ³•ã€‚\n\nç¼–ç å™¨ï¼ˆEncoderï¼‰ï¼šå°†åŸå§‹éŸ³é¢‘å‹ç¼©æˆ MP3ã€AAC ç­‰æ ¼å¼ã€‚\nè§£ç å™¨ï¼ˆDecoderï¼‰ï¼šæ’­æ”¾æ—¶å°†å‹ç¼©æ•°æ®è¿˜åŸä¸ºå¯å¬å£°éŸ³ã€‚\n\n\nâœ… ä¸åŒè®¾å¤‡æ˜¯å¦æ”¯æŒæŸç§ codecï¼Œå†³å®šäº†ä½ èƒ½å¦æ’­æ”¾æŸä¸ªéŸ³é¢‘æ–‡ä»¶ã€‚\n\n\n9. æŠ–åŠ¨ï¼ˆJitterï¼‰ä¸å»¶è¿Ÿï¼ˆLatencyï¼‰\næŠ–åŠ¨ï¼ˆJitterï¼‰ï¼šæ•°å­—éŸ³é¢‘ä¼ è¾“ä¸­ï¼Œé‡‡æ ·æ—¶é—´ä¸ç²¾ç¡®å¯¼è‡´çš„å¤±çœŸï¼Œå½±å“éŸ³è´¨ã€‚\nå»¶è¿Ÿï¼ˆLatencyï¼‰ï¼šå£°éŸ³ä»è¾“å…¥åˆ°è¾“å‡ºçš„æ—¶é—´å·®ï¼Œå¯¹å½•éŸ³ã€ç›´æ’­ã€æ¸¸æˆè‡³å…³é‡è¦ã€‚\né«˜å»¶è¿Ÿï¼šè¯´è¯åå›å¬æœ‰æ˜æ˜¾å»¶è¿Ÿï¼Œå½±å“ä½“éªŒã€‚\nä½å»¶è¿Ÿï¼šä¸“ä¸šå£°å¡é€šå¸¸æ”¯æŒ &lt; 10ms å»¶è¿Ÿã€‚\n\n\n\n\n10. å…ƒæ•°æ®ï¼ˆMetadataï¼‰å®šä¹‰ï¼šåµŒå…¥åœ¨éŸ³é¢‘æ–‡ä»¶ä¸­çš„é™„åŠ ä¿¡æ¯ï¼Œä¸å‚ä¸å£°éŸ³æ’­æ”¾ï¼Œä½†ç”¨äºç®¡ç†å’Œè¯†åˆ«ã€‚\nå¸¸è§å…ƒæ•°æ®ï¼ˆID3 Tagsï¼‰ï¼š\n\næ­Œåã€æ­Œæ‰‹ã€ä¸“è¾‘ã€å¹´ä»½\nå°é¢å›¾ç‰‡ã€æ­Œè¯ã€æµæ´¾ã€éŸ³é‡æ ‡å‡†åŒ–ä¿¡æ¯ï¼ˆReplayGainï¼‰\n\n\nğŸ“ ä¾‹å¦‚ï¼šä½ åœ¨éŸ³ä¹ App ä¸­çœ‹åˆ°çš„å°é¢å’Œæ­Œè¯ï¼Œå°±æ˜¯å…ƒæ•°æ®ã€‚\n\n\n11. å½’ä¸€åŒ–ä¸å“åº¦æ ‡å‡†åŒ–ï¼ˆNormalization &#x2F; Loudness Normalizationï¼‰\nå³°å€¼å½’ä¸€åŒ–ï¼šè°ƒæ•´éŸ³é¢‘æœ€å¤§éŸ³é‡ä¸è¶…è¿‡ 0 dBï¼Œé˜²æ­¢çˆ†éŸ³ã€‚\nå“åº¦å½’ä¸€åŒ–ï¼šä½¿ä¸åŒæ­Œæ›²æ’­æ”¾æ—¶å¬èµ·æ¥â€œä¸€æ ·å“â€ï¼Œå¦‚ Spotify ä½¿ç”¨ -14 LUFS æ ‡å‡†ã€‚\n\n\nğŸ”Š ç›®çš„æ˜¯é¿å…â€œä¸€é¦–æ­Œå¾ˆè½»ï¼Œä¸‹ä¸€é¦–å¾ˆç‚¸è€³æœµâ€ã€‚\n\n\n12. é‡‡æ ·ç²¾åº¦ä¸é‡åŒ–è¯¯å·®ï¼ˆQuantization Errorï¼‰\nå½“æ¨¡æ‹Ÿä¿¡å·è½¬æ¢ä¸ºæ•°å­—æ—¶ï¼Œç”±äºä½æ·±åº¦æœ‰é™ï¼Œå®é™…æŒ¯å¹…ä¼šè¢«â€œå››èˆäº”å…¥â€åˆ°æœ€è¿‘çš„æ•°å€¼ï¼Œäº§ç”Ÿå¾®å°è¯¯å·®ï¼Œç§°ä¸ºé‡åŒ–å™ªå£°ã€‚\né«˜ä½æ·±åº¦ï¼ˆå¦‚ 24bitï¼‰å¯æ˜¾è‘—é™ä½æ­¤è¯¯å·®ã€‚\n\n","categories":["éŸ³é¢‘"],"tags":["éŸ³é¢‘"]}]